"use strict";(self.webpackChunksensorCardiaco=self.webpackChunksensorCardiaco||[]).push([[179],{2011:(nt,xe,B)=>{B.d(xe,{Dh:()=>ge,GT:()=>pe,cc:()=>Oe,hO:()=>Be,on:()=>W,pX:()=>ae,xv:()=>_e});var b=B(4650),re=B(127),L=B(5813);nt=B.hmd(nt);const de=["ngOnDestroy"],ae=(me,Ye,Je,Re={})=>new Proxy(me,{get:(Ee,De)=>Je.runOutsideAngular(()=>{var Ve;if(me[De])return!(null===(Ve=Re?.spy)||void 0===Ve)&&Ve.get&&Re.spy.get(De,me[De]),me[De];if(de.indexOf(De)>-1)return()=>{};const $e=Ye.toPromise().then($=>{const ye=$&&$[De];return"function"==typeof ye?ye.bind($):ye&&ye.then?ye.then(J=>Je.run(()=>J)):Je.run(()=>ye)});return new Proxy(()=>{},{get:($,ye)=>$e[ye],apply:($,ye,J)=>$e.then(ie=>{var le;const oe=ie&&ie(...J);return!(null===(le=Re?.spy)||void 0===le)&&le.apply&&Re.spy.apply(De,J,oe),oe})})})}),pe=(me,Ye)=>{Ye.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(Re=>{Object.defineProperty(me.prototype,Re,Object.getOwnPropertyDescriptor(Je.prototype||Je,Re))})})};class fe{constructor(Ye){return Ye}}const ge=new b.OlP("angularfire2.app.options"),_e=new b.OlP("angularfire2.app.name");function W(me,Ye,Je){const Ee="object"==typeof Je&&Je||{};Ee.name=Ee.name||"string"==typeof Je&&Je||"[DEFAULT]";const Ve=re.Z.apps.filter($e=>$e&&$e.name===Ee.name)[0]||Ye.runOutsideAngular(()=>re.Z.initializeApp(me,Ee));try{JSON.stringify(me)!==JSON.stringify(Ve.options)&&G("error",`${Ve.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Ve)}const G=(me,...Ye)=>{(0,b.X6Q)()&&typeof console<"u"&&console[me](...Ye)},te={provide:fe,useFactory:W,deps:[ge,b.R0b,[new b.FiY,_e]]};let Be=(()=>{class me{constructor(Je){re.Z.registerVersion("angularfire",L.q4.full,"core"),re.Z.registerVersion("angularfire",L.q4.full,"app-compat"),re.Z.registerVersion("angular",b.q4F.full,Je.toString())}static initializeApp(Je,Re){return{ngModule:me,providers:[{provide:ge,useValue:Je},{provide:_e,useValue:Re}]}}}return me.\u0275fac=function(Je){return new(Je||me)(b.LFG(b.Lbi))},me.\u0275mod=b.oAB({type:me}),me.\u0275inj=b.cJS({providers:[te]}),me})();function Oe(me,Ye,Je,Re,Ee){const[,De,Ve]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===me)||[];if(De)return function Ce(me,Ye){try{return me.toString()===Ye.toString()}catch{return me===Ye}}(Ee,Ve)||(ve("error",`${Ye} was already initialized on the ${Je} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Ee,was:Ve})),De;{const $e=Re();return globalThis.\u0275AngularfireInstanceCache.push([me,$e,Ee]),$e}}const Qe=!!nt.hot,ve=(me,...Ye)=>{(0,b.X6Q)()&&typeof console<"u"&&console[me](...Ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(nt,xe,B)=>{B.d(xe,{q4:()=>Bi,iC:()=>jn,HU:()=>pl,vb:()=>Us,JM:()=>Zi});var b=B(4650),re=B(5867),L=B(5861),de=B(9681),ae=B(2090),pe=B(4859),fe=B(1877),ge=B(8766);const _e="@firebase/installations",W="0.5.12",te=`w:${W}`,Be="FIS_v2",Ye=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(S){return S instanceof ae.ZR&&S.code.includes("request-failed")}function Re({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Ee(S){return{token:S.token,requestStatus:2,expiresIn:ie(S.expiresIn),creationTime:Date.now()}}function De(S,T){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,L.Z)(function*(S,T){const V=(yield T.json()).error;return Ye.create("request-failed",{requestName:S,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function $e({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function $(S,{refreshToken:T}){const P=$e(S);return P.append("Authorization",function le(S){return`${Be} ${S}`}(T)),P}function ye(S){return J.apply(this,arguments)}function J(){return(J=(0,L.Z)(function*(S){const T=yield S();return T.status>=500&&T.status<600?S():T})).apply(this,arguments)}function ie(S){return Number(S.replace("s","000"))}function oe(S,T){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:T},{fid:P}){const V=Re(S),ee=$e(S),ce=T.getImmediate({optional:!0});if(ce){const mt=yield ce.getHeartbeatsHeader();mt&&ee.append("x-firebase-client",mt)}const He={method:"POST",headers:ee,body:JSON.stringify({fid:P,authVersion:Be,appId:S.appId,sdkVersion:te})},st=yield ye(()=>fetch(V,He));if(st.ok){const mt=yield st.json();return{fid:mt.fid||P,registrationStatus:2,refreshToken:mt.refreshToken,authToken:Ee(mt.authToken)}}throw yield De("Create Installation",st)})).apply(this,arguments)}function ke(S){return new Promise(T=>{setTimeout(T,S)})}const Lt=/^[cdef][\w-]{21}$/;function Ge(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const P=function sn(S){return function ct(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Lt.test(P)?P:""}catch{return""}}function An(S){return`${S.appName}!${S.appId}`}const $t=new Map;function Wt(S,T){const P=An(S);tn(P,T),function Xs(S,T){const P=function hi(){return!Ai&&"BroadcastChannel"in self&&(Ai=new BroadcastChannel("[Firebase] FID Change"),Ai.onmessage=S=>{tn(S.data.key,S.data.fid)}),Ai}();P&&P.postMessage({key:S,fid:T}),function Mi(){0===$t.size&&Ai&&(Ai.close(),Ai=null)}()}(P,T)}function tn(S,T){const P=$t.get(S);if(P)for(const V of P)V(T)}let Ai=null;const Ri="firebase-installations-store";let ji=null;function Js(){return ji||(ji=(0,ge.X3)("firebase-installations-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore(Ri)}})),ji}function Ze(S,T){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,L.Z)(function*(S,T){const P=An(S),ee=(yield Js()).transaction(Ri,"readwrite"),ce=ee.objectStore(Ri),Te=yield ce.get(P);return yield ce.put(T,P),yield ee.done,(!Te||Te.fid!==T.fid)&&Wt(S,T.fid),T})).apply(this,arguments)}function Mr(S){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,L.Z)(function*(S){const T=An(S),V=(yield Js()).transaction(Ri,"readwrite");yield V.objectStore(Ri).delete(T),yield V.done})).apply(this,arguments)}function Hi(S,T){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,L.Z)(function*(S,T){const P=An(S),ee=(yield Js()).transaction(Ri,"readwrite"),ce=ee.objectStore(Ri),Te=yield ce.get(P),He=T(Te);return void 0===He?yield ce.delete(P):yield ce.put(He,P),yield ee.done,He&&(!Te||Te.fid!==He.fid)&&Wt(S,He.fid),He})).apply(this,arguments)}function Rn(S){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,L.Z)(function*(S){let T;const P=yield Hi(S.appConfig,V=>{const ee=un(V),ce=ut(S,ee);return T=ce.registrationPromise,ce.installationEntry});return""===P.fid?{installationEntry:yield T}:{installationEntry:P,registrationPromise:T}})).apply(this,arguments)}function un(S){return bt(S||{fid:Ge(),registrationStatus:0})}function ut(S,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Ye.create("app-offline"))};const P={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},V=function et(S,T){return on.apply(this,arguments)}(S,P);return{installationEntry:P,registrationPromise:V}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Qn(S)}:{installationEntry:T}}function on(){return(on=(0,L.Z)(function*(S,T){try{const P=yield oe(S,T);return Ze(S.appConfig,P)}catch(P){throw Je(P)&&409===P.customData.serverCode?yield Mr(S.appConfig):yield Ze(S.appConfig,{fid:T.fid,registrationStatus:0}),P}})).apply(this,arguments)}function Qn(S){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,L.Z)(function*(S){let T=yield yi(S.appConfig);for(;1===T.registrationStatus;)yield ke(100),T=yield yi(S.appConfig);if(0===T.registrationStatus){const{installationEntry:P,registrationPromise:V}=yield Rn(S);return V||P}return T})).apply(this,arguments)}function yi(S){return Hi(S,T=>{if(!T)throw Ye.create("installation-not-found");return bt(T)})}function bt(S){return function Rr(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Zt(S,T){return rr.apply(this,arguments)}function rr(){return(rr=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:T},P){const V=zt(S,P),ee=$(S,P),ce=T.getImmediate({optional:!0});if(ce){const mt=yield ce.getHeartbeatsHeader();mt&&ee.append("x-firebase-client",mt)}const He={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:te,appId:S.appId}})},st=yield ye(()=>fetch(V,He));if(st.ok)return Ee(yield st.json());throw yield De("Generate Auth Token",st)})).apply(this,arguments)}function zt(S,{fid:T}){return`${Re(S)}/${T}/authTokens:generate`}function Q(S){return z.apply(this,arguments)}function z(){return(z=(0,L.Z)(function*(S,T=!1){let P;const V=yield Hi(S.appConfig,ce=>{if(!tt(ce))throw Ye.create("not-registered");const Te=ce.authToken;if(!T&&dn(Te))return ce;if(1===Te.requestStatus)return P=H(S,T),ce;{if(!navigator.onLine)throw Ye.create("app-offline");const He=$n(ce);return P=Se(S,He),He}});return P?yield P:V.authToken})).apply(this,arguments)}function H(S,T){return K.apply(this,arguments)}function K(){return(K=(0,L.Z)(function*(S,T){let P=yield q(S.appConfig);for(;1===P.authToken.requestStatus;)yield ke(100),P=yield q(S.appConfig);const V=P.authToken;return 0===V.requestStatus?Q(S,T):V})).apply(this,arguments)}function q(S){return Hi(S,T=>{if(!tt(T))throw Ye.create("not-registered");return function Rt(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Se(S,T){return je.apply(this,arguments)}function je(){return(je=(0,L.Z)(function*(S,T){try{const P=yield Zt(S,T),V=Object.assign(Object.assign({},T),{authToken:P});return yield Ze(S.appConfig,V),P}catch(P){if(!Je(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const V=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Ze(S.appConfig,V)}else yield Mr(S.appConfig);throw P}})).apply(this,arguments)}function tt(S){return void 0!==S&&2===S.registrationStatus}function dn(S){return 2===S.requestStatus&&!function Yt(S){const T=Date.now();return T<S.creationTime||S.creationTime+S.expiresIn<T+36e5}(S)}function $n(S){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:T})}function _n(){return(_n=(0,L.Z)(function*(S){const T=S,{installationEntry:P,registrationPromise:V}=yield Rn(T);return V?V.catch(console.error):Q(T).catch(console.error),P.fid})).apply(this,arguments)}function Er(){return(Er=(0,L.Z)(function*(S,T=!1){const P=S;return yield vi(P),(yield Q(P,T)).token})).apply(this,arguments)}function vi(S){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,L.Z)(function*(S){const{registrationPromise:T}=yield Rn(S);T&&(yield T)})).apply(this,arguments)}function Xr(S){return Ye.create("missing-app-config-values",{valueName:S})}const eo="installations",yn=S=>{const T=S.getProvider("app").getImmediate(),P=function pn(S){if(!S||!S.options)throw Xr("App Configuration");if(!S.name)throw Xr("App Name");const T=["projectId","apiKey","appId"];for(const P of T)if(!S.options[P])throw Xr(P);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(T);return{app:T,appConfig:P,heartbeatServiceProvider:(0,de._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ds=S=>{const T=S.getProvider("app").getImmediate(),P=(0,de._getProvider)(T,eo).getImmediate();return{getId:()=>function It(S){return _n.apply(this,arguments)}(P),getToken:ee=>function Fn(S){return Er.apply(this,arguments)}(P,ee)}};(function Yl(){(0,de._registerComponent)(new pe.wA(eo,yn,"PUBLIC")),(0,de._registerComponent)(new pe.wA("installations-internal",Ds,"PRIVATE"))})(),(0,de.registerVersion)(_e,W),(0,de.registerVersion)(_e,W,"esm2017");const Cr="@firebase/remote-config",Vn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Nd{constructor(T,P,V,ee){this.client=T,this.storage=P,this.storageCache=V,this.logger=ee}isCachedDataFresh(T,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-P,ee=V<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${ee}.`),ee}fetch(T){var P=this;return(0,L.Z)(function*(){const[V,ee]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(ee&&P.isCachedDataFresh(T.cacheMaxAgeMillis,V))return ee;T.eTag=ee&&ee.eTag;const ce=yield P.client.fetch(T),Te=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Te.push(P.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Te),ce})()}}function ec(S=navigator){return S.languages&&S.languages[0]||S.language}class tc{constructor(T,P,V,ee,ce,Te){this.firebaseInstallations=T,this.sdkVersion=P,this.namespace=V,this.projectId=ee,this.apiKey=ce,this.appId=Te}fetch(T){var P=this;return(0,L.Z)(function*(){var V,ee,ce;const[Te,He]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,dt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},it={sdk_version:P.sdkVersion,app_instance_id:Te,app_instance_id_token:He,app_id:P.appId,language_code:ec()},Tt={method:"POST",headers:dt,body:JSON.stringify(it)},li=fetch(mt,Tt),Ei=new Promise((vo,ps)=>{T.signal.addEventListener(()=>{const Sc=new Error("The operation was aborted.");Sc.name="AbortError",ps(Sc)})});let ds;try{yield Promise.race([li,Ei]),ds=yield li}catch(vo){let ps="fetch-client-network";throw"AbortError"===(null===(V=vo)||void 0===V?void 0:V.name)&&(ps="fetch-timeout"),Vn.create(ps,{originalErrorMessage:null===(ee=vo)||void 0===ee?void 0:ee.message})}let gi=ds.status;const yo=ds.headers.get("ETag")||void 0;let hs,fs;if(200===ds.status){let vo;try{vo=yield ds.json()}catch(ps){throw Vn.create("fetch-client-parse",{originalErrorMessage:null===(ce=ps)||void 0===ce?void 0:ce.message})}hs=vo.entries,fs=vo.state}if("INSTANCE_STATE_UNSPECIFIED"===fs?gi=500:"NO_CHANGE"===fs?gi=304:("NO_TEMPLATE"===fs||"EMPTY_CONFIG"===fs)&&(hs={}),304!==gi&&200!==gi)throw Vn.create("fetch-status",{httpStatus:gi});return{status:gi,eTag:yo,config:hs}})()}}class gf{constructor(T,P){this.client=T,this.storage=P}fetch(T){var P=this;return(0,L.Z)(function*(){const V=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(T,V)})()}attemptFetch(T,{throttleEndTimeMillis:P,backoffCount:V}){var ee=this;return(0,L.Z)(function*(){yield function zn(S,T){return new Promise((P,V)=>{const ee=Math.max(T-Date.now(),0),ce=setTimeout(P,ee);S.addEventListener(()=>{clearTimeout(ce),V(Vn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,P);try{const ce=yield ee.client.fetch(T);return yield ee.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function nu(S){if(!(S instanceof ae.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ce))throw ce;const Te={throttleEndTimeMillis:Date.now()+(0,ae.$s)(V),backoffCount:V+1};return yield ee.storage.setThrottleMetadata(Te),ee.attemptFetch(T,Te)}})()}}class iu{constructor(T,P,V,ee,ce){this.app=T,this._client=P,this._storageCache=V,this._storage=ee,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function nc(S,T){var P;const V=S.target.error||void 0;return Vn.create(T,{originalErrorMessage:V&&(null===(P=V)||void 0===P?void 0:P.message)})}const ns="app_namespace_store";class vf{constructor(T,P,V,ee=function yf(){return new Promise((S,T)=>{var P;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=ee=>{T(nc(ee,"storage-open"))},V.onsuccess=ee=>{S(ee.target.result)},V.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(ns,{keyPath:"compositeKey"})}}catch(V){T(Vn.create("storage-open",{originalErrorMessage:null===(P=V)||void 0===P?void 0:P.message}))}})}()){this.appId=T,this.appName=P,this.namespace=V,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var P=this;return(0,L.Z)(function*(){const V=yield P.openDbPromise;return new Promise((ee,ce)=>{var Te;const st=V.transaction([ns],"readonly").objectStore(ns),mt=P.createCompositeKey(T);try{const dt=st.get(mt);dt.onerror=it=>{ce(nc(it,"storage-get"))},dt.onsuccess=it=>{const Tt=it.target.result;ee(Tt?Tt.value:void 0)}}catch(dt){ce(Vn.create("storage-get",{originalErrorMessage:null===(Te=dt)||void 0===Te?void 0:Te.message}))}})})()}set(T,P){var V=this;return(0,L.Z)(function*(){const ee=yield V.openDbPromise;return new Promise((ce,Te)=>{var He;const mt=ee.transaction([ns],"readwrite").objectStore(ns),dt=V.createCompositeKey(T);try{const it=mt.put({compositeKey:dt,value:P});it.onerror=Tt=>{Te(nc(Tt,"storage-set"))},it.onsuccess=()=>{ce()}}catch(it){Te(Vn.create("storage-set",{originalErrorMessage:null===(He=it)||void 0===He?void 0:He.message}))}})})()}delete(T){var P=this;return(0,L.Z)(function*(){const V=yield P.openDbPromise;return new Promise((ee,ce)=>{var Te;const st=V.transaction([ns],"readwrite").objectStore(ns),mt=P.createCompositeKey(T);try{const dt=st.delete(mt);dt.onerror=it=>{ce(nc(it,"storage-delete"))},dt.onsuccess=()=>{ee()}}catch(dt){ce(Vn.create("storage-delete",{originalErrorMessage:null===(Te=dt)||void 0===Te?void 0:Te.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class su{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,L.Z)(function*(){const P=T.storage.getLastFetchStatus(),V=T.storage.getLastSuccessfulFetchTimestampMillis(),ee=T.storage.getActiveConfig(),ce=yield P;ce&&(T.lastFetchStatus=ce);const Te=yield V;Te&&(T.lastSuccessfulFetchTimestampMillis=Te);const He=yield ee;He&&(T.activeConfig=He)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Fa(){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,L.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function is(){(0,de._registerComponent)(new pe.wA("remote-config",function S(T,{instanceIdentifier:P}){const V=T.getProvider("app").getImmediate(),ee=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vn.create("registration-window");if(!(0,ae.hl)())throw Vn.create("indexed-db-unavailable");const{projectId:ce,apiKey:Te,appId:He}=V.options;if(!ce)throw Vn.create("registration-project-id");if(!Te)throw Vn.create("registration-api-key");if(!He)throw Vn.create("registration-app-id");const st=new vf(He,V.name,P=P||"firebase"),mt=new su(st),dt=new fe.Yd(Cr);dt.logLevel=fe.in.ERROR;const it=new tc(ee,de.SDK_VERSION,P,ce,Te,He),Tt=new gf(it,st),li=new Nd(Tt,st,mt,dt),Ei=new iu(V,li,mt,st,dt);return function Jn(S){const T=(0,ae.m9)(S);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Ei),Ei},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Cr,"0.3.11"),(0,de.registerVersion)(Cr,"0.3.11","esm2017")}();const Ir="/firebase-messaging-sw.js",Or="/firebase-cloud-messaging-push-scope",kr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ho="google.c.a.c_id",Ba="google.c.a.c_l",ic="google.c.a.ts",Fd="google.c.a.e";var Nr=(()=>{return(S=Nr||(Nr={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Nr;var S})();function Wi(S){const T=new Uint8Array(S);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ki(S){const P=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(P),ee=new Uint8Array(V.length);for(let ce=0;ce<V.length;++ce)ee[ce]=V.charCodeAt(ce);return ee}const no="fcm_token_details_db",pi="fcm_token_object_Store";function Bd(S){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,L.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(no))return null;let T=null;return(yield(0,ge.X3)(no,5,{upgrade:(V=(0,L.Z)(function*(ee,ce,Te,He){var st;if(ce<2||!ee.objectStoreNames.contains(pi))return;const mt=He.objectStore(pi),dt=yield mt.index("fcmSenderId").get(S);if(yield mt.clear(),dt)if(2===ce){const it=dt;if(!it.auth||!it.p256dh||!it.endpoint)return;T={token:it.fcmToken,createTime:null!==(st=it.createTime)&&void 0!==st?st:Date.now(),subscriptionOptions:{auth:it.auth,p256dh:it.p256dh,endpoint:it.endpoint,swScope:it.swScope,vapidKey:"string"==typeof it.vapidKey?it.vapidKey:Wi(it.vapidKey)}}}else if(3===ce){const it=dt;T={token:it.fcmToken,createTime:it.createTime,subscriptionOptions:{auth:Wi(it.auth),p256dh:Wi(it.p256dh),endpoint:it.endpoint,swScope:it.swScope,vapidKey:Wi(it.vapidKey)}}}else if(4===ce){const it=dt;T={token:it.fcmToken,createTime:it.createTime,subscriptionOptions:{auth:Wi(it.auth),p256dh:Wi(it.p256dh),endpoint:it.endpoint,swScope:it.swScope,vapidKey:Wi(it.vapidKey)}}}}),function(ce,Te,He,st){return V.apply(this,arguments)})})).close(),yield(0,ge.Lj)(no),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),wn(T)?T:null;var V}),Ud.apply(this,arguments)}function wn(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:T}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const zi="firebase-messaging-store";let wi=null;function Va(){return wi||(wi=(0,ge.X3)("firebase-messaging-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore(zi)}})),wi}function io(S){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,L.Z)(function*(S){const T=ar(S),V=yield(yield Va()).transaction(zi).objectStore(zi).get(T);if(V)return V;{const ee=yield Bd(S.appConfig.senderId);if(ee)return yield Ft(S,ee),ee}})).apply(this,arguments)}function Ft(S,T){return ja.apply(this,arguments)}function ja(){return(ja=(0,L.Z)(function*(S,T){const P=ar(S),ee=(yield Va()).transaction(zi,"readwrite");return yield ee.objectStore(zi).put(T,P),yield ee.done,T})).apply(this,arguments)}function xs(S){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,L.Z)(function*(S){const T=ar(S),V=(yield Va()).transaction(zi,"readwrite");yield V.objectStore(zi).delete(T),yield V.done})).apply(this,arguments)}function ar({appConfig:S}){return S.appId}const bn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wt(S,T){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,L.Z)(function*(S,T){var P;const V=yield sc(S),ee=Ae(T),ce={method:"POST",headers:V,body:JSON.stringify(ee)};let Te;try{Te=yield(yield fetch(Fr(S.appConfig),ce)).json()}catch(He){throw bn.create("token-subscribe-failed",{errorInfo:null===(P=He)||void 0===P?void 0:P.toString()})}if(Te.error)throw bn.create("token-subscribe-failed",{errorInfo:Te.error.message});if(!Te.token)throw bn.create("token-subscribe-no-token");return Te.token})).apply(this,arguments)}function jd(S,T){return za.apply(this,arguments)}function za(){return(za=(0,L.Z)(function*(S,T){var P;const V=yield sc(S),ee=Ae(T.subscriptionOptions),ce={method:"PATCH",headers:V,body:JSON.stringify(ee)};let Te;try{Te=yield(yield fetch(`${Fr(S.appConfig)}/${T.token}`,ce)).json()}catch(He){throw bn.create("token-update-failed",{errorInfo:null===(P=He)||void 0===P?void 0:P.toString()})}if(Te.error)throw bn.create("token-update-failed",{errorInfo:Te.error.message});if(!Te.token)throw bn.create("token-update-no-token");return Te.token})).apply(this,arguments)}function Ga(S,T){return rc.apply(this,arguments)}function rc(){return(rc=(0,L.Z)(function*(S,T){var P;const ee={method:"DELETE",headers:yield sc(S)};try{const Te=yield(yield fetch(`${Fr(S.appConfig)}/${T}`,ee)).json();if(Te.error)throw bn.create("token-unsubscribe-failed",{errorInfo:Te.error.message})}catch(ce){throw bn.create("token-unsubscribe-failed",{errorInfo:null===(P=ce)||void 0===P?void 0:P.toString()})}})).apply(this,arguments)}function Fr({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function sc(S){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,L.Z)(function*({appConfig:S,installations:T}){const P=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Ae({p256dh:S,auth:T,endpoint:P,vapidKey:V}){const ee={web:{endpoint:P,auth:T,p256dh:S}};return V!==kr&&(ee.web.applicationPubKey=V),ee}const Pt=6048e5;function oc(S){return ac.apply(this,arguments)}function ac(){return(ac=(0,L.Z)(function*(S){const T=yield lc(S.swRegistration,S.vapidKey),P={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:T.endpoint,auth:Wi(T.getKey("auth")),p256dh:Wi(T.getKey("p256dh"))},V=yield io(S.firebaseDependencies);if(V){if(cu(V.subscriptionOptions,P))return Date.now()>=V.createTime+Pt?ro(S,{token:V.token,createTime:Date.now(),subscriptionOptions:P}):V.token;try{yield Ga(S.firebaseDependencies,V.token)}catch(ee){console.warn(ee)}return zo(S.firebaseDependencies,P)}return zo(S.firebaseDependencies,P)})).apply(this,arguments)}function En(S){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,L.Z)(function*(S){const T=yield io(S.firebaseDependencies);T&&(yield Ga(S.firebaseDependencies,T.token),yield xs(S.firebaseDependencies));const P=yield S.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function ro(S,T){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,L.Z)(function*(S,T){try{const P=yield jd(S.firebaseDependencies,T),V=Object.assign(Object.assign({},T),{token:P,createTime:Date.now()});return yield Ft(S.firebaseDependencies,V),P}catch(P){throw yield En(S),P}})).apply(this,arguments)}function zo(S,T){return Go.apply(this,arguments)}function Go(){return(Go=(0,L.Z)(function*(S,T){const V={token:yield wt(S,T),createTime:Date.now(),subscriptionOptions:T};return yield Ft(S,V),V.token})).apply(this,arguments)}function lc(S,T){return cc.apply(this,arguments)}function cc(){return(cc=(0,L.Z)(function*(S,T){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ki(T)})})).apply(this,arguments)}function cu(S,T){return T.vapidKey===S.vapidKey&&T.endpoint===S.endpoint&&T.auth===S.auth&&T.p256dh===S.p256dh}function Ko(S){const T={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Cn(S,T){if(!T.notification)return;S.notification={};const P=T.notification.title;P&&(S.notification.title=P);const V=T.notification.body;V&&(S.notification.body=V);const ee=T.notification.image;ee&&(S.notification.image=ee)}(T,S),function Dr(S,T){!T.data||(S.data=T.data)}(T,S),function uc(S,T){var P,V,ee,ce,Te;if(!(T.fcmOptions||null!==(P=T.notification)&&void 0!==P&&P.click_action))return;S.fcmOptions={};const He=null!==(ee=null===(V=T.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==ee?ee:null===(ce=T.notification)||void 0===ce?void 0:ce.click_action;He&&(S.fcmOptions.link=He);const st=null===(Te=T.fcmOptions)||void 0===Te?void 0:Te.analytics_label;st&&(S.fcmOptions.analyticsLabel=st)}(T,S),T}function As(S){return"object"==typeof S&&!!S&&Ho in S}function Br(S,T){const P=[];for(let V=0;V<S.length;V++)P.push(S.charAt(V)),V<T.length&&P.push(T.charAt(V));return P.join("")}function Zo(S){return bn.create("missing-app-config-values",{valueName:S})}Br("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Br("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class wf{constructor(T,P,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function bf(S){if(!S||!S.options)throw Zo("App Configuration Object");if(!S.name)throw Zo("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:P}=S;for(const V of T)if(!P[V])throw Zo(V);return{appName:S.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:ee,installations:P,analyticsProvider:V}}_delete(){return Promise.resolve()}}function dc(S){return Za.apply(this,arguments)}function Za(){return(Za=(0,L.Z)(function*(S){var T;try{S.swRegistration=yield navigator.serviceWorker.register(Ir,{scope:Or}),S.swRegistration.update().catch(()=>{})}catch(P){throw bn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=P)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function Yo(S,T){return hc.apply(this,arguments)}function hc(){return(hc=(0,L.Z)(function*(S,T){if(!T&&!S.swRegistration&&(yield dc(S)),T||!S.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw bn.create("invalid-sw-registration");S.swRegistration=T}})).apply(this,arguments)}function qo(S,T){return fc.apply(this,arguments)}function fc(){return(fc=(0,L.Z)(function*(S,T){T?S.vapidKey=T:S.vapidKey||(S.vapidKey=kr)})).apply(this,arguments)}function qa(){return(qa=(0,L.Z)(function*(S,T){if(!navigator)throw bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bn.create("permission-blocked");return yield qo(S,T?.vapidKey),yield Yo(S,T?.serviceWorkerRegistration),oc(S)})).apply(this,arguments)}function pc(S,T,P){return gc.apply(this,arguments)}function gc(){return(gc=(0,L.Z)(function*(S,T,P){const V=mc(T);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:P[Ho],message_name:P[Ba],message_time:P[ic],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function mc(S){switch(S){case Nr.NOTIFICATION_CLICKED:return"notification_open";case Nr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ms(){return(Ms=(0,L.Z)(function*(S,T){const P=T.data;if(!P.isFirebaseMessaging)return;S.onMessageHandler&&P.messageType===Nr.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Ko(P)):S.onMessageHandler.next(Ko(P)));const V=P.data;As(V)&&"1"===V[Fd]&&(yield pc(S,P.messageType,V))})).apply(this,arguments)}const Rs="@firebase/messaging",Gn=S=>{const T=new wf(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function uu(S,T){return Ms.apply(this,arguments)}(T,P)),T},Ni=S=>{const T=S.getProvider("messaging").getImmediate();return{getToken:V=>function Ya(S,T){return qa.apply(this,arguments)}(T,V)}};function du(){return _c.apply(this,arguments)}function _c(){return(_c=(0,L.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function gn(){(0,de._registerComponent)(new pe.wA("messaging",Gn,"PUBLIC")),(0,de._registerComponent)(new pe.wA("messaging-internal",Ni,"PRIVATE")),(0,de.registerVersion)(Rs,"0.9.16"),(0,de.registerVersion)(Rs,"0.9.16","esm2017")}();const ao="analytics",pu="firebase_id",Ps="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ja="https://www.googletagmanager.com/gtag/js",In=new fe.Yd("@firebase/analytics");function el(S){return Promise.all(S.map(T=>T.catch(P=>P)))}function tl(S,T){const P=document.createElement("script");P.src=`${Ja}?l=${S}&id=${T}`,P.async=!0,document.head.appendChild(P)}function $d(S,T,P,V,ee,ce){return lo.apply(this,arguments)}function lo(){return(lo=(0,L.Z)(function*(S,T,P,V,ee,ce){const Te=V[ee];try{if(Te)yield T[Te];else{const st=(yield el(P)).find(mt=>mt.measurementId===ee);st&&(yield T[st.appId])}}catch(He){In.error(He)}S("config",ee,ce)})).apply(this,arguments)}function co(S,T,P,V,ee){return Os.apply(this,arguments)}function Os(){return(Os=(0,L.Z)(function*(S,T,P,V,ee){try{let ce=[];if(ee&&ee.send_to){let Te=ee.send_to;Array.isArray(Te)||(Te=[Te]);const He=yield el(P);for(const st of Te){const mt=He.find(it=>it.measurementId===st),dt=mt&&T[mt.appId];if(!dt){ce=[];break}ce.push(dt)}}0===ce.length&&(ce=Object.values(T)),yield Promise.all(ce),S("event",V,ee||{})}catch(ce){In.error(ce)}})).apply(this,arguments)}function mu(){const S=window.document.getElementsByTagName("script");for(const T of Object.values(S))if(T.src&&T.src.includes(Ja))return T;return null}const ti=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ea=new class Sr{constructor(T={},P=1e3){this.throttleMetadata=T,this.intervalMillis=P}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,P){this.throttleMetadata[T]=P}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function yu(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function ta(S){return bc.apply(this,arguments)}function bc(){return(bc=(0,L.Z)(function*(S){var T;const{appId:P,apiKey:V}=S,ee={method:"GET",headers:yu(V)},ce=Ps.replace("{app-id}",P),Te=yield fetch(ce,ee);if(200!==Te.status&&304!==Te.status){let He="";try{const st=yield Te.json();null!==(T=st.error)&&void 0!==T&&T.message&&(He=st.error.message)}catch{}throw ti.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:He})}return Te.json()})).apply(this,arguments)}function Pn(S){return lr.apply(this,arguments)}function lr(){return(lr=(0,L.Z)(function*(S,T=ea,P){const{appId:V,apiKey:ee,measurementId:ce}=S.options;if(!V)throw ti.create("no-app-id");if(!ee){if(ce)return{measurementId:ce,appId:V};throw ti.create("no-api-key")}const Te=T.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new sl;return setTimeout((0,L.Z)(function*(){He.abort()}),void 0!==P?P:6e4),il({appId:V,apiKey:ee,measurementId:ce},Te,He,T)})).apply(this,arguments)}function il(S,T,P){return ks.apply(this,arguments)}function ks(){return(ks=(0,L.Z)(function*(S,{throttleEndTimeMillis:T,backoffCount:P},V,ee=ea){var ce,Te;const{appId:He,measurementId:st}=S;try{yield na(V,T)}catch(mt){if(st)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${st} provided in the "measurementId" field in the local Firebase config. [${null===(ce=mt)||void 0===ce?void 0:ce.message}]`),{appId:He,measurementId:st};throw mt}try{const mt=yield ta(S);return ee.deleteThrottleMetadata(He),mt}catch(mt){const dt=mt;if(!rl(dt)){if(ee.deleteThrottleMetadata(He),st)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${st} provided in the "measurementId" field in the local Firebase config. [${dt?.message}]`),{appId:He,measurementId:st};throw mt}const it=503===Number(null===(Te=dt?.customData)||void 0===Te?void 0:Te.httpStatus)?(0,ae.$s)(P,ee.intervalMillis,30):(0,ae.$s)(P,ee.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+it,backoffCount:P+1};return ee.setThrottleMetadata(He,Tt),In.debug(`Calling attemptFetch again in ${it} millis`),il(S,Tt,V,ee)}})).apply(this,arguments)}function na(S,T){return new Promise((P,V)=>{const ee=Math.max(T-Date.now(),0),ce=setTimeout(P,ee);S.addEventListener(()=>{clearTimeout(ce),V(ti.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function rl(S){if(!(S instanceof ae.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}class sl{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let os,ra;function as(){return(as=(0,L.Z)(function*(S,T,P,V,ee){if(ee&&ee.global)S("event",P,V);else{const ce=yield T;S("event",P,Object.assign(Object.assign({},V),{send_to:ce}))}})).apply(this,arguments)}function Ls(S){ra=S}function Cc(S){os=S}function ls(){return al.apply(this,arguments)}function al(){return(al=(0,L.Z)(function*(){var S;if(!(0,ae.hl)())return In.warn(ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(T){return In.warn(ti.create("indexeddb-unavailable",{errorInfo:null===(S=T)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function fo(){return(fo=(0,L.Z)(function*(S,T,P,V,ee,ce,Te){var He;const st=Pn(S);st.then(li=>{P[li.measurementId]=li.appId,S.options.measurementId&&li.measurementId!==S.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${li.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(li=>In.error(li)),T.push(st);const mt=ls().then(li=>{if(li)return V.getId()}),[dt,it]=yield Promise.all([st,mt]);mu()||tl(ce,dt.measurementId),ra&&(ee("consent","default",ra),Ls(void 0)),ee("js",new Date);const Tt=null!==(He=Te?.config)&&void 0!==He?He:{};return Tt.origin="firebase",Tt.update=!0,null!=it&&(Tt[pu]=it),ee("config",dt.measurementId,Tt),os&&(ee("set",os),Cc(void 0)),dt.measurementId})).apply(this,arguments)}class ll{constructor(T){this.app=T}_delete(){return delete Li[this.app.options.appId],Promise.resolve()}}let Li={},cs=[];const po={};let mo,Fs,go="dataLayer",sa=!1;function Pg(S,T,P){!function Ef(){const S=[];if((0,ae.ru)()&&S.push("This is a browser extension environment."),(0,ae.zI)()||S.push("Cookies are not available."),S.length>0){const T=S.map((V,ee)=>`(${ee+1}) ${V}`).join(" "),P=ti.create("invalid-analytics-context",{errorInfo:T});In.warn(P.message)}}();const V=S.options.appId;if(!V)throw ti.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw ti.create("no-api-key");In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Li[V])throw ti.create("already-exists",{id:V});if(!sa){!function gu(S){let T=[];Array.isArray(window[S])?T=window[S]:window[S]=T}(go);const{wrappedGtag:ce,gtagCore:Te}=function Qo(S,T,P,V,ee){let ce=function(...Te){window[V].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(ce=window[ee]),window[ee]=function nl(S,T,P,V){function ce(){return(ce=(0,L.Z)(function*(Te,He,st){try{"event"===Te?yield co(S,T,P,He,st):"config"===Te?yield $d(S,T,P,V,He,st):"consent"===Te?S("consent","update",st):S("set",He)}catch(mt){In.error(mt)}})).apply(this,arguments)}return function ee(Te,He,st){return ce.apply(this,arguments)}}(ce,S,T,P),{gtagCore:ce,wrappedGtag:window[ee]}}(Li,cs,po,go,"gtag");Fs=ce,mo=Te,sa=!0}return Li[V]=function ho(S,T,P,V,ee,ce,Te){return fo.apply(this,arguments)}(S,cs,po,T,mo,go,P),new ll(S)}function kg(){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,L.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const Bt="@firebase/analytics";!function _t(){(0,de._registerComponent)(new pe.wA(ao,(T,{options:P})=>Pg(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,de._registerComponent)(new pe.wA("analytics-internal",function S(T){try{const P=T.getProvider(ao).getImmediate();return{logEvent:(V,ee,ce)=>function cr(S,T,P,V){S=(0,ae.m9)(S),function vu(S,T,P,V,ee){return as.apply(this,arguments)}(Fs,Li[S.app.options.appId],T,P,V).catch(ee=>In.error(ee))}(P,V,ee,ce)}}catch(P){throw ti.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,de.registerVersion)(Bt,"0.8.0"),(0,de.registerVersion)(Bt,"0.8.0","esm2017")}();var Gt=B(4408),Et=B(7565);const oa=new class us extends Et.v{}(class Fi extends Gt.o{constructor(T,P){super(T,P),this.scheduler=T,this.work=P}schedule(T,P=0){return P>0?super.schedule(T,P):(this.delay=P,this.state=T,this.scheduler.flush(this),this)}execute(T,P){return P>0||this.closed?super.execute(T,P):this._execute(T,P)}requestAsyncId(T,P,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(T,P,V):T.flush(this)}});var Kt=B(4986),Bs=B(8505),Vr=B(9468),aa=B(5363);const Bi=new b.GfV("7.4.1"),jr="__angularfire_symbol__analyticsIsSupportedValue",Ki="__angularfire_symbol__analyticsIsSupported",ul="__angularfire_symbol__remoteConfigIsSupportedValue",dl="__angularfire_symbol__remoteConfigIsSupported",hl="__angularfire_symbol__messagingIsSupportedValue",Tr="__angularfire_symbol__messagingIsSupported";function Zi(S,T,P){if(T){if(1===T.length)return T[0];const ce=T.filter(Te=>Te.app===P);if(1===ce.length)return ce[0]}return P.container.getProvider(S).getImmediate({optional:!0})}globalThis[Ki]||(globalThis[Ki]=kg().then(S=>globalThis[jr]=S).catch(()=>globalThis[jr]=!1)),globalThis[Tr]||(globalThis[Tr]=du().then(S=>globalThis[hl]=S).catch(()=>globalThis[hl]=!1)),globalThis[dl]||(globalThis[dl]=Fa().then(S=>globalThis[ul]=S).catch(()=>globalThis[ul]=!1));const Us=(S,T)=>{const P=T?[T]:(0,re.C6)(),V=[];return P.forEach(ee=>{ee.container.getProvider(S).instances.forEach(Te=>{V.includes(Te)||V.push(Te)})}),V};function ca(){}class Ut{constructor(T,P=oa){this.zone=T,this.delegate=P}now(){return this.delegate.now()}schedule(T,P,V){const ee=this.zone;return this.delegate.schedule(function(Te){ee.runGuarded(()=>{T.apply(this,[Te])})},P,V)}}class qt{constructor(T){this.zone=T,this.task=null}call(T,P){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)),P.pipe((0,Bs.b)({next:V,complete:V,error:V})).subscribe(T).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pl=(()=>{class S{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Ut(Zone.current)),this.insideAngular=P.run(()=>new Ut(Zone.current,Kt.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(P){return new(P||S)(b.LFG(b.R0b))},S.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Yi(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function jn(S){return Yi(),function dr(S){return function(P){return(P=P.lift(new qt(S.ngZone))).pipe((0,Vr.R)(S.outsideAngular),(0,aa.Q)(S.insideAngular))}}(Yi())(S)}},2090:(nt,xe,B)=>{B.d(xe,{$s:()=>Rr,BH:()=>Be,DV:()=>Ct,Dv:()=>Hi,GJ:()=>Wt,L:()=>ge,LL:()=>Ne,Pz:()=>Mt,Sg:()=>Oe,UG:()=>ve,UI:()=>Xs,US:()=>pe,Wj:()=>Ln,Yr:()=>Ve,ZB:()=>G,ZR:()=>oe,b$:()=>Je,cI:()=>Lt,dS:()=>ut,eu:()=>ye,g5:()=>L,gK:()=>Oi,gQ:()=>ji,h$:()=>fe,hl:()=>$,hu:()=>re,jU:()=>me,lb:()=>un,m9:()=>zt,ne:()=>Js,p$:()=>W,pd:()=>Ri,r3:()=>_i,ru:()=>Ye,tV:()=>_e,uI:()=>Qe,ug:()=>et,vZ:()=>Ai,w1:()=>Ee,w9:()=>$t,xO:()=>Qr,xb:()=>tn,z$:()=>Ce,zI:()=>J,zd:()=>wr});const re=function(Q,z){if(!Q)throw L(z)},L=function(Q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Q)},de=function(Q){const z=[];let H=0;for(let K=0;K<Q.length;K++){let q=Q.charCodeAt(K);q<128?z[H++]=q:q<2048?(z[H++]=q>>6|192,z[H++]=63&q|128):55296==(64512&q)&&K+1<Q.length&&56320==(64512&Q.charCodeAt(K+1))?(q=65536+((1023&q)<<10)+(1023&Q.charCodeAt(++K)),z[H++]=q>>18|240,z[H++]=q>>12&63|128,z[H++]=q>>6&63|128,z[H++]=63&q|128):(z[H++]=q>>12|224,z[H++]=q>>6&63|128,z[H++]=63&q|128)}return z},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,z){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let q=0;q<Q.length;q+=3){const Se=Q[q],je=q+1<Q.length,tt=je?Q[q+1]:0,dn=q+2<Q.length,Yt=dn?Q[q+2]:0;let It=(15&tt)<<2|Yt>>6,_n=63&Yt;dn||(_n=64,je||(It=64)),K.push(H[Se>>2],H[(3&Se)<<4|tt>>4],H[It],H[_n])}return K.join("")},encodeString(Q,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(Q):this.encodeByteArray(de(Q),z)},decodeString(Q,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(Q):function(Q){const z=[];let H=0,K=0;for(;H<Q.length;){const q=Q[H++];if(q<128)z[K++]=String.fromCharCode(q);else if(q>191&&q<224){const Se=Q[H++];z[K++]=String.fromCharCode((31&q)<<6|63&Se)}else if(q>239&&q<365){const dn=((7&q)<<18|(63&Q[H++])<<12|(63&Q[H++])<<6|63&Q[H++])-65536;z[K++]=String.fromCharCode(55296+(dn>>10)),z[K++]=String.fromCharCode(56320+(1023&dn))}else{const Se=Q[H++],je=Q[H++];z[K++]=String.fromCharCode((15&q)<<12|(63&Se)<<6|63&je)}}return z.join("")}(this.decodeStringToByteArray(Q,z))},decodeStringToByteArray(Q,z){this.init_();const H=z?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let q=0;q<Q.length;){const Se=H[Q.charAt(q++)],tt=q<Q.length?H[Q.charAt(q)]:0;++q;const Yt=q<Q.length?H[Q.charAt(q)]:64;++q;const Rt=q<Q.length?H[Q.charAt(q)]:64;if(++q,null==Se||null==tt||null==Yt||null==Rt)throw Error();K.push(Se<<2|tt>>4),64!==Yt&&(K.push(tt<<4&240|Yt>>2),64!==Rt&&K.push(Yt<<6&192|Rt))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},fe=function(Q){const z=de(Q);return pe.encodeByteArray(z,!0)},ge=function(Q){return fe(Q).replace(/\./g,"")},_e=function(Q){try{return pe.decodeString(Q,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function W(Q){return G(void 0,Q)}function G(Q,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return z}for(const H in z)!z.hasOwnProperty(H)||!te(H)||(Q[H]=G(Q[H],z[H]));return Q}function te(Q){return"__proto__"!==Q}class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,H)=>{this.resolve=z,this.reject=H})}wrapCallback(z){return(H,K)=>{H?this.reject(H):this.resolve(K),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(H):z(H,K))}}}function Oe(Q,z){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=z||"demo-project",q=Q.iat||0,Se=Q.sub||Q.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:q,exp:q+3600,auth_time:q,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(je)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function me(){return"object"==typeof self&&self.self===self}function Ye(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function Je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ee(){const Q=Ce();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function Ve(){return!1}function $(){return"object"==typeof indexedDB}function ye(){return new Promise((Q,z)=>{try{let H=!0;const K="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(K);q.onsuccess=()=>{q.result.close(),H||self.indexedDB.deleteDatabase(K),Q(!0)},q.onupgradeneeded=()=>{H=!1},q.onerror=()=>{var Se;z((null===(Se=q.error)||void 0===Se?void 0:Se.message)||"")}}catch(H){z(H)}})}function J(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class oe extends Error{constructor(z,H,K){super(H),this.code=z,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(z,H,K){this.service=z,this.serviceName=H,this.errors=K}create(z,...H){const K=H[0]||{},q=`${this.service}/${z}`,Se=this.errors[z],je=Se?function ke(Q,z){return Q.replace(ct,(H,K)=>{const q=z[K];return null!=q?String(q):`<${K}?>`})}(Se,K):"Error";return new oe(q,`${this.serviceName}: ${je} (${q}).`,K)}}const ct=/\{\$([^}]+)}/g;function Lt(Q){return JSON.parse(Q)}function Mt(Q){return JSON.stringify(Q)}const Ge=function(Q){let z={},H={},K={},q="";try{const Se=Q.split(".");z=Lt(_e(Se[0])||""),H=Lt(_e(Se[1])||""),q=Se[2],K=H.d||{},delete H.d}catch{}return{header:z,claims:H,data:K,signature:q}},$t=function(Q){const H=Ge(Q).claims;return!!H&&"object"==typeof H&&H.hasOwnProperty("iat")},Wt=function(Q){const z=Ge(Q).claims;return"object"==typeof z&&!0===z.admin};function _i(Q,z){return Object.prototype.hasOwnProperty.call(Q,z)}function Ct(Q,z){if(Object.prototype.hasOwnProperty.call(Q,z))return Q[z]}function tn(Q){for(const z in Q)if(Object.prototype.hasOwnProperty.call(Q,z))return!1;return!0}function Xs(Q,z,H){const K={};for(const q in Q)Object.prototype.hasOwnProperty.call(Q,q)&&(K[q]=z.call(H,Q[q],q,Q));return K}function Ai(Q,z){if(Q===z)return!0;const H=Object.keys(Q),K=Object.keys(z);for(const q of H){if(!K.includes(q))return!1;const Se=Q[q],je=z[q];if(hi(Se)&&hi(je)){if(!Ai(Se,je))return!1}else if(Se!==je)return!1}for(const q of K)if(!H.includes(q))return!1;return!0}function hi(Q){return null!==Q&&"object"==typeof Q}function Qr(Q){const z=[];for(const[H,K]of Object.entries(Q))Array.isArray(K)?K.forEach(q=>{z.push(encodeURIComponent(H)+"="+encodeURIComponent(q))}):z.push(encodeURIComponent(H)+"="+encodeURIComponent(K));return z.length?"&"+z.join("&"):""}function wr(Q){const z={};return Q.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[q,Se]=K.split("=");z[decodeURIComponent(q)]=decodeURIComponent(Se)}}),z}function Ri(Q){const z=Q.indexOf("?");if(!z)return"";const H=Q.indexOf("#",z);return Q.substring(z,H>0?H:void 0)}class ji{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,H){H||(H=0);const K=this.W_;if("string"==typeof z)for(let Rt=0;Rt<16;Rt++)K[Rt]=z.charCodeAt(H)<<24|z.charCodeAt(H+1)<<16|z.charCodeAt(H+2)<<8|z.charCodeAt(H+3),H+=4;else for(let Rt=0;Rt<16;Rt++)K[Rt]=z[H]<<24|z[H+1]<<16|z[H+2]<<8|z[H+3],H+=4;for(let Rt=16;Rt<80;Rt++){const It=K[Rt-3]^K[Rt-8]^K[Rt-14]^K[Rt-16];K[Rt]=4294967295&(It<<1|It>>>31)}let Yt,$n,q=this.chain_[0],Se=this.chain_[1],je=this.chain_[2],tt=this.chain_[3],dn=this.chain_[4];for(let Rt=0;Rt<80;Rt++){Rt<40?Rt<20?(Yt=tt^Se&(je^tt),$n=1518500249):(Yt=Se^je^tt,$n=1859775393):Rt<60?(Yt=Se&je|tt&(Se|je),$n=2400959708):(Yt=Se^je^tt,$n=3395469782);const It=(q<<5|q>>>27)+Yt+dn+$n+K[Rt]&4294967295;dn=tt,tt=je,je=4294967295&(Se<<30|Se>>>2),Se=q,q=It}this.chain_[0]=this.chain_[0]+q&4294967295,this.chain_[1]=this.chain_[1]+Se&4294967295,this.chain_[2]=this.chain_[2]+je&4294967295,this.chain_[3]=this.chain_[3]+tt&4294967295,this.chain_[4]=this.chain_[4]+dn&4294967295}update(z,H){if(null==z)return;void 0===H&&(H=z.length);const K=H-this.blockSize;let q=0;const Se=this.buf_;let je=this.inbuf_;for(;q<H;){if(0===je)for(;q<=K;)this.compress_(z,q),q+=this.blockSize;if("string"==typeof z){for(;q<H;)if(Se[je]=z.charCodeAt(q),++je,++q,je===this.blockSize){this.compress_(Se),je=0;break}}else for(;q<H;)if(Se[je]=z[q],++je,++q,je===this.blockSize){this.compress_(Se),je=0;break}}this.inbuf_=je,this.total_+=H}digest(){const z=[];let H=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let q=this.blockSize-1;q>=56;q--)this.buf_[q]=255&H,H/=256;this.compress_(this.buf_);let K=0;for(let q=0;q<5;q++)for(let Se=24;Se>=0;Se-=8)z[K]=this.chain_[q]>>Se&255,++K;return z}}function Js(Q,z){const H=new Ze(Q,z);return H.subscribe.bind(H)}class Ze{constructor(z,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{z(this)}).catch(K=>{this.error(K)})}next(z){this.forEachObserver(H=>{H.next(z)})}error(z){this.forEachObserver(H=>{H.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,H,K){let q;if(void 0===z&&void 0===H&&void 0===K)throw new Error("Missing Observer.");q=function Mr(Q,z){if("object"!=typeof Q||null===Q)return!1;for(const H of z)if(H in Q&&"function"==typeof Q[H])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:H,complete:K},void 0===q.next&&(q.next=Mn),void 0===q.error&&(q.error=Mn),void 0===q.complete&&(q.complete=Mn);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),Se}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,z)}sendOne(z,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{H(this.observers[z])}catch(K){typeof console<"u"&&console.error&&console.error(K)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mn(){}const Hi=function(Q,z,H,K){let q;if(K<z?q="at least "+z:K>H&&(q=0===H?"none":"no more than "+H),q)throw new Error(Q+" failed: Was called with "+K+(1===K?" argument.":" arguments.")+" Expects "+q+".")};function Oi(Q,z){return`${Q} failed: ${z} argument `}function Ln(Q,z,H,K){if((!K||H)&&"function"!=typeof H)throw new Error(Oi(Q,z)+"must be a valid function.")}function un(Q,z,H,K){if((!K||H)&&("object"!=typeof H||null===H))throw new Error(Oi(Q,z)+"must be a valid context object.")}const ut=function(Q){const z=[];let H=0;for(let K=0;K<Q.length;K++){let q=Q.charCodeAt(K);if(q>=55296&&q<=56319){const Se=q-55296;K++,re(K<Q.length,"Surrogate pair missing trail surrogate."),q=65536+(Se<<10)+(Q.charCodeAt(K)-56320)}q<128?z[H++]=q:q<2048?(z[H++]=q>>6|192,z[H++]=63&q|128):q<65536?(z[H++]=q>>12|224,z[H++]=q>>6&63|128,z[H++]=63&q|128):(z[H++]=q>>18|240,z[H++]=q>>12&63|128,z[H++]=q>>6&63|128,z[H++]=63&q|128)}return z},et=function(Q){let z=0;for(let H=0;H<Q.length;H++){const K=Q.charCodeAt(H);K<128?z++:K<2048?z+=2:K>=55296&&K<=56319?(z+=4,H++):z+=3}return z};function Rr(Q,z=1e3,H=2){const K=z*Math.pow(H,Q),q=Math.round(.5*K*(Math.random()-.5)*2);return Math.min(144e5,K+q)}function zt(Q){return Q&&Q._delegate?Q._delegate:Q}},9102:(nt,xe,B)=>{var b=B(4650);let re=null;function L(){return re}const fe=new b.OlP("DocumentToken");let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=b.Yz7({token:n,factory:function(){return function _e(){return(0,b.LFG)(G)}()},providedIn:"platform"}),n})();const W=new b.OlP("Location Initialized");let G=(()=>{class n extends ge{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){te()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){te()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(fe))},n.\u0275prov=b.Yz7({token:n,factory:function(){return function Be(){return new G((0,b.LFG)(fe))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Oe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ce(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=b.Yz7({token:n,factory:function(){return(0,b.f3M)(Ye)},providedIn:"root"}),n})();const me=new b.OlP("appBaseHref");let Ye=(()=>{class n extends ve{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Oe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Qe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,a){const c=this.prepareExternalUrl(r+Qe(a));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,a){const c=this.prepareExternalUrl(r+Qe(a));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(ge),b.LFG(me,8))},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Je=(()=>{class n extends ve{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Oe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,a){let c=this.prepareExternalUrl(r+Qe(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,a){let c=this.prepareExternalUrl(r+Qe(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(ge),b.LFG(me,8))},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n{constructor(e){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(Ve(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Qe(i))}normalize(e){return n.stripTrailingSlash(function De(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ve(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=Oe,n.stripTrailingSlash=Ce,n.\u0275fac=function(e){return new(e||n)(b.LFG(ve))},n.\u0275prov=b.Yz7({token:n,factory:function(){return function Ee(){return new Re((0,b.LFG)(ve))}()},providedIn:"root"}),n})();function Ve(n){return n.replace(/\/index.html$/,"")}let nn=(()=>{class n{constructor(e,i,r,a){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,b.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,b.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(b.Y36(b.ZZ4),b.Y36(b.aQg),b.Y36(b.SBq),b.Y36(b.Qsj))},n.\u0275dir=b.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})(),Jn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Xl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ei("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ei("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b.Y36(b.s_b),b.Y36(b.Rgc))},n.\u0275dir=b.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Xl{constructor(){this.$implicit=null,this.ngIf=null}}function ei(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,b.AaK)(t)}'.`)}let $o=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=b.oAB({type:n}),n.\u0275inj=b.cJS({}),n})();let Ua=(()=>{class n{}return n.\u0275prov=(0,b.Yz7)({token:n,providedIn:"root",factory:()=>new Vd((0,b.LFG)(fe),window)}),n})();class Vd{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function wi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const c=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=zi(this.window.history)||zi(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function zi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ms extends class uu extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){re||(re=n)}(new Ms)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Qa(){return Rs=Rs||document.querySelector("base"),Rs?Rs.getAttribute("href"):null}();return null==e?null:function Ni(n){Gn=Gn||document.createElement("a"),Gn.setAttribute("href",n);const t=Gn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Rs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Na(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let Gn,Rs=null;const gn=new b.OlP("TRANSITION_ID"),_c=[{provide:b.ip1,useFactory:function du(n,t,e){return()=>{e.get(b.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[gn,fe,b.zs3],multi:!0}];let yc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac}),n})();const Xa=new b.OlP("EventManagerPlugins");let hu=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const c=r[a];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(Xa),b.LFG(b.R0b))},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac}),n})();class vc{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let so=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac}),n})(),oo=(()=>{class n extends so{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(fu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(fu))}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(fe))},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac}),n})();function fu(n){L().remove(n)}const ao={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pu=/%COMP%/g;function tl(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?tl(n,r,e):(r=r.replace(pu,n),e.push(r))}return e}function gu(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let lo=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new co(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case b.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new mu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case b.ifc.ShadowDom:return new _u(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=tl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(hu),b.LFG(oo),b.LFG(b.AFp))},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac}),n})();class co{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ao[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Qo(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Qo(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const a=ao[r];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ao[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(b.JOm.DashCase|b.JOm.Important)?t.style.setProperty(e,i,r&b.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&b.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,gu(i)):this.eventManager.addEventListener(t,e,gu(i))}}function Qo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class mu extends co{constructor(t,e,i,r){super(t),this.component=i;const a=tl(r+"-"+i.id,i.styles,[]);e.addStyles(a),this.contentAttr=function In(n){return"_ngcontent-%COMP%".replace(pu,n)}(r+"-"+i.id),this.hostAttr=function el(n){return"_nghost-%COMP%".replace(pu,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class _u extends co{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=tl(r.id,r.styles,[]);for(let c=0;c<a.length;c++){const d=document.createElement("style");d.textContent=a[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ti=(()=>{class n extends vc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(fe))},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac}),n})();const Xo=["alt","control","meta","shift"],Jo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ea=(()=>{class n extends vc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const a=n.parseEventName(i),c=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,a.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),Xo.forEach(_=>{const E=i.indexOf(_);E>-1&&(i.splice(E,1),c+=_+".")}),c+=a,0!=i.length||0===a.length)return null;const f={};return f.domEventName=r,f.fullKey=c,f}static matchEventFullKeyCode(e,i){let r=Jo[e.key]||e.key,a="";return i.indexOf("code.")>-1&&(r=e.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Xo.forEach(c=>{c!==r&&(0,Sr[c])(e)&&(a+=c+".")}),a+=r,a===i)}static eventCallback(e,i,r){return a=>{n.matchEventFullKeyCode(a,e)&&r.runGuarded(()=>i(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(fe))},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac}),n})();const sl=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:"browser"},{provide:b.g9A,useValue:function il(){Ms.makeCurrent()},multi:!0},{provide:fe,useFactory:function na(){return(0,b.RDi)(document),document},deps:[]}]),os=new b.OlP(""),vu=[{provide:b.rWj,useClass:class Hd{addToWindow(t){b.dqk.getAngularTestability=(i,r=!0)=>{const a=t.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},b.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(i=>{const r=b.dqk.getAllAngularTestabilities();let a=r.length,c=!1;const d=function(f){c=c||f,a--,0==a&&i(c)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],as=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function ks(){return new b.qLn},deps:[]},{provide:Xa,useClass:ti,multi:!0,deps:[fe,b.R0b,b.Lbi]},{provide:Xa,useClass:ea,multi:!0,deps:[fe]},{provide:lo,useClass:lo,deps:[hu,oo,b.AFp]},{provide:b.FYo,useExisting:lo},{provide:so,useExisting:oo},{provide:oo,useClass:oo,deps:[fe]},{provide:hu,useClass:hu,deps:[Xa,b.R0b]},{provide:class io{},useClass:yc,deps:[]},[]];let wc=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:b.AFp,useValue:e.appId},{provide:gn,useExisting:b.AFp},_c]}}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(os,12))},n.\u0275mod=b.oAB({type:n}),n.\u0275inj=b.cJS({providers:[...as,...vu],imports:[$o,b.hGG]}),n})(),Ur=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(fe))},n.\u0275prov=b.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function uo(){return new Ur((0,b.LFG)(fe))}(),i},providedIn:"root"}),n})();function cr(){}typeof window<"u"&&window;const _o=function(){let n=0;return function(){return n++}}();function Bt(n){return null===n||typeof n>"u"}function Jt(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function _t(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const Gt=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function Fi(n,t){return Gt(n)?n:t}function Et(n,t){return typeof n>"u"?t:n}const oa=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function fn(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Kt(n,t,e,i){let r,a,c;if(Jt(n))if(a=n.length,i)for(r=a-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<a;r++)t.call(e,n[r],r);else if(_t(n))for(c=Object.keys(n),a=c.length,r=0;r<a;r++)t.call(e,n[c[r]],c[r])}function Bs(n,t){let e,i,r,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],a=t[e],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function Vr(n){if(Jt(n))return n.map(Vr);if(_t(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Vr(n[e[r]]);return t}return n}function aa(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function Bi(n,t,e,i){if(!aa(n))return;const r=t[n],a=e[n];_t(r)&&_t(a)?jr(r,a,i):t[n]=Vr(a)}function jr(n,t,e){const i=Jt(t)?t:[t],r=i.length;if(!_t(n))return n;const a=(e=e||{}).merger||Bi;for(let c=0;c<r;++c){if(!_t(t=i[c]))continue;const d=Object.keys(t);for(let f=0,_=d.length;f<_;++f)a(d[f],n,t,e)}return n}function Ki(n,t){return jr(n,t,{merger:ul})}function ul(n,t,e){if(!aa(n))return;const i=t[n],r=e[n];_t(i)&&_t(r)?Ki(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Vr(r))}const hl={"":n=>n,x:n=>n.x,y:n=>n.y};function Tr(n,t){return(hl[t]||(hl[t]=function la(n){const t=function If(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function fl(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ur=n=>typeof n<"u",Zi=n=>"function"==typeof n,Us=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},Ut=Math.PI,qt=2*Ut,pl=qt+Ut,Yi=Number.POSITIVE_INFINITY,Dc=Ut/180,Qt=Ut/2,ua=Ut/4,Vs=2*Ut/3,jn=Math.log10,dr=Math.sign;function Dn(n){const t=Math.round(n);n=T(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(jn(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function S(n){return!isNaN(parseFloat(n))&&isFinite(n)}function T(n,t,e){return Math.abs(n-t)<e}function V(n,t,e){let i,r,a;for(i=0,r=n.length;i<r;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function ee(n){return n*(Ut/180)}function ce(n){return n*(180/Ut)}function Te(n){if(!Gt(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function He(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*Ut&&(a+=qt),{angle:a,distance:r}}function st(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function mt(n,t){return(n-t+pl)%qt-Ut}function dt(n){return(n%qt+qt)%qt}function it(n,t,e,i){const r=dt(n),a=dt(t),c=dt(e),d=dt(a-r),f=dt(c-r),_=dt(r-a),E=dt(r-c);return r===a||r===c||i&&a===c||d>f&&_<E}function Tt(n,t,e){return Math.max(t,Math.min(e,n))}function Ei(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function ds(n,t,e){e=e||(c=>n[c]<t);let a,i=n.length-1,r=0;for(;i-r>1;)a=r+i>>1,e(a)?r=a:i=a;return{lo:r,hi:i}}const gi=(n,t,e,i)=>ds(n,e,i?r=>n[r][t]<=e:r=>n[r][t]<e),yo=(n,t,e)=>ds(n,e,i=>n[i][t]>=e),fs=["push","pop","shift","splice","unshift"];function ps(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(fs.forEach(a=>{delete n[a]}),delete n._chartjs)}function Sc(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}const Df=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function Sf(n,t,e){const i=e||(c=>Array.prototype.slice.call(c));let r=!1,a=[];return function(...c){a=i(c),r||(r=!0,Df.call(window,()=>{r=!1,n.apply(t,a)}))}}const gl=n=>"start"===n?"left":"end"===n?"right":"center",Kn=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function Gd(n,t,e){const i=t.length;let r=0,a=i;if(n._sorted){const{iScale:c,_parsed:d}=n,f=c.axis,{min:_,max:E,minDefined:I,maxDefined:A}=c.getUserBounds();I&&(r=Tt(Math.min(gi(d,c.axis,_).lo,e?i:gi(t,f,c.getPixelForValue(_)).lo),0,i-1)),a=A?Tt(Math.max(gi(d,c.axis,E,!0).hi+1,e?0:gi(t,f,c.getPixelForValue(E),!0).hi+1),r,i)-r:i-r}return{start:r,count:a}}function Ug(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),a}const Tc=n=>0===n||1===n,Vg=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*qt/e),wu=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*qt/e)+1,xc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Qt),easeOutSine:n=>Math.sin(n*Qt),easeInOutSine:n=>-.5*(Math.cos(Ut*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>Tc(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Tc(n)?n:Vg(n,.075,.3),easeOutElastic:n=>Tc(n)?n:wu(n,.075,.3),easeInOutElastic:n=>Tc(n)?n:n<.5?.5*Vg(2*n,.1125,.45):.5+.5*wu(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-xc.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*xc.easeInBounce(2*n):.5*xc.easeOutBounce(2*n-1)+.5};function ml(n){return n+.5|0}const hr=(n,t,e)=>Math.max(Math.min(n,e),t);function da(n){return hr(ml(2.55*n),0,255)}function fr(n){return hr(ml(255*n),0,255)}function js(n){return hr(ml(n/2.55)/100,0,1)}function xf(n){return hr(ml(100*n),0,100)}const Hr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ha=[..."0123456789ABCDEF"],Kd=n=>ha[15&n],Af=n=>ha[(240&n)>>4]+ha[15&n],Ac=n=>(240&n)>>4==(15&n);const Hg=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Yd(n,t,e){const i=t*Math.min(e,1-e),r=(a,c=(a+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function $g(n,t,e){const i=(r,a=(r+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function gs(n,t,e){const i=Yd(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function Cu(n){const e=n.r/255,i=n.g/255,r=n.b/255,a=Math.max(e,i,r),c=Math.min(e,i,r),d=(a+c)/2;let f,_,E;return a!==c&&(E=a-c,_=d>.5?E/(2-a-c):E/(a+c),f=function Mc(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,E,a),f=60*f+.5),[0|f,_||0,d]}function qd(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(fr)}function Rf(n,t,e){return qd(Yd,n,t,e)}function av(n){return(n%360+360)%360}const Iu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let xr;const Du=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Su=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Oc=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function _l(n,t,e){if(n){let i=Cu(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=Rf(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Tu(n,t){return n&&Object.assign(t||{},n)}function Gg(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=fr(n[3]))):(t=Tu(n,{r:0,g:0,b:0,a:1})).a=fr(t.a),t}function Kg(n){return"r"===n.charAt(0)?function Of(n){const t=Du.exec(n);let i,r,a,e=255;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?da(c):hr(255*c,0,255)}return i=+t[1],r=+t[3],a=+t[5],i=255&(t[2]?da(i):hr(i,0,255)),r=255&(t[4]?da(r):hr(r,0,255)),a=255&(t[6]?da(a):hr(a,0,255)),{r:i,g:r,b:a,a:e}}}(n):function bo(n){const t=Hg.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?da(+t[5]):fr(+t[5]));const r=av(+t[2]),a=+t[3]/100,c=+t[4]/100;return i="hwb"===t[1]?function sv(n,t,e){return qd(gs,n,t,e)}(r,a,c):"hsv"===t[1]?function ov(n,t,e){return qd($g,n,t,e)}(r,a,c):Rf(r,a,c),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class fa{constructor(t){if(t instanceof fa)return t;const e=typeof t;let i;"object"===e?i=Gg(t):"string"===e&&(i=function Eu(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*Hr[n[1]],g:255&17*Hr[n[2]],b:255&17*Hr[n[3]],a:5===t?17*Hr[n[4]]:255}:(7===t||9===t)&&(e={r:Hr[n[1]]<<4|Hr[n[2]],g:Hr[n[3]]<<4|Hr[n[4]],b:Hr[n[5]]<<4|Hr[n[6]],a:9===t?Hr[n[7]]<<4|Hr[n[8]]:255})),e}(t)||function Pc(n){xr||(xr=function Rc(){const n={},t=Object.keys(Pf),e=Object.keys(Iu);let i,r,a,c,d;for(i=0;i<t.length;i++){for(c=d=t[i],r=0;r<e.length;r++)a=e[r],d=d.replace(a,Iu[a]);a=parseInt(Pf[c],16),n[d]=[a>>16&255,a>>8&255,255&a]}return n}(),xr.transparent=[0,0,0,0]);const t=xr[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||Kg(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Tu(this._rgb);return t&&(t.a=js(t.a)),t}set rgb(t){this._rgb=Gg(t)}rgbString(){return this._valid?function kf(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${js(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Zd(n){var t=(n=>Ac(n.r)&&Ac(n.g)&&Ac(n.b)&&Ac(n.a))(n)?Kd:Af;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function zg(n){if(!n)return;const t=Cu(n),e=t[0],i=xf(t[1]),r=xf(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${js(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let a;const c=e===a?.5:e,d=2*c-1,f=i.a-r.a,_=((d*f==-1?d:(d+f)/(1+d*f))+1)/2;a=1-_,i.r=255&_*i.r+a*r.r+.5,i.g=255&_*i.g+a*r.g+.5,i.b=255&_*i.b+a*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function lv(n,t,e){const i=Oc(js(n.r)),r=Oc(js(n.g)),a=Oc(js(n.b));return{r:fr(Su(i+e*(Oc(js(t.r))-i))),g:fr(Su(r+e*(Oc(js(t.g))-r))),b:fr(Su(a+e*(Oc(js(t.b))-a))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new fa(this.rgb)}alpha(t){return this._rgb.a=fr(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=ml(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return _l(this._rgb,2,t),this}darken(t){return _l(this._rgb,2,-t),this}saturate(t){return _l(this._rgb,1,t),this}desaturate(t){return _l(this._rgb,1,-t),this}rotate(t){return function Wg(n,t){var e=Cu(n);e[0]=av(e[0]+t),e=Rf(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function Nf(n){return new fa(n)}function Lf(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function xu(n){return Lf(n)?n:Nf(n)}function kc(n){return Lf(n)?n:Nf(n).saturate(.5).darken(.1).hexString()}const wo=Object.create(null),yl=Object.create(null);function Eo(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function Nc(n,t,e){return"string"==typeof t?jr(Eo(n,t),e):jr(Eo(n,""),t)}var ht=new class Zg{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>kc(i.backgroundColor),this.hoverBorderColor=(e,i)=>kc(i.borderColor),this.hoverColor=(e,i)=>kc(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return Nc(this,t,e)}get(t){return Eo(this,t)}describe(t,e){return Nc(yl,t,e)}override(t,e){return Nc(wo,t,e)}route(t,e,i,r){const a=Eo(this,t),c=Eo(this,i),d="_"+e;Object.defineProperties(a,{[d]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[d],_=c[r];return _t(f)?Object.assign({},_,f):Et(f,_)},set(f){this[d]=f}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Au(n,t,e,i,r){let a=t[r];return a||(a=t[r]=n.measureText(r).width,e.push(r)),a>i&&(i=a),i}function Qd(n,t,e,i){let r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let c=0;const d=e.length;let f,_,E,I,A;for(f=0;f<d;f++)if(I=e[f],null!=I&&!0!==Jt(I))c=Au(n,r,a,c,I);else if(Jt(I))for(_=0,E=I.length;_<E;_++)A=I[_],null!=A&&!Jt(A)&&(c=Au(n,r,a,c,A));n.restore();const R=a.length/2;if(R>e.length){for(f=0;f<R;f++)delete r[a[f]];a.splice(0,R)}return c}function Co(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function Bf(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function pa(n,t,e,i){Uf(n,t,e,i,null)}function Uf(n,t,e,i,r){let a,c,d,f,_,E;const I=t.pointStyle,A=t.rotation,R=t.radius;let k=(A||0)*Dc;if(I&&"object"==typeof I&&(a=I.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return n.save(),n.translate(e,i),n.rotate(k),n.drawImage(I,-I.width/2,-I.height/2,I.width,I.height),void n.restore();if(!(isNaN(R)||R<=0)){switch(n.beginPath(),I){default:r?n.ellipse(e,i,r/2,R,0,0,qt):n.arc(e,i,R,0,qt),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(k)*R,i-Math.cos(k)*R),k+=Vs,n.lineTo(e+Math.sin(k)*R,i-Math.cos(k)*R),k+=Vs,n.lineTo(e+Math.sin(k)*R,i-Math.cos(k)*R),n.closePath();break;case"rectRounded":_=.516*R,f=R-_,c=Math.cos(k+ua)*f,d=Math.sin(k+ua)*f,n.arc(e-c,i-d,_,k-Ut,k-Qt),n.arc(e+d,i-c,_,k-Qt,k),n.arc(e+c,i+d,_,k,k+Qt),n.arc(e-d,i+c,_,k+Qt,k+Ut),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*R,E=r?r/2:f,n.rect(e-E,i-f,2*E,2*f);break}k+=ua;case"rectRot":c=Math.cos(k)*R,d=Math.sin(k)*R,n.moveTo(e-c,i-d),n.lineTo(e+d,i-c),n.lineTo(e+c,i+d),n.lineTo(e-d,i+c),n.closePath();break;case"crossRot":k+=ua;case"cross":c=Math.cos(k)*R,d=Math.sin(k)*R,n.moveTo(e-c,i-d),n.lineTo(e+c,i+d),n.moveTo(e+d,i-c),n.lineTo(e-d,i+c);break;case"star":c=Math.cos(k)*R,d=Math.sin(k)*R,n.moveTo(e-c,i-d),n.lineTo(e+c,i+d),n.moveTo(e+d,i-c),n.lineTo(e-d,i+c),k+=ua,c=Math.cos(k)*R,d=Math.sin(k)*R,n.moveTo(e-c,i-d),n.lineTo(e+c,i+d),n.moveTo(e+d,i-c),n.lineTo(e-d,i+c);break;case"line":c=r?r/2:Math.cos(k)*R,d=Math.sin(k)*R,n.moveTo(e-c,i-d),n.lineTo(e+c,i+d);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(k)*R,i+Math.sin(k)*R)}n.fill(),t.borderWidth>0&&n.stroke()}}function vl(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Mu(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Xd(n){n.restore()}function cv(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Lc(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function ms(n,t,e,i,r,a={}){const c=Jt(t)?t:[t],d=a.strokeWidth>0&&""!==a.strokeColor;let f,_;for(n.save(),n.font=r.string,function Ru(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Bt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,a),f=0;f<c.length;++f)_=c[f],d&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Bt(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(_,e,i,a.maxWidth)),n.fillText(_,e,i,a.maxWidth),Pu(n,e,i,_,a),i+=r.lineHeight;n.restore()}function Pu(n,t,e,i,r){if(r.strikethrough||r.underline){const a=n.measureText(i),c=t-a.actualBoundingBoxLeft,d=t+a.actualBoundingBoxRight,f=e-a.actualBoundingBoxAscent,_=e+a.actualBoundingBoxDescent,E=r.strikethrough?(f+_)/2:_;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,E),n.lineTo(d,E),n.stroke()}}function ga(n,t){const{x:e,y:i,w:r,h:a,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,-Qt,Ut,!0),n.lineTo(e,i+a-c.bottomLeft),n.arc(e+c.bottomLeft,i+a-c.bottomLeft,c.bottomLeft,Ut,Qt,!0),n.lineTo(e+r-c.bottomRight,i+a),n.arc(e+r-c.bottomRight,i+a-c.bottomRight,c.bottomRight,Qt,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Qt,!0),n.lineTo(e+c.topLeft,i)}const Yg=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Ou=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Vf(n,t){const e=(""+n).match(Yg);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const Ui=n=>+n||0;function bl(n,t){const e={},i=_t(t),r=i?Object.keys(t):t,a=_t(n)?i?c=>Et(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=Ui(a(c));return e}function Jd(n){return bl(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Hs(n){return bl(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ii(n){const t=Jd(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function On(n,t){let e=Et((n=n||{}).size,(t=t||ht.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=Et(n.style,t.style);i&&!(""+i).match(Ou)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:Et(n.family,t.family),lineHeight:Vf(Et(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Et(n.weight,t.weight),string:""};return r.string=function Ff(n){return!n||Bt(n.size)||Bt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function $r(n,t,e,i){let a,c,d,r=!0;for(a=0,c=n.length;a<c;++a)if(d=n[a],void 0!==d&&(void 0!==t&&"function"==typeof d&&(d=d(t),r=!1),void 0!==e&&Jt(d)&&(d=d[e%d.length],r=!1),void 0!==d))return i&&!r&&(i.cacheable=!1),d}function _s(n,t){return Object.assign(Object.create(n),t)}function pr(n,t=[""],e=n,i,r=(()=>n[0])){ur(i)||(i=Hf("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:r,override:c=>pr([c,...n],t,e,i)};return new Proxy(a,{deleteProperty:(c,d)=>(delete c[d],delete c._keys,delete n[0][d],!0),get:(c,d)=>Lu(c,d,()=>function Bc(n,t,e,i){let r;for(const a of t)if(r=Hf(Nu(a,n),e),ur(r))return $s(n,r)?Fu(e,i,n,r):r}(d,t,n,c)),getOwnPropertyDescriptor:(c,d)=>Reflect.getOwnPropertyDescriptor(c._scopes[0],d),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(c,d)=>rh(c).includes(d),ownKeys:c=>rh(c),set(c,d,f){const _=c._storage||(c._storage=r());return c[d]=_[d]=f,delete c._keys,!0}})}function ma(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:ku(n,i),setContext:a=>ma(n,a,e,i),override:a=>ma(n.override(a),t,e,i)};return new Proxy(r,{deleteProperty:(a,c)=>(delete a[c],delete n[c],!0),get:(a,c,d)=>Lu(a,c,()=>function Ci(n,t,e){const{_proxy:i,_context:r,_subProxy:a,_descriptors:c}=n;let d=i[t];return Zi(d)&&c.isScriptable(t)&&(d=function eh(n,t,e,i){const{_proxy:r,_context:a,_subProxy:c,_stack:d}=e;if(d.has(n))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+n);return d.add(n),t=t(a,c||i),d.delete(n),$s(n,t)&&(t=Fu(r._scopes,r,n,t)),t}(t,d,n,e)),Jt(d)&&d.length&&(d=function th(n,t,e,i){const{_proxy:r,_context:a,_subProxy:c,_descriptors:d}=e;if(ur(a.index)&&i(n))t=t[a.index%t.length];else if(_t(t[0])){const f=t,_=r._scopes.filter(E=>E!==f);t=[];for(const E of f){const I=Fu(_,r,n,E);t.push(ma(I,a,c&&c[n],d))}}return t}(t,d,n,c.isIndexable)),$s(t,d)&&(d=ma(d,r,a&&a[t],c)),d}(a,c,d)),getOwnPropertyDescriptor:(a,c)=>a._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(a,c)=>Reflect.has(n,c),ownKeys:()=>Reflect.ownKeys(n),set:(a,c,d)=>(n[c]=d,delete a[c],!0)})}function ku(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Zi(e)?e:()=>e,isIndexable:Zi(i)?i:()=>i}}const Nu=(n,t)=>n?n+fl(t):t,$s=(n,t)=>_t(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Lu(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function nh(n,t,e){return Zi(n)?n(t,e):n}const qi=(n,t)=>!0===n?t:"string"==typeof n?Tr(t,n):void 0;function Fc(n,t,e,i,r){for(const a of t){const c=qi(e,a);if(c){n.add(c);const d=nh(c._fallback,e,r);if(ur(d)&&d!==e&&d!==i)return d}else if(!1===c&&ur(i)&&e!==i)return null}return!1}function Fu(n,t,e,i){const r=t._rootScopes,a=nh(t._fallback,e,i),c=[...n,...r],d=new Set;d.add(i);let f=ih(d,c,e,a||e,i);return!(null===f||ur(a)&&a!==e&&(f=ih(d,c,a,f,i),null===f))&&pr(Array.from(d),[""],r,a,()=>function qg(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Jt(r)&&_t(e)?e:r}(t,e,i))}function ih(n,t,e,i,r){for(;e;)e=Fc(n,t,e,i,r);return e}function Hf(n,t){for(const e of t){if(!e)continue;const i=e[n];if(ur(i))return i}}function rh(n){let t=n._keys;return t||(t=n._keys=function Qg(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function sh(n,t,e,i){const{iScale:r}=n,{key:a="r"}=this._parsing,c=new Array(i);let d,f,_,E;for(d=0,f=i;d<f;++d)_=d+e,E=t[_],c[d]={r:r.parse(Tr(E,a),_)};return c}const y=Number.EPSILON||1e-14,p=(n,t)=>t<n.length&&!n[t].skip&&n[t],m=n=>"x"===n?"y":"x";function w(n,t,e,i){const r=n.skip?t:n,a=t,c=e.skip?t:e,d=st(a,r),f=st(c,a);let _=d/(d+f),E=f/(d+f);_=isNaN(_)?0:_,E=isNaN(E)?0:E;const I=i*_,A=i*E;return{previous:{x:a.x-I*(c.x-r.x),y:a.y-I*(c.y-r.y)},next:{x:a.x+A*(c.x-r.x),y:a.y+A*(c.y-r.y)}}}function he(n,t,e){return Math.max(Math.min(n,e),t)}function qe(n,t,e,i,r){let a,c,d,f;if(t.spanGaps&&(n=n.filter(_=>!_.skip)),"monotone"===t.cubicInterpolationMode)!function X(n,t="x"){const e=m(t),i=n.length,r=Array(i).fill(0),a=Array(i);let c,d,f,_=p(n,0);for(c=0;c<i;++c)if(d=f,f=_,_=p(n,c+1),f){if(_){const E=_[t]-f[t];r[c]=0!==E?(_[e]-f[e])/E:0}a[c]=d?_?dr(r[c-1])!==dr(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}(function M(n,t,e){const i=n.length;let r,a,c,d,f,_=p(n,0);for(let E=0;E<i-1;++E)if(f=_,_=p(n,E+1),f&&_){if(T(t[E],0,y)){e[E]=e[E+1]=0;continue}r=e[E]/t[E],a=e[E+1]/t[E],d=Math.pow(r,2)+Math.pow(a,2),!(d<=9)&&(c=3/Math.sqrt(d),e[E]=r*c*t[E],e[E+1]=a*c*t[E])}})(n,r,a),function N(n,t,e="x"){const i=m(e),r=n.length;let a,c,d,f=p(n,0);for(let _=0;_<r;++_){if(c=d,d=f,f=p(n,_+1),!d)continue;const E=d[e],I=d[i];c&&(a=(E-c[e])/3,d[`cp1${e}`]=E-a,d[`cp1${i}`]=I-a*t[_]),f&&(a=(f[e]-E)/3,d[`cp2${e}`]=E+a,d[`cp2${i}`]=I+a*t[_])}}(n,a,t)}(n,r);else{let _=i?n[n.length-1]:n[0];for(a=0,c=n.length;a<c;++a)d=n[a],f=w(_,d,n[Math.min(a+1,c-(i?0:1))%c],t.tension),d.cp1x=f.previous.x,d.cp1y=f.previous.y,d.cp2x=f.next.x,d.cp2y=f.next.y,_=d}t.capBezierPoints&&function Fe(n,t){let e,i,r,a,c,d=vl(n[0],t);for(e=0,i=n.length;e<i;++e)c=a,a=d,d=e<i-1&&vl(n[e+1],t),a&&(r=n[e],c&&(r.cp1x=he(r.cp1x,t.left,t.right),r.cp1y=he(r.cp1y,t.top,t.bottom)),d&&(r.cp2x=he(r.cp2x,t.left,t.right),r.cp2y=he(r.cp2y,t.top,t.bottom)))}(n,e)}function ft(){return typeof window<"u"&&typeof document<"u"}function at(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Sn(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const Vi=n=>window.getComputedStyle(n,null),$f=["top","right","bottom","left"];function Ws(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const a=$f[r];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Io(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Vi(e),a="border-box"===r.boxSizing,c=Ws(r,"padding"),d=Ws(r,"border","width"),{x:f,y:_,box:E}=function Xg(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:a}=i;let d,f,c=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(r,a,n.target))d=r,f=a;else{const _=t.getBoundingClientRect();d=i.clientX-_.left,f=i.clientY-_.top,c=!0}return{x:d,y:f,box:c}}(n,e),I=c.left+(E&&d.left),A=c.top+(E&&d.top);let{width:R,height:k}=t;return a&&(R-=c.width+d.width,k-=c.height+d.height),{x:Math.round((f-I)/R*e.width/i),y:Math.round((_-A)/k*e.height/i)}}const oh=n=>Math.round(10*n)/10;function zf(n,t,e){const i=t||1,r=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=r/i,n.width=a/i;const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||c.height!==r||c.width!==a)&&(n.currentDevicePixelRatio=i,c.height=r,c.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0)}const uv=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function ah(n,t){const e=function wl(n,t){return Vi(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function _a(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function dv(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function Jg(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},c=_a(n,r,e),d=_a(r,a,e),f=_a(a,t,e),_=_a(c,d,e),E=_a(d,f,e);return _a(_,E,e)}const em=new Map;function Vu(n,t,e){return function hv(n,t){t=t||{};const e=n+JSON.stringify(t);let i=em.get(e);return i||(i=new Intl.NumberFormat(n,t),em.set(e,i)),i}(t,e).format(n)}function El(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function ju(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function fv(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function pv(n){return"angle"===n?{between:it,compare:mt,normalize:dt}:{between:Ei,compare:(t,e)=>t-e,normalize:t=>t}}function gv({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function _v(n,t,e){if(!e)return[n];const{property:i,start:r,end:a}=e,c=t.length,{compare:d,between:f,normalize:_}=pv(i),{start:E,end:I,loop:A,style:R}=function mv(n,t,e){const{property:i,start:r,end:a}=e,{between:c,normalize:d}=pv(i),f=t.length;let A,R,{start:_,end:E,loop:I}=n;if(I){for(_+=f,E+=f,A=0,R=f;A<R&&c(d(t[_%f][i]),r,a);++A)_--,E--;_%=f,E%=f}return E<_&&(E+=f),{start:_,end:E,loop:I,style:n.style}}(n,t,e),k=[];let ne,ue,Me,j=!1,Y=null;for(let ot=E,lt=E;ot<=I;++ot)ue=t[ot%c],!ue.skip&&(ne=_(ue[i]),ne!==Me&&(j=f(ne,r,a),null===Y&&(j||f(r,Me,ne)&&0!==d(r,Me))&&(Y=0===d(ne,r)?ot:lt),null!==Y&&(!j||0===d(a,ne)||f(a,Me,ne))&&(k.push(gv({start:Y,end:ot,loop:A,count:c,style:R})),Y=null),lt=ot,Me=ne));return null!==Y&&k.push(gv({start:Y,end:I,loop:A,count:c,style:R})),k}function yv(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const a=_v(i[r],n.points,t);a.length&&e.push(...a)}return e}function bv(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function wv(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}var ya=new class nC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const c=e.duration;e.listeners[r].forEach(d=>d({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Df.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const a=i.items;let f,c=a.length-1,d=!1;for(;c>=0;--c)f=a[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),d=!0):(a[c]=a[a.length-1],a.pop());d&&(r.draw(),this._notify(r,i,t,"progress")),a.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const Qi="transparent",im={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=xu(n||Qi),r=i.valid&&xu(t||Qi);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class Ev{constructor(t,e,i,r){const a=e[i];r=$r([t.to,r,a,t.from]);const c=$r([t.from,a,r]);this._active=!0,this._fn=t.fn||im[t.type||typeof c],this._easing=xc[t.easing]||xc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],a=i-this._start,c=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=$r([t.to,e,r,t.from]),this._from=$r([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,a=this._from,c=this._loop,d=this._to;let f;if(this._active=a!==d&&(c||e<i),!this._active)return this._target[r]=d,void this._notify(!0);e<0?this._target[r]=a:(f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(a,d,f))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}ht.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const lh=Object.keys(ht.animation);ht.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),ht.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),ht.describe("animations",{_fallback:"animation"}),ht.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class sm{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!_t(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!_t(r))return;const a={};for(const c of lh)a[c]=r[c];(Jt(r.properties)&&r.properties||[i]).forEach(c=>{(c===i||!e.has(c))&&e.set(c,a)})})}_animateOptions(t,e){const i=e.options,r=function rC(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const a=this._createAnimations(r,i);return i.$shared&&function iC(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const a=n[i[r]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,r=[],a=t.$animations||(t.$animations={}),c=Object.keys(e),d=Date.now();let f;for(f=c.length-1;f>=0;--f){const _=c[f];if("$"===_.charAt(0))continue;if("options"===_){r.push(...this._animateOptions(t,e));continue}const E=e[_];let I=a[_];const A=i.get(_);if(I){if(A&&I.active()){I.update(A,E,d);continue}I.cancel()}A&&A.duration?(a[_]=I=new Ev(A,t,_,E),r.push(I)):t[_]=E}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(ya.add(this._chart,i),!0):void 0}}function om(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,a=void 0===e.max?t:0;return{start:i?a:r,end:i?r:a}}function Iv(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,a;for(r=0,a=i.length;r<a;++r)e.push(i[r].index);return e}function am(n,t,e,i={}){const r=n.keys,a="single"===i.mode;let c,d,f,_;if(null!==t){for(c=0,d=r.length;c<d;++c){if(f=+r[c],f===e){if(i.all)continue;break}_=n.values[f],Gt(_)&&(a||0===t||dr(t)===dr(_))&&(t+=_)}return t}}function Dv(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function cC(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Uc(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const a=n[r.index];if(e&&a>0||!e&&a<0)return r.index}return null}function Do(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:a,vScale:c,index:d}=i,f=a.axis,_=c.axis,E=function aC(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(a,c,i),I=t.length;let A;for(let R=0;R<I;++R){const k=t[R],{[f]:j,[_]:Y}=k;A=(k._stacks||(k._stacks={}))[_]=cC(r,E,j),A[d]=Y,A._top=Uc(A,c,!0,i.type),A._bottom=Uc(A,c,!1,i.type)}}function lm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Gf(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const a=r._stacks;if(!a||void 0===a[i]||void 0===a[i][e])return;delete a[i][e]}}}const Kf=n=>"reset"===n||"none"===n,dC=(n,t)=>t?n:Object.assign({},n);let ys=(()=>{class n{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Dv(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Gf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,r=this.getDataset(),a=(A,R,k,j)=>"x"===A?R:"r"===A?j:k,c=i.xAxisID=Et(r.xAxisID,lm(e,"x")),d=i.yAxisID=Et(r.yAxisID,lm(e,"y")),f=i.rAxisID=Et(r.rAxisID,lm(e,"r")),_=i.indexAxis,E=i.iAxisID=a(_,c,d,f),I=i.vAxisID=a(_,d,c,f);i.xScale=this.getScaleForId(c),i.yScale=this.getScaleForId(d),i.rScale=this.getScaleForId(f),i.iScale=this.getScaleForId(E),i.vScale=this.getScaleForId(I)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ps(this._data,this),e._stacked&&Gf(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(_t(i))this._data=function oC(n){const t=Object.keys(n),e=new Array(t.length);let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i],e[i]={x:a,y:n[a]};return e}(i);else if(r!==i){if(r){ps(r,this);const a=this._cachedMeta;Gf(a),a._parsed=[]}i&&Object.isExtensible(i)&&function vo(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),fs.forEach(e=>{const i="_onData"+fl(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const c=r.apply(this,a);return n._chartjs.listeners.forEach(d=>{"function"==typeof d[i]&&d[i](...a)}),c}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,r=this.getDataset();let a=!1;this._dataCheck();const c=i._stacked;i._stacked=Dv(i.vScale,i),i.stack!==r.stack&&(a=!0,Gf(i),i.stack=r.stack),this._resyncElements(e),(a||c!==i._stacked)&&Do(this,i._parsed)}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:r,_data:a}=this,{iScale:c,_stacked:d}=r,f=c.axis;let I,A,R,_=0===e&&i===a.length||r._sorted,E=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=a,r._sorted=!0,R=a;else{R=Jt(a[e])?this.parseArrayData(r,a,e,i):_t(a[e])?this.parseObjectData(r,a,e,i):this.parsePrimitiveData(r,a,e,i);const k=()=>null===A[f]||E&&A[f]<E[f];for(I=0;I<i;++I)r._parsed[I+e]=A=R[I],_&&(k()&&(_=!1),E=A);r._sorted=_}d&&Do(this,R)}parsePrimitiveData(e,i,r,a){const{iScale:c,vScale:d}=e,f=c.axis,_=d.axis,E=c.getLabels(),I=c===d,A=new Array(a);let R,k,j;for(R=0,k=a;R<k;++R)j=R+r,A[R]={[f]:I||c.parse(E[j],j),[_]:d.parse(i[j],j)};return A}parseArrayData(e,i,r,a){const{xScale:c,yScale:d}=e,f=new Array(a);let _,E,I,A;for(_=0,E=a;_<E;++_)I=_+r,A=i[I],f[_]={x:c.parse(A[0],I),y:d.parse(A[1],I)};return f}parseObjectData(e,i,r,a){const{xScale:c,yScale:d}=e,{xAxisKey:f="x",yAxisKey:_="y"}=this._parsing,E=new Array(a);let I,A,R,k;for(I=0,A=a;I<A;++I)R=I+r,k=i[R],E[I]={x:c.parse(Tr(k,f),R),y:d.parse(Tr(k,_),R)};return E}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const c=this._cachedMeta,d=i[e.axis];return am({keys:Iv(this.chart,!0),values:i._stacks[e.axis]},d,c.index,{mode:r})}updateRangeFromParsed(e,i,r,a){const c=r[i.axis];let d=null===c?NaN:c;const f=a&&r._stacks[i.axis];a&&f&&(a.values=f,d=am(a,c,this._cachedMeta.index)),e.min=Math.min(e.min,d),e.max=Math.max(e.max,d)}getMinMax(e,i){const r=this._cachedMeta,a=r._parsed,c=r._sorted&&e===r.iScale,d=a.length,f=this._getOtherScale(e),_=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Iv(this.chart,!0),values:null})(i,r),E={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:I,max:A}=function lC(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(f);let R,k;function j(){k=a[R];const Y=k[f.axis];return!Gt(k[e.axis])||I>Y||A<Y}for(R=0;R<d&&(j()||(this.updateRangeFromParsed(E,e,k,_),!c));++R);if(c)for(R=d-1;R>=0;--R)if(!j()){this.updateRangeFromParsed(E,e,k,_);break}return E}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let a,c,d;for(a=0,c=i.length;a<c;++a)d=i[a][e.axis],Gt(d)&&r.push(d);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,r=i.iScale,a=i.vScale,c=this.getParsed(e);return{label:r?""+r.getLabelForValue(c[r.axis]):"",value:a?""+a.getLabelForValue(c[a.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function Cv(n){let t,e,i,r;return _t(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(Et(this.options.clip,function sC(n,t,e){if(!1===e)return!1;const i=om(n,e),r=om(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,a=r.data||[],c=this.chart.chartArea,d=[],f=this._drawStart||0,_=this._drawCount||a.length-f,E=this.options.drawActiveElementsOnTop;let I;for(r.dataset&&r.dataset.draw(e,c,f,_),I=f;I<f+_;++I){const A=a[I];A.hidden||(A.active&&E?d.push(A):A.draw(e,c))}for(I=0;I<d.length;++I)d[I].draw(e,c)}getStyle(e,i){const r=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const a=this.getDataset();let c;if(e>=0&&e<this._cachedMeta.data.length){const d=this._cachedMeta.data[e];c=d.$context||(d.$context=function eA(n,t,e){return _s(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,d)),c.parsed=this.getParsed(e),c.raw=a.data[e],c.index=c.dataIndex=e}else c=this.$context||(this.$context=function uC(n,t){return _s(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),c.dataset=a,c.index=c.datasetIndex=this.index;return c.active=!!i,c.mode=r,c}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const a="active"===i,c=this._cachedDataOpts,d=e+"-"+i,f=c[d],_=this.enableOptionSharing&&ur(r);if(f)return dC(f,_);const E=this.chart.config,I=E.datasetElementScopeKeys(this._type,e),A=a?[`${e}Hover`,"hover",e,""]:[e,""],R=E.getOptionScopes(this.getDataset(),I),k=Object.keys(ht.elements[e]),Y=E.resolveNamedOptions(R,k,()=>this.getContext(r,a),A);return Y.$shared&&(Y.$shared=_,c[d]=Object.freeze(dC(Y,_))),Y}_resolveAnimations(e,i,r){const a=this.chart,c=this._cachedDataOpts,d=`animation-${i}`,f=c[d];if(f)return f;let _;if(!1!==a.options.animation){const I=this.chart.config,A=I.datasetAnimationScopeKeys(this._type,i),R=I.getOptionScopes(this.getDataset(),A);_=I.createResolver(R,this.getContext(e,r,i))}const E=new sm(a,_&&_.animations);return _&&_._cacheable&&(c[d]=Object.freeze(E)),E}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||Kf(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const r=this.resolveDataElementOptions(e,i),a=this._sharedOptions,c=this.getSharedOptions(r),d=this.includeOptions(i,c)||c!==a;return this.updateSharedOptions(c,i,r),{sharedOptions:c,includeOptions:d}}updateElement(e,i,r,a){Kf(a)?Object.assign(e,r):this._resolveAnimations(i,a).update(e,r)}updateSharedOptions(e,i,r){e&&!Kf(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,a){e.active=a;const c=this.getStyle(i,a);this._resolveAnimations(i,r,a).update(e,{options:!a&&this.getSharedOptions(c)||c})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,r=this._cachedMeta.data;for(const[f,_,E]of this._syncList)this[f](_,E);this._syncList=[];const a=r.length,c=i.length,d=Math.min(c,a);d&&this.parse(0,d),c>a?this._insertElements(a,c-a,e):c<a&&this._removeElements(c,a-c)}_insertElements(e,i,r=!0){const a=this._cachedMeta,c=a.data,d=e+i;let f;const _=E=>{for(E.length+=i,f=E.length-1;f>=d;f--)E[f]=E[f-i]};for(_(c),f=e;f<d;++f)c[f]=new this.dataElementType;this._parsing&&_(a._parsed),this.parse(e,i),r&&this.updateElements(c,e,i,"reset")}updateElements(e,i,r,a){}_removeElements(e,i){const r=this._cachedMeta;if(this._parsing){const a=r._parsed.splice(e,i);r._stacked&&Gf(r,a)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,a]=e;this[i](r,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function hC(n){const t=n.iScale,e=function cm(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,a=e.length;r<a;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=Sc(i.sort((r,a)=>r-a))}return n._cache.$bar}(t,n.type);let r,a,c,d,i=t._length;const f=()=>{32767===c||-32768===c||(ur(d)&&(i=Math.min(i,Math.abs(c-d)||i)),d=c)};for(r=0,a=e.length;r<a;++r)c=t.getPixelForValue(e[r]),f();for(d=void 0,r=0,a=t.ticks.length;r<a;++r)c=t.getPixelForTick(r),f();return i}function Tv(n,t,e,i){return Jt(n)?function ch(n,t,e,i){const r=e.parse(n[0],i),a=e.parse(n[1],i),c=Math.min(r,a),d=Math.max(r,a);let f=c,_=d;Math.abs(c)>Math.abs(d)&&(f=d,_=c),t[e.axis]=_,t._custom={barStart:f,barEnd:_,start:r,end:a,min:c,max:d}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function xv(n,t,e,i){const r=n.iScale,a=n.vScale,c=r.getLabels(),d=r===a,f=[];let _,E,I,A;for(_=e,E=e+i;_<E;++_)A=t[_],I={},I[r.axis]=d||r.parse(c[_],_),f.push(Tv(A,I,a,_));return f}function uh(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function tA(n,t,e,i){let r=t.borderSkipped;const a={};if(!r)return void(n.borderSkipped=a);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:c,end:d,reverse:f,top:_,bottom:E}=function Av(n){let t,e,i,r,a;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",a="start"):(r="start",a="end"),{start:e,end:i,reverse:t,top:r,bottom:a}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=_:(e._bottom||0)===i?r=E:(a[Vc(E,c,d,f)]=!0,r=_)),a[Vc(r,c,d,f)]=!0,n.borderSkipped=a}function Vc(n,t,e,i){return i?(n=function dm(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=hm(n,e,t)):n=hm(n,t,e),n}function hm(n,t,e){return"start"===n?t:"end"===n?e:n}function pC(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}ys.prototype.datasetElementType=null,ys.prototype.dataElementType=null;let fm=(()=>{class n extends ys{parsePrimitiveData(e,i,r,a){return xv(e,i,r,a)}parseArrayData(e,i,r,a){return xv(e,i,r,a)}parseObjectData(e,i,r,a){const{iScale:c,vScale:d}=e,{xAxisKey:f="x",yAxisKey:_="y"}=this._parsing,E="x"===c.axis?f:_,I="x"===d.axis?f:_,A=[];let R,k,j,Y;for(R=r,k=r+a;R<k;++R)Y=i[R],j={},j[c.axis]=c.parse(Tr(Y,E),R),A.push(Tv(Tr(Y,I),j,d,R));return A}updateRangeFromParsed(e,i,r,a){super.updateRangeFromParsed(e,i,r,a);const c=r._custom;c&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,c.min),e.max=Math.max(e.max,c.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:r,vScale:a}=i,c=this.getParsed(e),d=c._custom,f=uh(d)?"["+d.start+", "+d.end+"]":""+a.getLabelForValue(c[a.axis]);return{label:""+r.getLabelForValue(c[r.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,a){const c="reset"===a,{index:d,_cachedMeta:{vScale:f}}=this,_=f.getBasePixel(),E=f.isHorizontal(),I=this._getRuler(),{sharedOptions:A,includeOptions:R}=this._getSharedOptions(i,a);for(let k=i;k<i+r;k++){const j=this.getParsed(k),Y=c||Bt(j[f.axis])?{base:_,head:_}:this._calculateBarValuePixels(k),ne=this._calculateBarIndexPixels(k,I),ue=(j._stacks||{})[f.axis],Me={horizontal:E,base:Y.base,enableBorderRadius:!ue||uh(j._custom)||d===ue._top||d===ue._bottom,x:E?Y.head:ne.center,y:E?ne.center:Y.head,height:E?ne.size:Math.abs(Y.size),width:E?Math.abs(Y.size):ne.size};R&&(Me.options=A||this.resolveDataElementOptions(k,e[k].active?"active":a));const be=Me.options||e[k].options;tA(Me,be,ue,d),pC(Me,be,I.ratio),this.updateElement(e[k],k,Me,a)}}_getStacks(e,i){const{iScale:r}=this._cachedMeta,a=r.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),c=r.options.stacked,d=[],f=_=>{const E=_.controller.getParsed(i),I=E&&E[_.vScale.axis];if(Bt(I)||isNaN(I))return!0};for(const _ of a)if((void 0===i||!f(_))&&((!1===c||-1===d.indexOf(_.stack)||void 0===c&&void 0===_.stack)&&d.push(_.stack),_.index===e))break;return d.length||d.push(void 0),d}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){const a=this._getStacks(e,r),c=void 0!==i?a.indexOf(i):-1;return-1===c?a.length-1:c}_getRuler(){const e=this.options,i=this._cachedMeta,r=i.iScale,a=[];let c,d;for(c=0,d=i.data.length;c<d;++c)a.push(r.getPixelForValue(this.getParsed(c)[r.axis],c));const f=e.barThickness;return{min:f||hC(i),pixels:a,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:f?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:r},options:{base:a,minBarLength:c}}=this,d=a||0,f=this.getParsed(e),_=f._custom,E=uh(_);let k,j,I=f[i.axis],A=0,R=r?this.applyStack(i,f,r):I;R!==I&&(A=R-I,R=I),E&&(I=_.barStart,R=_.barEnd-_.barStart,0!==I&&dr(I)!==dr(_.barEnd)&&(A=0),A+=I);const Y=Bt(a)||E?A:a;let ne=i.getPixelForValue(Y);if(k=this.chart.getDataVisibility(e)?i.getPixelForValue(A+R):ne,j=k-ne,Math.abs(j)<c){j=function um(n,t,e){return 0!==n?dr(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(j,i,d)*c,I===d&&(ne-=j/2);const ue=i.getPixelForDecimal(0),Me=i.getPixelForDecimal(1),be=Math.min(ue,Me),we=Math.max(ue,Me);ne=Math.max(Math.min(ne,we),be),k=ne+j}if(ne===i.getPixelForValue(d)){const ue=dr(j)*i.getLineWidthForValue(d)/2;ne+=ue,j-=ue}return{size:j,base:ne,head:k,center:k+j/2}}_calculateBarIndexPixels(e,i){const r=i.scale,a=this.options,c=a.skipNull,d=Et(a.maxBarThickness,1/0);let f,_;if(i.grouped){const E=c?this._getStackCount(e):i.stackCount,I="flex"===a.barThickness?function fC(n,t,e,i){const r=t.pixels,a=r[n];let c=n>0?r[n-1]:null,d=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;null===c&&(c=a-(null===d?t.end-t.start:d-a)),null===d&&(d=a+a-c);const _=a-(a-Math.min(c,d))/2*f;return{chunk:Math.abs(d-c)/2*f/i,ratio:e.barPercentage,start:_}}(e,i,a,E):function Sv(n,t,e,i){const r=e.barThickness;let a,c;return Bt(r)?(a=t.min*e.categoryPercentage,c=e.barPercentage):(a=r*i,c=1),{chunk:a/i,ratio:c,start:t.pixels[n]-a/2}}(e,i,a,E),A=this._getStackIndex(this.index,this._cachedMeta.stack,c?e:void 0);f=I.start+I.chunk*A+I.chunk/2,_=Math.min(d,I.chunk*I.ratio)}else f=r.getPixelForValue(this.getParsed(e)[r.axis],e),_=Math.min(d,i.min*i.ratio);return{base:f-_/2,head:f+_/2,center:f,size:_}}draw(){const e=this._cachedMeta,i=e.vScale,r=e.data,a=r.length;let c=0;for(;c<a;++c)null!==this.getParsed(c)[i.axis]&&r[c].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),gC=(()=>{class n extends ys{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,a){const c=super.parsePrimitiveData(e,i,r,a);for(let d=0;d<c.length;d++)c[d]._custom=this.resolveDataElementOptions(d+r).radius;return c}parseArrayData(e,i,r,a){const c=super.parseArrayData(e,i,r,a);for(let d=0;d<c.length;d++)c[d]._custom=Et(i[r+d][2],this.resolveDataElementOptions(d+r).radius);return c}parseObjectData(e,i,r,a){const c=super.parseObjectData(e,i,r,a);for(let d=0;d<c.length;d++){const f=i[r+d];c[d]._custom=Et(f&&f.r&&+f.r,this.resolveDataElementOptions(d+r).radius)}return c}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,{xScale:r,yScale:a}=i,c=this.getParsed(e),d=r.getLabelForValue(c.x),f=a.getLabelForValue(c.y),_=c._custom;return{label:i.label,value:"("+d+", "+f+(_?", "+_:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,a){const c="reset"===a,{iScale:d,vScale:f}=this._cachedMeta,{sharedOptions:_,includeOptions:E}=this._getSharedOptions(i,a),I=d.axis,A=f.axis;for(let R=i;R<i+r;R++){const k=e[R],j=!c&&this.getParsed(R),Y={},ne=Y[I]=c?d.getPixelForDecimal(.5):d.getPixelForValue(j[I]),ue=Y[A]=c?f.getBasePixel():f.getPixelForValue(j[A]);Y.skip=isNaN(ne)||isNaN(ue),E&&(Y.options=_||this.resolveDataElementOptions(R,k.active?"active":a),c&&(Y.options.radius=0)),this.updateElement(k,R,Y,a)}}resolveDataElementOptions(e,i){const r=this.getParsed(e);let a=super.resolveDataElementOptions(e,i);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const c=a.radius;return"active"!==i&&(a.radius=0),a.radius+=Et(r&&r._custom,c),a}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),Mv=(()=>{class n extends ys{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const r=this.getDataset().data,a=this._cachedMeta;if(!1===this._parsing)a._parsed=r;else{let d,f,c=_=>+r[_];if(_t(r[e])){const{key:_="value"}=this._parsing;c=E=>+Tr(r[E],_)}for(d=e,f=e+i;d<f;++d)a._parsed[d]=c(d)}}_getRotation(){return ee(this.options.rotation-90)}_getCircumference(){return ee(this.options.circumference)}_getRotationExtents(){let e=qt,i=-qt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const a=this.chart.getDatasetMeta(r).controller,c=a._getRotation(),d=a._getCircumference();e=Math.min(e,c),i=Math.max(i,c+d)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:r}=i,a=this._cachedMeta,c=a.data,d=this.getMaxBorderWidth()+this.getMaxOffset(c)+this.options.spacing,f=Math.max((Math.min(r.width,r.height)-d)/2,0),_=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/t)(this.options.cutout,f),1),E=this._getRingWeight(this.index),{circumference:I,rotation:A}=this._getRotationExtents(),{ratioX:R,ratioY:k,offsetX:j,offsetY:Y}=function mC(n,t,e){let i=1,r=1,a=0,c=0;if(t<qt){const d=n,f=d+t,_=Math.cos(d),E=Math.sin(d),I=Math.cos(f),A=Math.sin(f),R=(Me,be,we)=>it(Me,d,f,!0)?1:Math.max(be,be*e,we,we*e),k=(Me,be,we)=>it(Me,d,f,!0)?-1:Math.min(be,be*e,we,we*e),j=R(0,_,I),Y=R(Qt,E,A),ne=k(Ut,_,I),ue=k(Ut+Qt,E,A);i=(j-ne)/2,r=(Y-ue)/2,a=-(j+ne)/2,c=-(Y+ue)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:c}}(A,I,_),Me=Math.max(Math.min((r.width-d)/R,(r.height-d)/k)/2,0),be=oa(this.options.radius,Me),Ue=(be-Math.max(be*_,0))/this._getVisibleDatasetWeightTotal();this.offsetX=j*be,this.offsetY=Y*be,a.total=this.calculateTotal(),this.outerRadius=be-Ue*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Ue*E,0),this.updateElements(c,0,c.length,e)}_circumference(e,i){const r=this.options,a=this._cachedMeta,c=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===a._parsed[e]||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*c/qt)}updateElements(e,i,r,a){const c="reset"===a,d=this.chart,f=d.chartArea,I=(f.left+f.right)/2,A=(f.top+f.bottom)/2,R=c&&d.options.animation.animateScale,k=R?0:this.innerRadius,j=R?0:this.outerRadius,{sharedOptions:Y,includeOptions:ne}=this._getSharedOptions(i,a);let Me,ue=this._getRotation();for(Me=0;Me<i;++Me)ue+=this._circumference(Me,c);for(Me=i;Me<i+r;++Me){const be=this._circumference(Me,c),we=e[Me],Ue={x:I+this.offsetX,y:A+this.offsetY,startAngle:ue,endAngle:ue+be,circumference:be,outerRadius:j,innerRadius:k};ne&&(Ue.options=Y||this.resolveDataElementOptions(Me,we.active?"active":a)),ue+=be,this.updateElement(we,Me,Ue,a)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let a,r=0;for(a=0;a<i.length;a++){const c=e._parsed[a];null!==c&&!isNaN(c)&&this.chart.getDataVisibility(a)&&!i[a].hidden&&(r+=Math.abs(c))}return r}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?qt*(Math.abs(e)/i):0}getLabelAndValue(e){const r=this.chart,a=r.data.labels||[],c=Vu(this._cachedMeta._parsed[e],r.options.locale);return{label:a[e]||"",value:c}}getMaxBorderWidth(e){let i=0;const r=this.chart;let a,c,d,f,_;if(!e)for(a=0,c=r.data.datasets.length;a<c;++a)if(r.isDatasetVisible(a)){d=r.getDatasetMeta(a),e=d.data,f=d.controller;break}if(!e)return 0;for(a=0,c=e.length;a<c;++a)_=f.resolveDataElementOptions(a),"inner"!==_.borderAlign&&(i=Math.max(i,_.borderWidth||0,_.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,a=e.length;r<a;++r){const c=this.resolveDataElementOptions(r);i=Math.max(i,c.offset||0,c.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(Et(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((r,a)=>{const d=t.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const i=": "+t.formattedValue;return Jt(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}}},n})(),_C=(()=>{class n extends ys{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:r,data:a=[],_dataset:c}=i,d=this.chart._animationsDisabled;let{start:f,count:_}=Gd(i,a,d);this._drawStart=f,this._drawCount=_,Ug(i)&&(f=0,_=a.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!c._decimated,r.points=a;const E=this.resolveDatasetElementOptions(e);this.options.showLine||(E.borderWidth=0),E.segment=this.options.segment,this.updateElement(r,void 0,{animated:!d,options:E},e),this.updateElements(a,f,_,e)}updateElements(e,i,r,a){const c="reset"===a,{iScale:d,vScale:f,_stacked:_,_dataset:E}=this._cachedMeta,{sharedOptions:I,includeOptions:A}=this._getSharedOptions(i,a),R=d.axis,k=f.axis,{spanGaps:j,segment:Y}=this.options,ne=S(j)?j:Number.POSITIVE_INFINITY,ue=this.chart._animationsDisabled||c||"none"===a;let Me=i>0&&this.getParsed(i-1);for(let be=i;be<i+r;++be){const we=e[be],Ue=this.getParsed(be),Ke=ue?we:{},ot=Bt(Ue[k]),lt=Ke[R]=d.getPixelForValue(Ue[R],be),rn=Ke[k]=c||ot?f.getBasePixel():f.getPixelForValue(_?this.applyStack(f,Ue,_):Ue[k],be);Ke.skip=isNaN(lt)||isNaN(rn)||ot,Ke.stop=be>0&&Math.abs(Ue[R]-Me[R])>ne,Y&&(Ke.parsed=Ue,Ke.raw=E.data[be]),A&&(Ke.options=I||this.resolveDataElementOptions(be,we.active?"active":a)),ue||this.updateElement(we,be,Ke,a),Me=Ue}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,a=e.data||[];if(!a.length)return r;const c=a[0].size(this.resolveDataElementOptions(0)),d=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(r,c,d)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),yC=(()=>{class n extends ys{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,a=r.data.labels||[],c=Vu(this._cachedMeta._parsed[e].r,r.options.locale);return{label:a[e]||"",value:c}}parseObjectData(e,i,r,a){return sh.bind(this)(e,i,r,a)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,a)=>{const c=this.getParsed(a).r;!isNaN(c)&&this.chart.getDataVisibility(a)&&(c<i.min&&(i.min=c),c>i.max&&(i.max=c))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,r=e.options,a=Math.min(i.right-i.left,i.bottom-i.top),c=Math.max(a/2,0),f=(c-Math.max(r.cutoutPercentage?c/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=c-f*this.index,this.innerRadius=this.outerRadius-f}updateElements(e,i,r,a){const c="reset"===a,d=this.chart,_=d.options.animation,E=this._cachedMeta.rScale,I=E.xCenter,A=E.yCenter,R=E.getIndexAngle(0)-.5*Ut;let j,k=R;const Y=360/this.countVisibleElements();for(j=0;j<i;++j)k+=this._computeAngle(j,a,Y);for(j=i;j<i+r;j++){const ne=e[j];let ue=k,Me=k+this._computeAngle(j,a,Y),be=d.getDataVisibility(j)?E.getDistanceFromCenterForValue(this.getParsed(j).r):0;k=Me,c&&(_.animateScale&&(be=0),_.animateRotate&&(ue=Me=R));const we={x:I,y:A,innerRadius:0,outerRadius:be,startAngle:ue,endAngle:Me,options:this.resolveDataElementOptions(j,ne.active?"active":a)};this.updateElement(ne,j,we,a)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?ee(this.resolveDataElementOptions(e,i).angle||r):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((r,a)=>{const d=t.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),vC=(()=>{class n extends Mv{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),Rv=(()=>{class n extends ys{getLabelAndValue(e){const i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,a){return sh.bind(this)(e,i,r,a)}update(e){const i=this._cachedMeta,r=i.dataset,a=i.data||[],c=i.iScale.getLabels();if(r.points=a,"resize"!==e){const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:c.length===a.length,options:d},e)}this.updateElements(a,0,a.length,e)}updateElements(e,i,r,a){const c=this._cachedMeta.rScale,d="reset"===a;for(let f=i;f<i+r;f++){const _=e[f],E=this.resolveDataElementOptions(f,_.active?"active":a),I=c.getPointPositionForValue(f,this.getParsed(f).r),A=d?c.xCenter:I.x,R=d?c.yCenter:I.y,k={x:A,y:R,angle:I.angle,skip:isNaN(A)||isNaN(R),options:E};this.updateElement(_,f,k,a)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})();class Wr{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return S(this.x)&&S(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}}Wr.defaults={},Wr.defaultRoutes=void 0;const pm={values:n=>Jt(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,a=n;if(e.length>1){const _=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(_<1e-4||_>1e15)&&(r="scientific"),a=function gm(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const c=jn(Math.abs(a)),d=Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),Vu(n,i,f)},logarithmic(n,t,e){if(0===n)return"0";const i=n/Math.pow(10,Math.floor(jn(n)));return 1===i||2===i||5===i?pm.numeric.call(this,n,t,e):""}};var Zf={formatters:pm};function dh(n,t,e,i,r){const a=Et(i,0),c=Math.min(Et(r,n.length),n.length);let f,_,E,d=0;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),E=a;E<0;)d++,E=Math.round(a+d*e);for(_=Math.max(a,0);_<c;_++)_===E&&(t.push(n[_]),d++,E=Math.round(a+d*e))}ht.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),ht.route("scale.ticks","color","","color"),ht.route("scale.grid","color","","borderColor"),ht.route("scale.grid","borderColor","","borderColor"),ht.route("scale.title","color","","color"),ht.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),ht.describe("scales",{_fallback:"scale"}),ht.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const hh=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e;function Nv(n,t){const e=[],i=n.length/t,r=n.length;let a=0;for(;a<r;a+=i)e.push(n[Math.floor(a)]);return e}function Lv(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),a=n._startPixel,c=n._endPixel,d=1e-6;let _,f=n.getPixelForTick(r);if(!(e&&(_=1===i?Math.max(f-a,c-f):0===t?(n.getPixelForTick(1)-f)/2:(f-n.getPixelForTick(r-1))/2,f+=r<t?_:-_,f<a-d||f>c+d)))return f}function Hu(n){return n.drawTicks?n.tickLength:0}function Yf(n,t){if(!n.display)return 0;const e=On(n.font,t),i=ii(n.padding);return(Jt(n.text)?n.text.length:1)*e.lineHeight+i.height}function Qf(n,t,e){let i=gl(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class va extends Wr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Fi(t,Number.POSITIVE_INFINITY),e=Fi(e,Number.NEGATIVE_INFINITY),i=Fi(i,Number.POSITIVE_INFINITY),r=Fi(r,Number.NEGATIVE_INFINITY),{min:Fi(t,i),max:Fi(e,r),minDefined:Gt(t),maxDefined:Gt(e)}}getMinMax(t){let c,{min:e,max:i,minDefined:r,maxDefined:a}=this.getUserBounds();if(r&&a)return{min:e,max:i};const d=this.getMatchingVisibleMetas();for(let f=0,_=d.length;f<_;++f)c=d[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),a||(i=Math.max(i,c.max));return e=a&&e>i?i:e,i=r&&e>i?e:i,{min:Fi(e,Fi(i,e)),max:Fi(i,Fi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){fn(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:a,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function jf(n,t,e){const{min:i,max:r}=n,a=oa(t,(r-i)/2),c=(d,f)=>e&&0===d?0:d+f;return{min:c(i,-Math.abs(a)),max:c(r,a)}}(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?Nv(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||"auto"===c.source)&&(this.ticks=function bC(n,t){const e=n.options.ticks,i=e.maxTicksLimit||function Pv(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=e.major.enabled?function jc(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],a=r.length,c=r[0],d=r[a-1],f=[];if(a>i)return function kv(n,t,e,i){let c,r=0,a=e[0];for(i=Math.ceil(i),c=0;c<n.length;c++)c===a&&(t.push(n[c]),r++,a=e[r*i])}(t,f,r,a/i),f;const _=function Ov(n,t,e){const i=function wC(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const a=function zd(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,a)=>r-a).pop(),t}(i);for(let c=0,d=a.length-1;c<d;c++){const f=a[c];if(f>r)return f}return Math.max(r,1)}(r,t,i);if(a>0){let E,I;const A=a>1?Math.round((d-c)/(a-1)):null;for(dh(t,f,_,Bt(A)?0:c-A,c),E=0,I=a-1;E<I;E++)dh(t,f,_,r[E],r[E+1]);return dh(t,f,_,d,Bt(A)?t.length:d+A),f}return dh(t,f,_),f}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){fn(this.options.afterUpdate,[this])}beforeSetDimensions(){fn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){fn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),fn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){fn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,a;for(i=0,r=t.length;i<r;i++)a=t[i],a.label=fn(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){fn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){fn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,r=e.minRotation||0,a=e.maxRotation;let d,f,_,c=r;if(!this._isVisible()||!e.display||r>=a||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const E=this._getLabelSizes(),I=E.widest.width,A=E.highest.height,R=Tt(this.chart.width-I,0,this.maxWidth);d=t.offset?this.maxWidth/i:R/(i-1),I+6>d&&(d=R/(i-(t.offset?.5:1)),f=this.maxHeight-Hu(t.grid)-e.padding-Yf(t.title,this.chart.options.font),_=Math.sqrt(I*I+A*A),c=ce(Math.min(Math.asin(Tt((E.highest.height+6)/d,-1,1)),Math.asin(Tt(f/_,-1,1))-Math.asin(Tt(A/_,-1,1)))),c=Math.max(r,Math.min(a,c))),this.labelRotation=c}afterCalculateLabelRotation(){fn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){fn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:a}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const f=Yf(r,e.options.font);if(d?(t.width=this.maxWidth,t.height=Hu(a)+f):(t.height=this.maxHeight,t.width=Hu(a)+f),i.display&&this.ticks.length){const{first:_,last:E,widest:I,highest:A}=this._getLabelSizes(),R=2*i.padding,k=ee(this.labelRotation),j=Math.cos(k),Y=Math.sin(k);d?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:Y*I.width+j*A.height)+R):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:j*I.width+Y*A.height)+R),this._calculatePadding(_,E,Y,j)}}this._handleMargins(),d?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:a,padding:c},position:d}=this.options,f=0!==this.labelRotation,_="top"!==d&&"x"===this.axis;if(this.isHorizontal()){const E=this.getPixelForTick(0)-this.left,I=this.right-this.getPixelForTick(this.ticks.length-1);let A=0,R=0;f?_?(A=r*t.width,R=i*e.height):(A=i*t.height,R=r*e.width):"start"===a?R=e.width:"end"===a?A=t.width:"inner"!==a&&(A=t.width/2,R=e.width/2),this.paddingLeft=Math.max((A-E+c)*this.width/(this.width-E),0),this.paddingRight=Math.max((R-I+c)*this.width/(this.width-I),0)}else{let E=e.height/2,I=t.height/2;"start"===a?(E=0,I=t.height):"end"===a&&(E=e.height,I=0),this.paddingTop=E+c,this.paddingBottom=I+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){fn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)Bt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Nv(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:r}=this,a=[],c=[];let _,E,I,A,R,k,j,Y,ne,ue,Me,d=0,f=0;for(_=0;_<e;++_){if(A=t[_].label,R=this._resolveTickFontOptions(_),i.font=k=R.string,j=r[k]=r[k]||{data:{},gc:[]},Y=R.lineHeight,ne=ue=0,Bt(A)||Jt(A)){if(Jt(A))for(E=0,I=A.length;E<I;++E)Me=A[E],!Bt(Me)&&!Jt(Me)&&(ne=Au(i,j.data,j.gc,ne,Me),ue+=Y)}else ne=Au(i,j.data,j.gc,ne,A),ue=Y;a.push(ne),c.push(ue),d=Math.max(ne,d),f=Math.max(ue,f)}!function Fv(n,t){Kt(n,e=>{const i=e.gc,r=i.length/2;let a;if(r>t){for(a=0;a<r;++a)delete e.data[i[a]];i.splice(0,r)}})}(r,e);const be=a.indexOf(d),we=c.indexOf(f),Ue=Ke=>({width:a[Ke]||0,height:c[Ke]||0});return{first:Ue(0),last:Ue(e-1),widest:Ue(be),highest:Ue(we),widths:a,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function li(n){return Tt(n,-32768,32767)}(this._alignToPixels?Co(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function qf(n,t,e){return _s(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function Bv(n,t){return _s(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ee(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),a=this._getLabelSizes(),c=t.autoSkipPadding||0,d=a?a.widest.width+c:0,f=a?a.highest.height+c:0;return this.isHorizontal()?f*i>d*r?d/i:f/r:f*r<d*i?f/i:d/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:a,position:c}=r,d=a.offset,f=this.isHorizontal(),E=this.ticks.length+(d?1:0),I=Hu(a),A=[],R=a.setContext(this.getContext()),k=R.drawBorder?R.borderWidth:0,j=k/2,Y=function(Ot){return Co(i,Ot,k)};let ne,ue,Me,be,we,Ue,Ke,ot,lt,rn,ln,en;if("top"===c)ne=Y(this.bottom),Ue=this.bottom-I,ot=ne-j,rn=Y(t.top)+j,en=t.bottom;else if("bottom"===c)ne=Y(this.top),rn=t.top,en=Y(t.bottom)-j,Ue=ne+j,ot=this.top+I;else if("left"===c)ne=Y(this.right),we=this.right-I,Ke=ne-j,lt=Y(t.left)+j,ln=t.right;else if("right"===c)ne=Y(this.left),lt=t.left,ln=Y(t.right)-j,we=ne+j,Ke=this.left+I;else if("x"===e){if("center"===c)ne=Y((t.top+t.bottom)/2+.5);else if(_t(c)){const Ot=Object.keys(c)[0];ne=Y(this.chart.scales[Ot].getPixelForValue(c[Ot]))}rn=t.top,en=t.bottom,Ue=ne+j,ot=Ue+I}else if("y"===e){if("center"===c)ne=Y((t.left+t.right)/2);else if(_t(c)){const Ot=Object.keys(c)[0];ne=Y(this.chart.scales[Ot].getPixelForValue(c[Ot]))}we=ne-j,Ke=we-I,lt=t.left,ln=t.right}const Ti=Et(r.ticks.maxTicksLimit,E),qr=Math.max(1,Math.ceil(E/Ti));for(ue=0;ue<E;ue+=qr){const Ot=a.setContext(this.getContext(ue)),xi=Ot.lineWidth,mi=Ot.color,pf=Ot.borderDash||[],qx=Ot.borderDashOffset,Mg=Ot.tickWidth,QE=Ot.tickColor,Rg=Ot.tickBorderDash||[],iv=Ot.tickBorderDashOffset;Me=Lv(this,ue,d),void 0!==Me&&(be=Co(i,Me,xi),f?we=Ke=lt=ln=be:Ue=ot=rn=en=be,A.push({tx1:we,ty1:Ue,tx2:Ke,ty2:ot,x1:lt,y1:rn,x2:ln,y2:en,width:xi,color:mi,borderDash:pf,borderDashOffset:qx,tickWidth:Mg,tickColor:QE,tickBorderDash:Rg,tickBorderDashOffset:iv}))}return this._ticksLength=E,this._borderValue=ne,A}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:a}=i,c=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:_,padding:E,mirror:I}=a,A=Hu(i.grid),R=A+E,k=I?-E:R,j=-ee(this.labelRotation),Y=[];let ne,ue,Me,be,we,Ue,Ke,ot,lt,rn,ln,en,Ti="middle";if("top"===r)Ue=this.bottom-k,Ke=this._getXAxisLabelAlignment();else if("bottom"===r)Ue=this.top+k,Ke=this._getXAxisLabelAlignment();else if("left"===r){const Ot=this._getYAxisLabelAlignment(A);Ke=Ot.textAlign,we=Ot.x}else if("right"===r){const Ot=this._getYAxisLabelAlignment(A);Ke=Ot.textAlign,we=Ot.x}else if("x"===e){if("center"===r)Ue=(t.top+t.bottom)/2+R;else if(_t(r)){const Ot=Object.keys(r)[0];Ue=this.chart.scales[Ot].getPixelForValue(r[Ot])+R}Ke=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)we=(t.left+t.right)/2-R;else if(_t(r)){const Ot=Object.keys(r)[0];we=this.chart.scales[Ot].getPixelForValue(r[Ot])}Ke=this._getYAxisLabelAlignment(A).textAlign}"y"===e&&("start"===f?Ti="top":"end"===f&&(Ti="bottom"));const qr=this._getLabelSizes();for(ne=0,ue=d.length;ne<ue;++ne){Me=d[ne],be=Me.label;const Ot=a.setContext(this.getContext(ne));ot=this.getPixelForTick(ne)+a.labelOffset,lt=this._resolveTickFontOptions(ne),rn=lt.lineHeight,ln=Jt(be)?be.length:1;const xi=ln/2,mi=Ot.color,pf=Ot.textStrokeColor,qx=Ot.textStrokeWidth;let QE,Mg=Ke;if(c?(we=ot,"inner"===Ke&&(Mg=ne===ue-1?this.options.reverse?"left":"right":0===ne?this.options.reverse?"right":"left":"center"),en="top"===r?"near"===_||0!==j?-ln*rn+rn/2:"center"===_?-qr.highest.height/2-xi*rn+rn:rn/2-qr.highest.height:"near"===_||0!==j?rn/2:"center"===_?qr.highest.height/2-xi*rn:qr.highest.height-ln*rn,I&&(en*=-1)):(Ue=ot,en=(1-ln)*rn/2),Ot.showLabelBackdrop){const Rg=ii(Ot.backdropPadding),iv=qr.heights[ne],Qx=qr.widths[ne];let Xx=Ue+en-Rg.top,Jx=we-Rg.left;switch(Ti){case"middle":Xx-=iv/2;break;case"bottom":Xx-=iv}switch(Ke){case"center":Jx-=Qx/2;break;case"right":Jx-=Qx}QE={left:Jx,top:Xx,width:Qx+Rg.width,height:iv+Rg.height,color:Ot.backdropColor}}Y.push({rotation:j,label:be,font:lt,color:mi,strokeColor:pf,strokeWidth:qx,textOffset:en,textAlign:Mg,textBaseline:Ti,translation:[we,Ue],backdrop:QE})}return Y}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ee(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,d=t+a,f=this._getLabelSizes().widest.width;let _,E;return"left"===e?r?(E=this.right+a,"near"===i?_="left":"center"===i?(_="center",E+=f/2):(_="right",E+=f)):(E=this.right-d,"near"===i?_="right":"center"===i?(_="center",E-=f/2):(_="left",E=this.left)):"right"===e?r?(E=this.left+a,"near"===i?_="right":"center"===i?(_="center",E-=f/2):(_="left",E-=f)):(E=this.left+d,"near"===i?_="left":"center"===i?(_="center",E+=f/2):(_="right",E=this.right)):_="right",{textAlign:_,x:E}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:a,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,a,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(a=>a.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,c;const d=(f,_,E)=>{!E.width||!E.color||(i.save(),i.lineWidth=E.width,i.strokeStyle=E.color,i.setLineDash(E.borderDash||[]),i.lineDashOffset=E.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(_.x,_.y),i.stroke(),i.restore())};if(e.display)for(a=0,c=r.length;a<c;++a){const f=r[a];e.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:i}}=this,r=i.setContext(this.getContext()),a=i.drawBorder?r.borderWidth:0;if(!a)return;const c=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,_,E,I;this.isHorizontal()?(f=Co(t,this.left,a)-a/2,_=Co(t,this.right,c)+c/2,E=I=d):(E=Co(t,this.top,a)-a/2,I=Co(t,this.bottom,c)+c/2,f=_=d),e.save(),e.lineWidth=r.borderWidth,e.strokeStyle=r.borderColor,e.beginPath(),e.moveTo(f,E),e.lineTo(_,I),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Mu(i,r);const a=this._labelItems||(this._labelItems=this._computeLabelItems(t));let c,d;for(c=0,d=a.length;c<d;++c){const f=a[c],_=f.font,E=f.label;f.backdrop&&(i.fillStyle=f.backdrop.color,i.fillRect(f.backdrop.left,f.backdrop.top,f.backdrop.width,f.backdrop.height)),ms(i,E,0,f.textOffset,_,f)}r&&Xd(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const a=On(i.font),c=ii(i.padding),d=i.align;let f=a.lineHeight/2;"bottom"===e||"center"===e||_t(e)?(f+=c.bottom,Jt(i.text)&&(f+=a.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:_,titleY:E,maxWidth:I,rotation:A}=function Uv(n,t,e,i){const{top:r,left:a,bottom:c,right:d,chart:f}=n,{chartArea:_,scales:E}=f;let A,R,k,I=0;const j=c-r,Y=d-a;if(n.isHorizontal()){if(R=Kn(i,a,d),_t(e)){const ne=Object.keys(e)[0];k=E[ne].getPixelForValue(e[ne])+j-t}else k="center"===e?(_.bottom+_.top)/2+j-t:hh(n,e,t);A=d-a}else{if(_t(e)){const ne=Object.keys(e)[0];R=E[ne].getPixelForValue(e[ne])-Y+t}else R="center"===e?(_.left+_.right)/2-Y+t:hh(n,e,t);k=Kn(i,c,r),I="left"===e?-Qt:Qt}return{titleX:R,titleY:k,maxWidth:A,rotation:I}}(this,f,e,d);ms(t,i.text,0,0,a,{color:i.color,maxWidth:I,rotation:A,textAlign:Qf(d,e,r),textBaseline:"middle",translation:[_,E]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Et(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===va.prototype.draw?[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]:[{z:e,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let a,c;for(a=0,c=e.length;a<c;++a){const d=e[a];d[i]===this.id&&(!t||d.type===t)&&r.push(d)}return r}_resolveTickFontOptions(t){return On(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class fh{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function EC(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,a=t.id,c=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in r||(r[a]=t,function mm(n,t,e){const i=jr(Object.create(null),[e?ht.get(e):{},ht.get(t),n.defaults]);ht.set(t,i),n.defaultRoutes&&function ph(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),a=[n].concat(i).join("."),c=t[e].split("."),d=c.pop(),f=c.join(".");ht.route(a,r,f,d)})}(t,n.defaultRoutes),n.descriptors&&ht.describe(t,n.descriptors)}(t,c,i),this.override&&ht.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in ht[r]&&(delete ht[r][i],this.override&&delete wo[i])}}var To=new class Vv{constructor(){this.controllers=new fh(ys,"datasets",!0),this.elements=new fh(Wr,"elements"),this.plugins=new fh(Object,"plugins"),this.scales=new fh(va,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(t,a,r):Kt(r,c=>{const d=i||this._getRegistryForType(c);this._exec(t,d,c)})})}_exec(t,e,i){const r=fl(t);fn(i["before"+r],[],i),e[t](i),fn(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}},jv=Object.freeze({__proto__:null,BarController:fm,BubbleController:gC,DoughnutController:Mv,LineController:_C,PolarAreaController:yC,PieController:vC,RadarController:Rv,ScatterController:(()=>{class n extends ys{update(e){const i=this._cachedMeta,{data:r=[]}=i,a=this.chart._animationsDisabled;let{start:c,count:d}=Gd(i,r,a);if(this._drawStart=c,this._drawCount=d,Ug(i)&&(c=0,d=r.length),this.options.showLine){const{dataset:f,_dataset:_}=i;f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!_._decimated,f.points=r;const E=this.resolveDatasetElementOptions(e);E.segment=this.options.segment,this.updateElement(f,void 0,{animated:!a,options:E},e)}this.updateElements(r,c,d,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=To.getElement("line")),super.addElements()}updateElements(e,i,r,a){const c="reset"===a,{iScale:d,vScale:f,_stacked:_,_dataset:E}=this._cachedMeta,I=this.resolveDataElementOptions(i,a),A=this.getSharedOptions(I),R=this.includeOptions(a,A),k=d.axis,j=f.axis,{spanGaps:Y,segment:ne}=this.options,ue=S(Y)?Y:Number.POSITIVE_INFINITY,Me=this.chart._animationsDisabled||c||"none"===a;let be=i>0&&this.getParsed(i-1);for(let we=i;we<i+r;++we){const Ue=e[we],Ke=this.getParsed(we),ot=Me?Ue:{},lt=Bt(Ke[j]),rn=ot[k]=d.getPixelForValue(Ke[k],we),ln=ot[j]=c||lt?f.getBasePixel():f.getPixelForValue(_?this.applyStack(f,Ke,_):Ke[j],we);ot.skip=isNaN(rn)||isNaN(ln)||lt,ot.stop=we>0&&Math.abs(Ke[k]-be[k])>ue,ne&&(ot.parsed=Ke,ot.raw=E.data[we]),R&&(ot.options=A||this.resolveDataElementOptions(we,Ue.active?"active":a)),Me||this.updateElement(Ue,we,ot,a),be=Ke}this.updateSharedOptions(A,a,I)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let f=0;for(let _=i.length-1;_>=0;--_)f=Math.max(f,i[_].size(this.resolveDataElementOptions(_))/2);return f>0&&f}const r=e.dataset,a=r.options&&r.options.borderWidth||0;if(!i.length)return a;const c=i[0].size(this.resolveDataElementOptions(0)),d=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(a,c,d)/2}}return n.id="scatter",n.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})()});function ba(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var rA={_date:(()=>{class n{constructor(e){this.options=e||{}}init(e){}formats(){return ba()}parse(e,i){return ba()}format(e,i){return ba()}add(e,i,r){return ba()}diff(e,i,r){return ba()}startOf(e,i,r){return ba()}endOf(e,i){return ba()}}return n.override=function(t){Object.assign(n.prototype,t)},n})()};function Hv(n,t,e,i){const{controller:r,data:a,_sorted:c}=n,d=r._cachedMeta.iScale;if(d&&t===d.axis&&"r"!==t&&c&&a.length){const f=d._reversePixels?yo:gi;if(!i)return f(a,t,e);if(r._sharedOptions){const _=a[0],E="function"==typeof _.getRange&&_.getRange(t);if(E){const I=f(a,t,e-E),A=f(a,t,e+E);return{lo:I.lo,hi:A.hi}}}}return{lo:0,hi:a.length-1}}function gh(n,t,e,i,r){const a=n.getSortedVisibleDatasetMetas(),c=e[t];for(let d=0,f=a.length;d<f;++d){const{index:_,data:E}=a[d],{lo:I,hi:A}=Hv(a[d],t,c,r);for(let R=I;R<=A;++R){const k=E[R];k.skip||i(k,_,R)}}}function _m(n,t,e,i,r){const a=[];return!r&&!n.isPointInArea(t)||gh(n,e,t,function(d,f,_){!r&&!vl(d,n.chartArea,0)||d.inRange(t.x,t.y,i)&&a.push({element:d,datasetIndex:f,index:_})},!0),a}function ym(n,t,e,i,r,a){return a||n.isPointInArea(t)?"r"!==e||i?function zs(n,t,e,i,r,a){let c=[];const d=function $v(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const a=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(c,2))}}(e);let f=Number.POSITIVE_INFINITY;return gh(n,e,t,function _(E,I,A){const R=E.inRange(t.x,t.y,r);if(i&&!R)return;const k=E.getCenterPoint(r);if(!a&&!n.isPointInArea(k)&&!R)return;const Y=d(t,k);Y<f?(c=[{element:E,datasetIndex:I,index:A}],f=Y):Y===f&&c.push({element:E,datasetIndex:I,index:A})}),c}(n,t,e,i,r,a):function IC(n,t,e,i){let r=[];return gh(n,e,t,function a(c,d,f){const{startAngle:_,endAngle:E}=c.getProps(["startAngle","endAngle"],i),{angle:I}=He(c,{x:t.x,y:t.y});it(I,_,E)&&r.push({element:c,datasetIndex:d,index:f})}),r}(n,t,e,r):[]}function vm(n,t,e,i,r){const a=[],c="x"===e?"inXRange":"inYRange";let d=!1;return gh(n,e,t,(f,_,E)=>{f[c](t[e],r)&&(a.push({element:f,datasetIndex:_,index:E}),d=d||f.inRange(t.x,t.y,r))}),i&&!d?[]:a}var DC={evaluateInteractionItems:gh,modes:{index(n,t,e,i){const r=Io(t,n),a=e.axis||"x",c=e.includeInvisible||!1,d=e.intersect?_m(n,r,a,i,c):ym(n,r,a,!1,i,c),f=[];return d.length?(n.getSortedVisibleDatasetMetas().forEach(_=>{const E=d[0].index,I=_.data[E];I&&!I.skip&&f.push({element:I,datasetIndex:_.index,index:E})}),f):[]},dataset(n,t,e,i){const r=Io(t,n),a=e.axis||"xy",c=e.includeInvisible||!1;let d=e.intersect?_m(n,r,a,i,c):ym(n,r,a,!1,i,c);if(d.length>0){const f=d[0].datasetIndex,_=n.getDatasetMeta(f).data;d=[];for(let E=0;E<_.length;++E)d.push({element:_[E],datasetIndex:f,index:E})}return d},point:(n,t,e,i)=>_m(n,Io(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>ym(n,Io(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>vm(n,Io(t,n),"x",e.intersect,i),y:(n,t,e,i)=>vm(n,Io(t,n),"y",e.intersect,i)}};const Wv=["left","top","right","bottom"];function mh(n,t){return n.filter(e=>e.pos===t)}function zv(n,t){return n.filter(e=>-1===Wv.indexOf(e.pos)&&e.box.axis===t)}function $u(n,t){return n.sort((e,i)=>{const r=t?i:e,a=t?e:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function bm(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function wm(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Gv(n,t,e,i){const{pos:r,box:a}=e,c=n.maxPadding;if(!_t(r)){e.size&&(n[r]-=e.size);const I=i[e.stack]||{size:0,count:1};I.size=Math.max(I.size,e.horizontal?a.height:a.width),e.size=I.size/I.count,n[r]+=e.size}a.getPadding&&wm(c,a.getPadding());const d=Math.max(0,t.outerWidth-bm(c,n,"left","right")),f=Math.max(0,t.outerHeight-bm(c,n,"top","bottom")),_=d!==n.w,E=f!==n.h;return n.w=d,n.h=f,e.horizontal?{same:_,other:E}:{same:E,other:_}}function MC(n,t){const e=t.maxPadding;return function i(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{a[c]=Math.max(t[c],e[c])}),a}(n?["left","right"]:["top","bottom"])}function Wu(n,t,e,i){const r=[];let a,c,d,f,_,E;for(a=0,c=n.length,_=0;a<c;++a){d=n[a],f=d.box,f.update(d.width||t.w,d.height||t.h,MC(d.horizontal,t));const{same:I,other:A}=Gv(t,e,d,i);_|=I&&r.length,E=E||A,f.fullSize||r.push(d)}return _&&Wu(r,t,e,i)||E}function Xf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Em(n,t,e,i){const r=e.padding;let{x:a,y:c}=t;for(const d of n){const f=d.box,_=i[d.stack]||{count:1,placed:0,weight:1},E=d.stackWeight/_.weight||1;if(d.horizontal){const I=t.w*E,A=_.size||f.height;ur(_.start)&&(c=_.start),f.fullSize?Xf(f,r.left,c,e.outerWidth-r.right-r.left,A):Xf(f,t.left+_.placed,c,I,A),_.start=c,_.placed+=I,c=f.bottom}else{const I=t.h*E,A=_.size||f.width;ur(_.start)&&(a=_.start),f.fullSize?Xf(f,a,r.top,A,e.outerHeight-r.bottom-r.top):Xf(f,a,t.top+_.placed,A,I),_.start=a,_.placed+=I,a=f.right}}t.x=a,t.y=c}ht.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Ji={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ii(n.options.layout.padding),a=Math.max(t-r.width,0),c=Math.max(e-r.height,0),d=function St(n){const t=function SC(n){const t=[];let e,i,r,a,c,d;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:a,options:{stack:c,stackWeight:d=1}}=r),t.push({index:e,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&a+c,stackWeight:d});return t}(n),e=$u(t.filter(_=>_.box.fullSize),!0),i=$u(mh(t,"left"),!0),r=$u(mh(t,"right")),a=$u(mh(t,"top"),!0),c=$u(mh(t,"bottom")),d=zv(t,"x"),f=zv(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:r.concat(f).concat(c).concat(d),chartArea:mh(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:a.concat(c).concat(d)}}(n.boxes),f=d.vertical,_=d.horizontal;Kt(n.boxes,j=>{"function"==typeof j.beforeLayout&&j.beforeLayout()});const E=f.reduce((j,Y)=>Y.box.options&&!1===Y.box.options.display?j:j+1,0)||1,I=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:a,availableHeight:c,vBoxMaxWidth:a/2/E,hBoxMaxHeight:c/2}),A=Object.assign({},r);wm(A,ii(i));const R=Object.assign({maxPadding:A,w:a,h:c,x:r.left,y:r.top},r),k=function xC(n,t){const e=function TC(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:a}=e;if(!i||!Wv.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=a}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let a,c,d;for(a=0,c=n.length;a<c;++a){d=n[a];const{fullSize:f}=d.box,_=e[d.stack],E=_&&d.stackWeight/_.weight;d.horizontal?(d.width=E?E*i:f&&t.availableWidth,d.height=r):(d.width=i,d.height=E?E*r:f&&t.availableHeight)}return e}(f.concat(_),I);Wu(d.fullSize,R,I,k),Wu(f,R,I,k),Wu(_,R,I,k)&&Wu(f,R,I,k),function AC(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(R),Em(d.leftAndTop,R,I,k),R.x+=R.w,R.y+=R.h,Em(d.rightAndBottom,R,I,k),n.chartArea={left:R.left,top:R.top,right:R.left+R.w,bottom:R.top+R.h,height:R.h,width:R.w},Kt(d.chartArea,j=>{const Y=j.box;Object.assign(Y,n.chartArea),Y.update(R.w,R.h,{left:0,top:0,right:0,bottom:0})})}};class Kv{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class sA extends Kv{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const _h="$chartjs",Zv={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cl=n=>null===n||""===n,Jf=!!uv&&{passive:!0};function PC(n,t,e){n.canvas.removeEventListener(t,e,Jf)}function Im(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function aA(n,t,e){const i=n.canvas,r=new MutationObserver(a=>{let c=!1;for(const d of a)c=c||Im(d.addedNodes,i),c=c&&!Im(d.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function OC(n,t,e){const i=n.canvas,r=new MutationObserver(a=>{let c=!1;for(const d of a)c=c||Im(d.removedNodes,i),c=c&&!Im(d.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const zu=new Map;let kC=0;function Yv(){const n=window.devicePixelRatio;n!==kC&&(kC=n,zu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function qv(n,t,e){const i=n.canvas,r=i&&at(i);if(!r)return;const a=Sf((d,f)=>{const _=r.clientWidth;e(d,f),_<r.clientWidth&&e()},window),c=new ResizeObserver(d=>{const f=d[0],_=f.contentRect.width,E=f.contentRect.height;0===_&&0===E||a(_,E)});return c.observe(r),function Gu(n,t){zu.size||window.addEventListener("resize",Yv),zu.set(n,t)}(n,a),c}function Ku(n,t,e){e&&e.disconnect(),"resize"===t&&function NC(n){zu.delete(n),zu.size||window.removeEventListener("resize",Yv)}(n)}function LC(n,t,e){const i=n.canvas,r=Sf(a=>{null!==n.ctx&&e(function oA(n,t){const e=Zv[n.type]||n.type,{x:i,y:r}=Io(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(a,n))},n,a=>{const c=a[0];return[c,c.offsetX,c.offsetY]});return function Cm(n,t,e){n.addEventListener(t,e,Jf)}(i,t,r),r}class Qv extends Kv{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function RC(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[_h]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Cl(r)){const a=ah(n,"width");void 0!==a&&(n.width=a)}if(Cl(i))if(""===n.style.height)n.height=n.width/(t||2);else{const a=ah(n,"height");void 0!==a&&(n.height=a)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[_h])return!1;const i=e[_h].initial;["height","width"].forEach(a=>{const c=i[a];Bt(c)?e.removeAttribute(a):e.setAttribute(a,c)});const r=i.style||{};return Object.keys(r).forEach(a=>{e.style[a]=r[a]}),e.width=e.width,delete e[_h],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:aA,detach:OC,resize:qv}[e]||LC)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:Ku,detach:Ku,resize:Ku}[e]||PC)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function Wf(n,t,e,i){const r=Vi(n),a=Ws(r,"margin"),c=Sn(r.maxWidth,n,"clientWidth")||Yi,d=Sn(r.maxHeight,n,"clientHeight")||Yi,f=function Uu(n,t,e){let i,r;if(void 0===t||void 0===e){const a=at(n);if(a){const c=a.getBoundingClientRect(),d=Vi(a),f=Ws(d,"border","width"),_=Ws(d,"padding");t=c.width-_.width-f.width,e=c.height-_.height-f.height,i=Sn(d.maxWidth,a,"clientWidth"),r=Sn(d.maxHeight,a,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||Yi,maxHeight:r||Yi}}(n,t,e);let{width:_,height:E}=f;if("content-box"===r.boxSizing){const I=Ws(r,"border","width"),A=Ws(r,"padding");_-=A.width+I.width,E-=A.height+I.height}return _=Math.max(0,_-a.width),E=Math.max(0,i?Math.floor(_/i):E-a.height),_=oh(Math.min(_,c,f.maxWidth)),E=oh(Math.min(E,d,f.maxHeight)),_&&!E&&(E=oh(_/2)),{width:_,height:E}}(t,e,i,r)}isAttached(t){const e=at(t);return!(!e||!e.isConnected)}}class BC{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(a,t,e,i);return"afterDestroy"===e&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const a of t){const c=a.plugin;if(!1===fn(c[i],[e,r,a.options],c)&&r.cancelable)return!1}return!0}invalidate(){Bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Et(i.options&&i.options.plugins,{}),a=function UC(n){const t={},e=[],i=Object.keys(To.plugins.items);for(let a=0;a<i.length;a++)e.push(To.getPlugin(i[a]));const r=n.plugins||[];for(let a=0;a<r.length;a++){const c=r[a];-1===e.indexOf(c)&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function jC(n,{plugins:t,localIds:e},i,r){const a=[],c=n.getContext();for(const d of t){const f=d.id,_=VC(i[f],r);null!==_&&a.push({plugin:d,options:Xv(n.config,{plugin:d,local:e[f]},_,c)})}return a}(t,a,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(a,c)=>a.filter(d=>!c.some(f=>d.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function VC(n,t){return t||!1!==n?!0===n?{}:n:null}function Xv(n,{plugin:t,local:e},i,r){const a=n.pluginScopeKeys(t),c=n.getOptionScopes(i,a);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Dm(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(ht.datasets[n]||{}).indexAxis||"x"}function tb(n,t){return"x"===n||"y"===n?n:t.axis||function Sm(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(t.position)||n.charAt(0).toLowerCase()}function nb(n){const t=n.options||(n.options={});t.plugins=Et(t.plugins,{}),t.scales=function Tm(n,t){const e=wo[n.type]||{scales:{}},i=t.scales||{},r=Dm(n.type,t),a=Object.create(null),c=Object.create(null);return Object.keys(i).forEach(d=>{const f=i[d];if(!_t(f))return console.error(`Invalid scale configuration for scale: ${d}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${d}`);const _=tb(d,f),E=function eb(n,t){return n===t?"_index_":"_value_"}(_,r),I=e.scales||{};a[_]=a[_]||d,c[d]=Ki(Object.create(null),[{axis:_},f,I[_],I[E]])}),n.data.datasets.forEach(d=>{const f=d.type||n.type,_=d.indexAxis||Dm(f,t),I=(wo[f]||{}).scales||{};Object.keys(I).forEach(A=>{const R=function Jv(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(A,_),k=d[R+"AxisID"]||a[R]||R;c[k]=c[k]||Object.create(null),Ki(c[k],[{axis:R},i[k],I[A]])})}),Object.keys(c).forEach(d=>{const f=c[d];Ki(f,[ht.scales[f.type],ht.scale])}),c}(n,t)}function HC(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const xm=new Map,Am=new Set;function Hc(n,t){let e=xm.get(n);return e||(e=t(),xm.set(n,e),Am.add(e)),e}const gr=(n,t,e)=>{const i=Tr(t,e);void 0!==i&&n.add(i)};class ib{constructor(t){this._config=function Zu(n){return(n=n||{}).data=HC(n.data),nb(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=HC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),nb(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Hc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Hc(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Hc(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return Hc(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:a}=this,c=this._cachedScopes(t,i),d=c.get(e);if(d)return d;const f=new Set;e.forEach(E=>{t&&(f.add(t),E.forEach(I=>gr(f,t,I))),E.forEach(I=>gr(f,r,I)),E.forEach(I=>gr(f,wo[a]||{},I)),E.forEach(I=>gr(f,ht,I)),E.forEach(I=>gr(f,yl,I))});const _=Array.from(f);return 0===_.length&&_.push(Object.create(null)),Am.has(e)&&c.set(e,_),_}chartOptionScopes(){const{options:t,type:e}=this;return[t,wo[e]||{},ht.datasets[e]||{},{type:e},ht,yl]}resolveNamedOptions(t,e,i,r=[""]){const a={$shared:!0},{resolver:c,subPrefixes:d}=rb(this._resolverCache,t,r);let f=c;(function wa(n,t){const{isScriptable:e,isIndexable:i}=ku(n);for(const r of t){const a=e(r),c=i(r),d=(c||a)&&n[r];if(a&&(Zi(d)||Mm(d))||c&&Jt(d))return!0}return!1})(c,e)&&(a.$shared=!1,f=ma(c,i=Zi(i)?i():i,this.createResolver(t,i,d)));for(const _ of e)a[_]=f[_];return a}createResolver(t,e,i=[""],r){const{resolver:a}=rb(this._resolverCache,t,i);return _t(e)?ma(a,e,void 0,r):a}}function rb(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let a=i.get(r);return a||(a={resolver:pr(t,e),subPrefixes:e.filter(d=>!d.toLowerCase().includes("hover"))},i.set(r,a)),a}const Mm=n=>_t(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||Zi(n[e]),!1),sb=["top","bottom","left","right","chartArea"];function ep(n,t){return"top"===n||"bottom"===n||-1===sb.indexOf(n)&&"x"===t}function $C(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Pm(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),fn(e&&e.onComplete,[n],t)}function lA(n){const t=n.chart,e=t.options.animation;fn(e&&e.onProgress,[n],t)}function yh(n){return ft()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const $c={},tp=n=>{const t=yh(n);return Object.values($c).filter(e=>e.canvas===t).pop()};function Om(n,t,e){const i=Object.keys(n);for(const r of i){const a=+r;if(a>=t){const c=n[r];delete n[r],(e>0||a>t)&&(n[a+e]=c)}}}class vh{constructor(t,e){const i=this.config=new ib(e),r=yh(t),a=tp(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function FC(n){return!ft()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?sA:Qv}(r)),this.platform.updateConfig(i);const d=this.platform.acquireContext(r,c.aspectRatio),f=d&&d.canvas,_=f&&f.height,E=f&&f.width;this.id=_o(),this.ctx=d,this.canvas=f,this.width=E,this.height=_,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new BC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Tf(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(I=>this.update(I),c.resizeDelay||0),this._dataChanges=[],$c[this.id]=this,d&&f?(ya.listen(this,"complete",Pm),ya.listen(this,"progress",lA),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:a}=this;return Bt(t)?e&&a?a:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Bf(this.canvas,this.ctx),this}stop(){return ya.stop(this),this}resize(t,e){ya.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,c=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,zf(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),fn(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){Kt(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,d)=>(c[d]=!1,c),{});let a=[];e&&(a=a.concat(Object.keys(e).map(c=>{const d=e[c],f=tb(c,d),_="r"===f,E="x"===f;return{options:d,dposition:_?"chartArea":E?"bottom":"left",dtype:_?"radialLinear":E?"category":"linear"}}))),Kt(a,c=>{const d=c.options,f=d.id,_=tb(f,d),E=Et(d.type,c.dtype);(void 0===d.position||ep(d.position,_)!==ep(c.dposition))&&(d.position=c.dposition),r[f]=!0;let I=null;f in i&&i[f].type===E?I=i[f]:(I=new(To.getScale(E))({id:f,type:E,ctx:this.ctx,chart:this}),i[I.id]=I),I.init(d,t)}),Kt(r,(c,d)=>{c||delete i[d]}),Kt(i,c=>{Ji.configure(this,c,c.options),Ji.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,a)=>r.index-a.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort($C("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{0===e.filter(a=>a===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const a=e[i];let c=this.getDatasetMeta(i);const d=a.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=d,c.indexAxis=a.indexAxis||Dm(d,this.options),c.order=a.order||0,c.index=i,c.label=""+a.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=To.getController(d),{datasetElementType:_,dataElementType:E}=ht.datasets[d];Object.assign(f.prototype,{dataElementType:To.getElement(E),datasetElementType:_&&To.getElement(_)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Kt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let _=0,E=this.data.datasets.length;_<E;_++){const{controller:I}=this.getDatasetMeta(_),A=!r&&-1===a.indexOf(I);I.buildOrUpdateElements(A),c=Math.max(+I.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Kt(a,_=>{_.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort($C("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Kt(this.scales,t=>{Ji.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Us(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:a}of e)Om(t,r,"_removeElements"===i?-a:a)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(c=>c[0]===a).map((c,d)=>d+","+c.splice(1).join(","))),r=i(0);for(let a=1;a<e;a++)if(!Us(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ji.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Kt(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Zi(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ya.has(this)?this.attached&&!ya.running(this)&&ya.start(this):(this.draw(),Pm({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,a;for(r=0,a=e.length;r<a;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,a=this.chartArea,c={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",c)&&(r&&Mu(e,{left:!1===i.left?0:a.left-i.left,right:!1===i.right?this.width:a.right+i.right,top:!1===i.top?0:a.top-i.top,bottom:!1===i.bottom?this.height:a.bottom+i.bottom}),t.controller.draw(),r&&Xd(e),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(t){return vl(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const a=DC.modes[e];return"function"==typeof a?a(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(a=>a&&a._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=_s(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",a=this.getDatasetMeta(t),c=a.controller._resolveAnimations(void 0,r);ur(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(a,{visible:i}),this.update(d=>d.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ya.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Bf(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete $c[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,c)=>{e.addEventListener(this,a,c),t[a]=c},r=(a,c,d)=>{a.offsetX=c,a.offsetY=d,this._eventHandler(a)};Kt(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,_)=>{e.addEventListener(this,f,_),t[f]=_},r=(f,_)=>{t[f]&&(e.removeEventListener(this,f,_),delete t[f])},a=(f,_)=>{this.canvas&&this.resize(f,_)};let c;const d=()=>{r("attach",d),this.attached=!0,this.resize(),i("resize",a),i("detach",c)};c=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",d)},e.isAttached(this.canvas)?d():c()}unbindEvents(){Kt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Kt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let a,c,d,f;for("dataset"===e&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){c=t[d];const _=c&&this.getDatasetMeta(c.datasetIndex).controller;_&&_[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:c})=>{const d=this.getDatasetMeta(a);if(!d)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:d.data[c],index:c}});!Bs(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const r=this.options.hover,a=(f,_)=>f.filter(E=>!_.some(I=>E.datasetIndex===I.datasetIndex&&E.index===I.index)),c=a(e,t),d=i?t:a(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:a}=this,d=this._getActiveElements(t,r,i,e),f=function ca(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),_=function km(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,f);i&&(this._lastEvent=null,fn(a.onHover,[t,d,this],this),f&&fn(a.onClick,[t,d,this],this));const E=!Bs(d,r);return(E||e)&&(this._active=d,this._updateHoverStyles(d,r,e)),this._lastEvent=_,E}_getActiveElements(t,e,i,r){if("mouseout"===t.type)return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,r)}}const ob=()=>Kt(vh.instances,n=>n._plugins.invalidate()),Il=!0;function ab(n,t,e){const{startAngle:i,pixelMargin:r,x:a,y:c,outerRadius:d,innerRadius:f}=t;let _=r/d;n.beginPath(),n.arc(a,c,d,i-_,e+_),f>r?(_=r/f,n.arc(a,c,f,e+_,i-_,!0)):n.arc(a,c,r,e+Qt,i-Qt),n.closePath(),n.clip()}function bh(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Nm(n,t,e,i,r,a){const{x:c,y:d,startAngle:f,pixelMargin:_,innerRadius:E}=t,I=Math.max(t.outerRadius+i+e-_,0),A=E>0?E+i+e+_:0;let R=0;const k=r-f;if(i){const mi=((E>0?E-i:0)+(I>0?I-i:0))/2;R=(k-(0!==mi?k*mi/(mi+i):k))/2}const Y=(k-Math.max(.001,k*I-e/Ut)/I)/2,ne=f+Y+R,ue=r-Y-R,{outerStart:Me,outerEnd:be,innerStart:we,innerEnd:Ue}=function lb(n,t,e,i){const r=function WC(n){return bl(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),a=(e-t)/2,c=Math.min(a,i*t/2),d=f=>{const _=(e-Math.min(a,f))*i/2;return Tt(f,0,Math.min(a,_))};return{outerStart:d(r.outerStart),outerEnd:d(r.outerEnd),innerStart:Tt(r.innerStart,0,c),innerEnd:Tt(r.innerEnd,0,c)}}(t,A,I,ue-ne),Ke=I-Me,ot=I-be,lt=ne+Me/Ke,rn=ue-be/ot,ln=A+we,en=A+Ue,Ti=ne+we/ln,qr=ue-Ue/en;if(n.beginPath(),a){if(n.arc(c,d,I,lt,rn),be>0){const mi=bh(ot,rn,c,d);n.arc(mi.x,mi.y,be,rn,ue+Qt)}const Ot=bh(en,ue,c,d);if(n.lineTo(Ot.x,Ot.y),Ue>0){const mi=bh(en,qr,c,d);n.arc(mi.x,mi.y,Ue,ue+Qt,qr+Math.PI)}if(n.arc(c,d,A,ue-Ue/A,ne+we/A,!0),we>0){const mi=bh(ln,Ti,c,d);n.arc(mi.x,mi.y,we,Ti+Math.PI,ne-Qt)}const xi=bh(Ke,ne,c,d);if(n.lineTo(xi.x,xi.y),Me>0){const mi=bh(Ke,lt,c,d);n.arc(mi.x,mi.y,Me,ne-Qt,lt)}}else{n.moveTo(c,d);const Ot=Math.cos(lt)*I+c,xi=Math.sin(lt)*I+d;n.lineTo(Ot,xi);const mi=Math.cos(rn)*I+c,pf=Math.sin(rn)*I+d;n.lineTo(mi,pf)}n.closePath()}Object.defineProperties(vh,{defaults:{enumerable:Il,value:ht},instances:{enumerable:Il,value:$c},overrides:{enumerable:Il,value:wo},registry:{enumerable:Il,value:To},version:{enumerable:Il,value:"3.9.1"},getChart:{enumerable:Il,value:tp},register:{enumerable:Il,value:(...n)=>{To.add(...n),ob()}},unregister:{enumerable:Il,value:(...n)=>{To.remove(...n),ob()}}});class np extends Wr{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:a,distance:c}=He(r,{x:t,y:e}),{startAngle:d,endAngle:f,innerRadius:_,outerRadius:E,circumference:I}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),A=this.options.spacing/2,k=Et(I,f-d)>=qt||it(a,d,f),j=Ei(c,_+A,E+A);return k&&j}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:a,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:f,spacing:_}=this.options,E=(r+a)/2,I=(c+d+_+f)/2;return{x:e+Math.cos(E)*I,y:i+Math.sin(E)*I}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/2,a=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>qt?Math.floor(i/qt):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let d=0;if(r){d=r/2;const _=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(_)*d,Math.sin(_)*d),this.circumference>=Ut&&(d=r)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const f=function cA(n,t,e,i,r){const{fullCircles:a,startAngle:c,circumference:d}=t;let f=t.endAngle;if(a){Nm(n,t,e,i,c+qt,r);for(let _=0;_<a;++_)n.fill();isNaN(d)||(f=c+d%qt,d%qt==0&&(f+=qt))}return Nm(n,t,e,i,f,r),n.fill(),f}(t,this,d,a,c);(function ub(n,t,e,i,r,a){const{options:c}=t,{borderWidth:d,borderJoinStyle:f}=c,_="inner"===c.borderAlign;!d||(_?(n.lineWidth=2*d,n.lineJoin=f||"round"):(n.lineWidth=d,n.lineJoin=f||"bevel"),t.fullCircles&&function cb(n,t,e){const{x:i,y:r,startAngle:a,pixelMargin:c,fullCircles:d}=t,f=Math.max(t.outerRadius-c,0),_=t.innerRadius+c;let E;for(e&&ab(n,t,a+qt),n.beginPath(),n.arc(i,r,_,a+qt,a,!0),E=0;E<d;++E)n.stroke();for(n.beginPath(),n.arc(i,r,f,a,a+qt),E=0;E<d;++E)n.stroke()}(n,t,_),_&&ab(n,t,r),Nm(n,t,e,i,r,a),n.stroke())})(t,this,d,a,f,c),t.restore()}}function ip(n,t,e=t){n.lineCap=Et(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Et(e.borderDash,t.borderDash)),n.lineDashOffset=Et(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Et(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Et(e.borderWidth,t.borderWidth),n.strokeStyle=Et(e.borderColor,t.borderColor)}function uA(n,t,e){n.lineTo(e.x,e.y)}function zC(n,t,e={}){const i=n.length,{start:r=0,end:a=i-1}=e,{start:c,end:d}=t,f=Math.max(r,c),_=Math.min(a,d);return{count:i,start:f,loop:t.loop,ilen:_<f&&!(r<c&&a<c||r>d&&a>d)?i+_-f:_-f}}function hA(n,t,e,i){const{points:r,options:a}=t,{count:c,start:d,loop:f,ilen:_}=zC(r,e,i),E=function dA(n){return n.stepped?cv:n.tension||"monotone"===n.cubicInterpolationMode?Lc:uA}(a);let R,k,j,{move:I=!0,reverse:A}=i||{};for(R=0;R<=_;++R)k=r[(d+(A?_-R:R))%c],!k.skip&&(I?(n.moveTo(k.x,k.y),I=!1):E(n,j,k,A,a.stepped),j=k);return f&&(k=r[(d+(A?_:0))%c],E(n,j,k,A,a.stepped)),!!f}function fA(n,t,e,i){const r=t.points,{count:a,start:c,ilen:d}=zC(r,e,i),{move:f=!0,reverse:_}=i||{};let A,R,k,j,Y,ne,E=0,I=0;const ue=be=>(c+(_?d-be:be))%a,Me=()=>{j!==Y&&(n.lineTo(E,Y),n.lineTo(E,j),n.lineTo(E,ne))};for(f&&(R=r[ue(0)],n.moveTo(R.x,R.y)),A=0;A<=d;++A){if(R=r[ue(A)],R.skip)continue;const be=R.x,we=R.y,Ue=0|be;Ue===k?(we<j?j=we:we>Y&&(Y=we),E=(I*E+be)/++I):(Me(),n.lineTo(be,we),k=Ue,I=0,j=Y=we),ne=we}Me()}function db(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?hA:fA}np.id="arc",np.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},np.defaultRoutes={backgroundColor:"backgroundColor"};const _A="function"==typeof Path2D;let Yu=(()=>{class n extends Wr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(qe(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function nm(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const a=!!n._loop,{start:c,end:d}=function JE(n,t,e,i){let r=0,a=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(a+=r);a>r&&n[a%t].skip;)a--;return a%=t,{start:r,end:a}}(e,r,a,i);return function vv(n,t,e,i){return i&&i.setContext&&e?function tC(n,t,e,i){const r=n._chart.getContext(),a=bv(n.options),{_datasetIndex:c,options:{spanGaps:d}}=n,f=e.length,_=[];let E=a,I=t[0].start,A=I;function R(k,j,Y,ne){const ue=d?-1:1;if(k!==j){for(k+=f;e[k%f].skip;)k-=ue;for(;e[j%f].skip;)j+=ue;k%f!=j%f&&(_.push({start:k%f,end:j%f,loop:Y,style:ne}),E=ne,I=j%f)}}for(const k of t){I=d?I:k.start;let Y,j=e[I%f];for(A=I+1;A<=k.end;A++){const ne=e[A%f];Y=bv(i.setContext(_s(r,{type:"segment",p0:j,p1:ne,p0DataIndex:(A-1)%f,p1DataIndex:A%f,datasetIndex:c}))),wv(Y,E)&&R(I,A-1,k.loop,E),j=ne,E=Y}I<A-1&&R(I,A-1,k.loop,E)}return _}(n,t,e,i):t}(n,!0===i?[{start:c,end:d,loop:a}]:function eC(n,t,e,i){const r=n.length,a=[];let f,c=t,d=n[t];for(f=t+1;f<=e;++f){const _=n[f%r];_.skip||_.stop?d.skip||(a.push({start:t%r,end:(f-1)%r,loop:i=!1}),t=c=_.stop?f:null):(c=f,d.skip&&(t=f)),d=_}return null!==c&&a.push({start:t%r,end:c%r,loop:i}),a}(e,c,d<c?d+r:d,!!n._fullLoop&&0===c&&d===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,i){const r=this.options,a=e[i],c=this.points,d=yv(this,{property:i,start:a,end:a});if(!d.length)return;const f=[],_=function pA(n){return n.stepped?dv:n.tension||"monotone"===n.cubicInterpolationMode?Jg:_a}(r);let E,I;for(E=0,I=d.length;E<I;++E){const{start:A,end:R}=d[E],k=c[A],j=c[R];if(k===j){f.push(k);continue}const ne=_(k,j,Math.abs((a-k[i])/(j[i]-k[i])),r.stepped);ne[i]=e[i],f.push(ne)}return 1===f.length?f[0]:f}pathSegment(e,i,r){return db(this)(e,this,i,r)}path(e,i,r){const a=this.segments,c=db(this);let d=this._loop;i=i||0,r=r||this.points.length-i;for(const f of a)d&=c(e,this,f,{start:i,end:i+r-1});return!!d}draw(e,i,r,a){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function Dl(n,t,e,i){_A&&!t.options.segment?function gA(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),ip(n,t.options),n.stroke(r)}(n,t,e,i):function mA(n,t,e,i){const{segments:r,options:a}=t,c=db(t);for(const d of r)ip(n,a,d.style),n.beginPath(),c(n,t,d,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,r,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t},n})();function hb(n,t,e,i){const r=n.options,{[e]:a}=n.getProps([e],i);return Math.abs(t-a)<r.radius+r.hitRadius}let fb=(()=>{class n extends Wr{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const a=this.options,{x:c,y:d}=this.getProps(["x","y"],r);return Math.pow(e-c,2)+Math.pow(i-d,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,i){return hb(this,e,"x",i)}inYRange(e,i){return hb(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this.options;this.skip||r.radius<.1||!vl(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,pa(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function rp(n,t){const{x:e,y:i,base:r,width:a,height:c}=n.getProps(["x","y","base","width","height"],t);let d,f,_,E,I;return n.horizontal?(I=c/2,d=Math.min(e,r),f=Math.max(e,r),_=i-I,E=i+I):(I=a/2,d=e-I,f=e+I,_=Math.min(i,r),E=Math.max(i,r)),{left:d,top:_,right:f,bottom:E}}function Ea(n,t,e,i){return n?0:Tt(t,e,i)}function sp(n,t,e,i){const r=null===t,a=null===e,d=n&&!(r&&a)&&rp(n,i);return d&&(r||Ei(t,d.left,d.right))&&(a||Ei(e,d.top,d.bottom))}function ZC(n,t){n.rect(t.x,t.y,t.w,t.h)}function op(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}class ap extends Wr{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:a,outer:c}=function Sl(n){const t=rp(n),e=t.right-t.left,i=t.bottom-t.top,r=function Lm(n,t,e){const r=n.borderSkipped,a=Jd(n.options.borderWidth);return{t:Ea(r.top,a.top,0,e),r:Ea(r.right,a.right,0,t),b:Ea(r.bottom,a.bottom,0,e),l:Ea(r.left,a.left,0,t)}}(n,e/2,i/2),a=function GC(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,a=Hs(r),c=Math.min(t,e),d=n.borderSkipped,f=i||_t(r);return{topLeft:Ea(!f||d.top||d.left,a.topLeft,0,c),topRight:Ea(!f||d.top||d.right,a.topRight,0,c),bottomLeft:Ea(!f||d.bottom||d.left,a.bottomLeft,0,c),bottomRight:Ea(!f||d.bottom||d.right,a.bottomRight,0,c)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}(this),d=function KC(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(c.radius)?ga:ZC;t.save(),(c.w!==a.w||c.h!==a.h)&&(t.beginPath(),d(t,op(c,e,a)),t.clip(),d(t,op(a,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),d(t,op(a,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return sp(this,t,e,i)}inXRange(t,e){return sp(this,t,null,e)}inYRange(t,e){return sp(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+r)/2:e,y:a?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}ap.id="bar",ap.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},ap.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var YC=Object.freeze({__proto__:null,ArcElement:np,LineElement:Yu,PointElement:fb,BarElement:ap});function cp(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function Wc(n){n.data.datasets.forEach(t=>{cp(t)})}var up={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void Wc(n);const i=n.width;n.data.datasets.forEach((r,a)=>{const{_data:c,indexAxis:d}=r,f=n.getDatasetMeta(a),_=c||r.data;if("y"===$r([d,n.options.indexAxis])||!f.controller.supportsDecimation)return;const E=n.scales[f.xAxisID];if("linear"!==E.type&&"time"!==E.type||n.options.parsing)return;let k,{start:I,count:A}=function Fm(n,t){const e=t.length;let r,i=0;const{iScale:a}=n,{min:c,max:d,minDefined:f,maxDefined:_}=a.getUserBounds();return f&&(i=Tt(gi(t,a.axis,c).lo,0,e-1)),r=_?Tt(gi(t,a.axis,d).hi+1,i,e)-i:e-i,{start:i,count:r}}(f,_);if(A<=(e.threshold||4*i))cp(r);else{switch(Bt(c)&&(r._data=_,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(j){this._data=j}})),e.algorithm){case"lttb":k=function lp(n,t,e,i,r){const a=r.samples||i;if(a>=e)return n.slice(t,t+e);const c=[],d=(e-2)/(a-2);let f=0;const _=t+e-1;let I,A,R,k,j,E=t;for(c[f++]=n[E],I=0;I<a-2;I++){let ue,Y=0,ne=0;const Me=Math.floor((I+1)*d)+1+t,be=Math.min(Math.floor((I+2)*d)+1,e)+t,we=be-Me;for(ue=Me;ue<be;ue++)Y+=n[ue].x,ne+=n[ue].y;Y/=we,ne/=we;const Ue=Math.floor(I*d)+1+t,Ke=Math.min(Math.floor((I+1)*d)+1,e)+t,{x:ot,y:lt}=n[E];for(R=k=-1,ue=Ue;ue<Ke;ue++)k=.5*Math.abs((ot-Y)*(n[ue].y-lt)-(ot-n[ue].x)*(ne-lt)),k>R&&(R=k,A=n[ue],j=ue);c[f++]=A,E=j}return c[f++]=n[_],c}(_,I,A,i,e);break;case"min-max":k=function qu(n,t,e,i){let c,d,f,_,E,I,A,R,k,j,r=0,a=0;const Y=[],ue=n[t].x,be=n[t+e-1].x-ue;for(c=t;c<t+e;++c){d=n[c],f=(d.x-ue)/be*i,_=d.y;const we=0|f;if(we===E)_<k?(k=_,I=c):_>j&&(j=_,A=c),r=(a*r+d.x)/++a;else{const Ue=c-1;if(!Bt(I)&&!Bt(A)){const Ke=Math.min(I,A),ot=Math.max(I,A);Ke!==R&&Ke!==Ue&&Y.push({...n[Ke],x:r}),ot!==R&&ot!==Ue&&Y.push({...n[ot],x:r})}c>0&&Ue!==R&&Y.push(n[Ue]),Y.push(d),E=we,a=0,k=j=_,I=A=R=c}}return Y}(_,I,A,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=k}})},destroy(n){Wc(n)}};function dp(n,t,e,i){if(i)return;let r=t[n],a=e[n];return"angle"===n&&(r=dt(r),a=dt(a)),{property:n,start:r,end:a}}function wh(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Um(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function hp(n,t){let e=[],i=!1;return Jt(n)?(i=!0,e=n):e=function Bm(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,a=[];return t.segments.forEach(({start:c,end:d})=>{d=wh(c,d,r);const f=r[c],_=r[d];null!==i?(a.push({x:f.x,y:i}),a.push({x:_.x,y:i})):null!==e&&(a.push({x:e,y:f.y}),a.push({x:e,y:_.y}))}),a}(n,t),e.length?new Yu({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function gb(n){return n&&!1!==n.fill}function yA(n,t,e){let r=n[t].fill;const a=[t];let c;if(!e)return r;for(;!1!==r&&-1===a.indexOf(r);){if(!Gt(r))return r;if(c=n[r],!c)return!1;if(c.visible)return r;a.push(r),r=c.fill}return!1}function qC(n,t,e){const i=function yb(n){const t=n.options,e=t.fill;let i=Et(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(_t(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Gt(r)&&Math.floor(r)===r?function mb(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function vb(n,t,e){const i=[];for(let r=0;r<e.length;r++){const a=e[r],{first:c,last:d,point:f}=JC(a,t,"x");if(!(!f||c&&d))if(c)i.unshift(f);else if(n.push(f),!d)break}n.push(...i)}function JC(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],a=n.segments,c=n.points;let d=!1,f=!1;for(let _=0;_<a.length;_++){const E=a[_],I=c[E.start][e],A=c[E.end][e];if(Ei(r,I,A)){d=r===I,f=r===A;break}}return{first:d,last:f,point:i}}class eI{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:a,radius:c}=this;return t.arc(r,a,c,(e=e||{start:0,end:qt}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,a=t.angle;return{x:e+Math.cos(a)*r,y:i+Math.sin(a)*r,angle:a}}}function jm(n,t,e){const i=function tI(n){const{chart:t,fill:e,line:i}=n;if(Gt(e))return function Vm(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function XC(n){const{scale:t,index:e,line:i}=n,r=[],a=i.segments,c=i.points,d=function zr(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const a=i[r];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}(t,e);d.push(hp({x:null,y:t.bottom},i));for(let f=0;f<a.length;f++){const _=a[f];for(let E=_.start;E<=_.end;E++)vb(r,c[E],d)}return new Yu({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function bb(n){return(n.scale||{}).getPointPositionForValue?function iI(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,a=i.reverse?t.max:t.min,c=function _b(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:_t(n)?n.value:t.getBaseValue(),i}(e,t,a),d=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,a);return new eI({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(c)})}for(let f=0;f<r;++f)d.push(t.getPointPositionForValue(f,c));return d}(n):function nI(n){const{scale:t={},fill:e}=n,i=function QC(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:_t(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(Gt(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof eI?r:hp(r,i)}(t),{line:r,scale:a,axis:c}=t,d=r.options,f=d.fill,_=d.backgroundColor,{above:E=_,below:I=_}=f||{};i&&r.points.length&&(Mu(n,e),function wb(n,t){const{line:e,target:i,above:r,below:a,area:c,scale:d}=t,f=e._loop?"angle":t.axis;n.save(),"x"===f&&a!==r&&(Eb(n,i,c.top),Hm(n,{line:e,target:i,color:r,scale:d,property:f}),n.restore(),n.save(),Eb(n,i,c.bottom)),Hm(n,{line:e,target:i,color:a,scale:d,property:f}),n.restore()}(n,{line:r,target:i,above:E,below:I,area:e,scale:a,axis:c}),Xd(n))}function Eb(n,t,e){const{segments:i,points:r}=t;let a=!0,c=!1;n.beginPath();for(const d of i){const{start:f,end:_}=d,E=r[f],I=r[wh(f,_,r)];a?(n.moveTo(E.x,E.y),a=!1):(n.lineTo(E.x,e),n.lineTo(E.x,E.y)),c=!!t.pathSegment(n,d,{move:c}),c?n.closePath():n.lineTo(I.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Hm(n,t){const{line:e,target:i,property:r,color:a,scale:c}=t,d=function pb(n,t,e){const i=n.segments,r=n.points,a=t.points,c=[];for(const d of i){let{start:f,end:_}=d;_=wh(f,_,r);const E=dp(e,r[f],r[_],d.loop);if(!t.segments){c.push({source:d,target:E,start:r[f],end:r[_]});continue}const I=yv(t,E);for(const A of I){const R=dp(e,a[A.start],a[A.end],A.loop),k=_v(d,r,R);for(const j of k)c.push({source:j,target:A,start:{[e]:Um(E,R,"start",Math.max)},end:{[e]:Um(E,R,"end",Math.min)}})}}return c}(e,i,r);for(const{source:f,target:_,start:E,end:I}of d){const{style:{backgroundColor:A=a}={}}=f,R=!0!==i;n.save(),n.fillStyle=A,rI(n,c,R&&dp(r,E,I)),n.beginPath();const k=!!e.pathSegment(n,f);let j;if(R){k?n.closePath():Cb(n,i,I,r);const Y=!!i.pathSegment(n,_,{move:k,reverse:!0});j=k&&Y,j||Cb(n,i,E,r)}n.closePath(),n.fill(j?"evenodd":"nonzero"),n.restore()}}function rI(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:a,start:c,end:d}=e||{};"x"===a&&(n.beginPath(),n.rect(c,i,d-c,r-i),n.clip())}function Cb(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var Ib={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let a,c,d,f;for(c=0;c<i;++c)a=n.getDatasetMeta(c),d=a.dataset,f=null,d&&d.options&&d instanceof Yu&&(f={visible:n.isDatasetVisible(c),index:c,fill:qC(d,c,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:d}),a.$filler=f,r.push(f);for(c=0;c<i;++c)f=r[c],f&&!1!==f.fill&&(f.fill=yA(r,c,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let c=r.length-1;c>=0;--c){const d=r[c].$filler;!d||(d.line.updateControlPoints(a,d.axis),i&&d.fill&&jm(n.ctx,d,a))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;gb(a)&&jm(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!gb(i)||"beforeDatasetDraw"!==e.drawTime||jm(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const $m=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class Gs extends Wr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=fn(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=On(i.font),a=r.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=$m(i,a);let _,E;e.font=r.string,this.isHorizontal()?(_=this.maxWidth,E=this._fitRows(c,a,d,f)+10):(E=this.maxHeight,_=this._fitCols(c,a,d,f)+10),this.width=Math.min(_,t.maxWidth||this.maxWidth),this.height=Math.min(E,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:a,maxWidth:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],_=this.lineWidths=[0],E=r+d;let I=t;a.textAlign="left",a.textBaseline="middle";let A=-1,R=-E;return this.legendItems.forEach((k,j)=>{const Y=i+e/2+a.measureText(k.text).width;(0===j||_[_.length-1]+Y+2*d>c)&&(I+=E,_[_.length-(j>0?0:1)]=0,R+=E,A++),f[j]={left:0,top:R,row:A,width:Y,height:r},_[_.length-1]+=Y+d}),I}_fitCols(t,e,i,r){const{ctx:a,maxHeight:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],_=this.columnSizes=[],E=c-t;let I=d,A=0,R=0,k=0,j=0;return this.legendItems.forEach((Y,ne)=>{const ue=i+e/2+a.measureText(Y.text).width;ne>0&&R+r+2*d>E&&(I+=A+d,_.push({width:A,height:R}),k+=A+d,j++,A=R=0),f[ne]={left:k,top:R,col:j,width:ue,height:r},A=Math.max(A,ue),R+=r+d}),I+=A,_.push({width:A,height:R}),I}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:a}}=this,c=El(a,this.left,this.width);if(this.isHorizontal()){let d=0,f=Kn(i,this.left+r,this.right-this.lineWidths[d]);for(const _ of e)d!==_.row&&(d=_.row,f=Kn(i,this.left+r,this.right-this.lineWidths[d])),_.top+=this.top+t+r,_.left=c.leftForLtr(c.x(f),_.width),f+=_.width+r}else{let d=0,f=Kn(i,this.top+t+r,this.bottom-this.columnSizes[d].height);for(const _ of e)_.col!==d&&(d=_.col,f=Kn(i,this.top+t+r,this.bottom-this.columnSizes[d].height)),_.top=f,_.left+=this.left+r,_.left=c.leftForLtr(c.x(_.left),_.width),f+=_.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Mu(t,this),this._draw(),Xd(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:a,labels:c}=t,d=ht.color,f=El(t.rtl,this.left,this.width),_=On(c.font),{color:E,padding:I}=c,A=_.size,R=A/2;let k;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=_.string;const{boxWidth:j,boxHeight:Y,itemHeight:ne}=$m(c,A),be=this.isHorizontal(),we=this._computeTitleHeight();k=be?{x:Kn(a,this.left+I,this.right-i[0]),y:this.top+I+we,line:0}:{x:this.left+I,y:Kn(a,this.top+we+I,this.bottom-e[0].height),line:0},ju(this.ctx,t.textDirection);const Ue=ne+I;this.legendItems.forEach((Ke,ot)=>{r.strokeStyle=Ke.fontColor||E,r.fillStyle=Ke.fontColor||E;const lt=r.measureText(Ke.text).width,rn=f.textAlign(Ke.textAlign||(Ke.textAlign=c.textAlign)),ln=j+R+lt;let en=k.x,Ti=k.y;f.setWidth(this.width),be?ot>0&&en+ln+I>this.right&&(Ti=k.y+=Ue,k.line++,en=k.x=Kn(a,this.left+I,this.right-i[k.line])):ot>0&&Ti+Ue>this.bottom&&(en=k.x=en+e[k.line].width+I,k.line++,Ti=k.y=Kn(a,this.top+we+I,this.bottom-e[k.line].height)),function(Ke,ot,lt){if(isNaN(j)||j<=0||isNaN(Y)||Y<0)return;r.save();const rn=Et(lt.lineWidth,1);if(r.fillStyle=Et(lt.fillStyle,d),r.lineCap=Et(lt.lineCap,"butt"),r.lineDashOffset=Et(lt.lineDashOffset,0),r.lineJoin=Et(lt.lineJoin,"miter"),r.lineWidth=rn,r.strokeStyle=Et(lt.strokeStyle,d),r.setLineDash(Et(lt.lineDash,[])),c.usePointStyle){const ln={radius:Y*Math.SQRT2/2,pointStyle:lt.pointStyle,rotation:lt.rotation,borderWidth:rn},en=f.xPlus(Ke,j/2);Uf(r,ln,en,ot+R,c.pointStyleWidth&&j)}else{const ln=ot+Math.max((A-Y)/2,0),en=f.leftForLtr(Ke,j),Ti=Hs(lt.borderRadius);r.beginPath(),Object.values(Ti).some(qr=>0!==qr)?ga(r,{x:en,y:ln,w:j,h:Y,radius:Ti}):r.rect(en,ln,j,Y),r.fill(),0!==rn&&r.stroke()}r.restore()}(f.x(en),Ti,Ke),en=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(rn,en+j+R,be?en+ln:this.right,t.rtl),function(Ke,ot,lt){ms(r,lt.text,Ke,ot+ne/2,_,{strikethrough:lt.hidden,textAlign:f.textAlign(lt.textAlign)})}(f.x(en),Ti,Ke),be?k.x+=ln+I:k.y+=Ue}),fv(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=On(e.font),r=ii(e.padding);if(!e.display)return;const a=El(t.rtl,this.left,this.width),c=this.ctx,d=e.position,_=r.top+i.size/2;let E,I=this.left,A=this.width;if(this.isHorizontal())A=Math.max(...this.lineWidths),E=this.top+_,I=Kn(t.align,I,this.right-A);else{const k=this.columnSizes.reduce((j,Y)=>Math.max(j,Y.height),0);E=_+Kn(t.align,this.top,this.bottom-k-t.labels.padding-this._computeTitleHeight())}const R=Kn(d,I,I+A);c.textAlign=a.textAlign(gl(d)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,ms(c,e.text,R,E,i)}_computeTitleHeight(){const t=this.options.title,e=On(t.font),i=ii(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,a;if(Ei(t,this.left,this.right)&&Ei(e,this.top,this.bottom))for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],Ei(t,r.left,r.left+r.width)&&Ei(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function Wm(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,a=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!a&&fn(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!a&&fn(e.onHover,[t,i,this],this)}else i&&fn(e.onClick,[t,i,this],this)}}var oI={id:"legend",_element:Gs,start(n,t,e){const i=n.legend=new Gs({ctx:n.ctx,options:e,chart:n});Ji.configure(n,i,e),Ji.addBox(n,i)},stop(n){Ji.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ji.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(e?0:void 0),f=ii(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:0,datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class zm extends Wr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=Jt(i.text)?i.text.length:1;this._padding=ii(i.padding);const a=r*On(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:a,options:c}=this,d=c.align;let _,E,I,f=0;return this.isHorizontal()?(E=Kn(d,i,a),I=e+t,_=a-i):("left"===c.position?(E=i+t,I=Kn(d,r,e),f=-.5*Ut):(E=a-t,I=Kn(d,e,r),f=.5*Ut),_=r-e),{titleX:E,titleY:I,maxWidth:_,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=On(e.font),a=i.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:f,rotation:_}=this._drawArgs(a);ms(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:_,textAlign:gl(e.align),textBaseline:"middle",translation:[c,d]})}}var Db={id:"title",_element:zm,start(n,t,e){!function vA(n,t){const e=new zm({ctx:n.ctx,options:t,chart:n});Ji.configure(n,e,t),Ji.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){Ji.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ji.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fp=new WeakMap;var aI={id:"subtitle",start(n,t,e){const i=new zm({ctx:n.ctx,options:e,chart:n});Ji.configure(n,i,e),Ji.addBox(n,i),fp.set(n,i)},stop(n){Ji.removeBox(n,fp.get(n)),fp.delete(n)},beforeUpdate(n,t,e){const i=fp.get(n);Ji.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Eh={average(n){if(!n.length)return!1;let t,e,i=0,r=0,a=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const d=c.tooltipPosition();i+=d.x,r+=d.y,++a}}return{x:i/a,y:r/a}},nearest(n,t){if(!n.length)return!1;let a,c,d,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(a=0,c=n.length;a<c;++a){const f=n[a].element;if(f&&f.hasValue()){const E=st(t,f.getCenterPoint());E<r&&(r=E,d=f)}}if(d){const f=d.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function vs(n,t){return t&&(Jt(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ca(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function lI(n,t){const{element:e,datasetIndex:i,index:r}=t,a=n.getDatasetMeta(i).controller,{label:c,value:d}=a.getLabelAndValue(r);return{chart:n,label:c,parsed:a.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:d,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function Ch(n,t){const e=n.chart.ctx,{body:i,footer:r,title:a}=n,{boxWidth:c,boxHeight:d}=t,f=On(t.bodyFont),_=On(t.titleFont),E=On(t.footerFont),I=a.length,A=r.length,R=i.length,k=ii(t.padding);let j=k.height,Y=0,ne=i.reduce((be,we)=>be+we.before.length+we.lines.length+we.after.length,0);ne+=n.beforeBody.length+n.afterBody.length,I&&(j+=I*_.lineHeight+(I-1)*t.titleSpacing+t.titleMarginBottom),ne&&(j+=R*(t.displayColors?Math.max(d,f.lineHeight):f.lineHeight)+(ne-R)*f.lineHeight+(ne-1)*t.bodySpacing),A&&(j+=t.footerMarginTop+A*E.lineHeight+(A-1)*t.footerSpacing);let ue=0;const Me=function(be){Y=Math.max(Y,e.measureText(be).width+ue)};return e.save(),e.font=_.string,Kt(n.title,Me),e.font=f.string,Kt(n.beforeBody.concat(n.afterBody),Me),ue=t.displayColors?c+2+t.boxPadding:0,Kt(i,be=>{Kt(be.before,Me),Kt(be.lines,Me),Kt(be.after,Me)}),ue=0,e.font=E.string,Kt(n.footer,Me),e.restore(),Y+=k.width,{width:Y,height:j}}function bA(n,t,e,i){const{x:r,width:a}=e,{width:c,chartArea:{left:d,right:f}}=n;let _="center";return"center"===i?_=r<=(d+f)/2?"left":"right":r<=a/2?_="left":r>=c-a/2&&(_="right"),function pp(n,t,e,i){const{x:r,width:a}=i,c=e.caretSize+e.caretPadding;if("left"===n&&r+a+c>t.width||"right"===n&&r-a-c<0)return!0}(_,n,t,e)&&(_="center"),_}function gp(n,t,e){const i=e.yAlign||t.yAlign||function Gm(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||bA(n,t,e,i),yAlign:i}}function Km(n,t,e,i){const{caretSize:r,caretPadding:a,cornerRadius:c}=n,{xAlign:d,yAlign:f}=e,_=r+a,{topLeft:E,topRight:I,bottomLeft:A,bottomRight:R}=Hs(c);let k=function wA(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,d);const j=function Sb(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,f,_);return"center"===f?"left"===d?k+=_:"right"===d&&(k-=_):"left"===d?k-=Math.max(E,A)+r:"right"===d&&(k+=Math.max(I,R)+r),{x:Tt(k,0,i.width-t.width),y:Tt(j,0,i.height-t.height)}}function Ih(n,t,e){const i=ii(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function Zm(n){return vs([],Ca(n))}function xo(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}let Dh=(()=>{class n extends Wr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,r=this.options.setContext(this.getContext()),a=r.enabled&&i.options.animation&&r.animations,c=new sm(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(c)),c}getContext(){return this.$context||(this.$context=function Ym(n,t,e){return _s(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:r}=i,a=r.beforeTitle.apply(this,[e]),c=r.title.apply(this,[e]),d=r.afterTitle.apply(this,[e]);let f=[];return f=vs(f,Ca(a)),f=vs(f,Ca(c)),f=vs(f,Ca(d)),f}getBeforeBody(e,i){return Zm(i.callbacks.beforeBody.apply(this,[e]))}getBody(e,i){const{callbacks:r}=i,a=[];return Kt(e,c=>{const d={before:[],lines:[],after:[]},f=xo(r,c);vs(d.before,Ca(f.beforeLabel.call(this,c))),vs(d.lines,f.label.call(this,c)),vs(d.after,Ca(f.afterLabel.call(this,c))),a.push(d)}),a}getAfterBody(e,i){return Zm(i.callbacks.afterBody.apply(this,[e]))}getFooter(e,i){const{callbacks:r}=i,a=r.beforeFooter.apply(this,[e]),c=r.footer.apply(this,[e]),d=r.afterFooter.apply(this,[e]);let f=[];return f=vs(f,Ca(a)),f=vs(f,Ca(c)),f=vs(f,Ca(d)),f}_createItems(e){const i=this._active,r=this.chart.data,a=[],c=[],d=[];let _,E,f=[];for(_=0,E=i.length;_<E;++_)f.push(lI(this.chart,i[_]));return e.filter&&(f=f.filter((I,A,R)=>e.filter(I,A,R,r))),e.itemSort&&(f=f.sort((I,A)=>e.itemSort(I,A,r))),Kt(f,I=>{const A=xo(e.callbacks,I);a.push(A.labelColor.call(this,I)),c.push(A.labelPointStyle.call(this,I)),d.push(A.labelTextColor.call(this,I))}),this.labelColors=a,this.labelPointStyles=c,this.labelTextColors=d,this.dataPoints=f,f}update(e,i){const r=this.options.setContext(this.getContext()),a=this._active;let c,d=[];if(a.length){const f=Eh[r.position].call(this,a,this._eventPosition);d=this._createItems(r),this.title=this.getTitle(d,r),this.beforeBody=this.getBeforeBody(d,r),this.body=this.getBody(d,r),this.afterBody=this.getAfterBody(d,r),this.footer=this.getFooter(d,r);const _=this._size=Ch(this,r),E=Object.assign({},f,_),I=gp(this.chart,r,E),A=Km(r,E,I,this.chart);this.xAlign=I.xAlign,this.yAlign=I.yAlign,c={opacity:1,x:A.x,y:A.y,width:_.width,height:_.height,caretX:f.x,caretY:f.y}}else 0!==this.opacity&&(c={opacity:0});this._tooltipItems=d,this.$context=void 0,c&&this._resolveAnimations().update(this,c),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,a){const c=this.getCaretPosition(e,r,a);i.lineTo(c.x1,c.y1),i.lineTo(c.x2,c.y2),i.lineTo(c.x3,c.y3)}getCaretPosition(e,i,r){const{xAlign:a,yAlign:c}=this,{caretSize:d,cornerRadius:f}=r,{topLeft:_,topRight:E,bottomLeft:I,bottomRight:A}=Hs(f),{x:R,y:k}=e,{width:j,height:Y}=i;let ne,ue,Me,be,we,Ue;return"center"===c?(we=k+Y/2,"left"===a?(ne=R,ue=ne-d,be=we+d,Ue=we-d):(ne=R+j,ue=ne+d,be=we-d,Ue=we+d),Me=ne):(ue="left"===a?R+Math.max(_,I)+d:"right"===a?R+j-Math.max(E,A)-d:this.caretX,"top"===c?(be=k,we=be-d,ne=ue-d,Me=ue+d):(be=k+Y,we=be+d,ne=ue+d,Me=ue-d),Ue=be),{x1:ne,x2:ue,x3:Me,y1:be,y2:we,y3:Ue}}drawTitle(e,i,r){const a=this.title,c=a.length;let d,f,_;if(c){const E=El(r.rtl,this.x,this.width);for(e.x=Ih(this,r.titleAlign,r),i.textAlign=E.textAlign(r.titleAlign),i.textBaseline="middle",d=On(r.titleFont),f=r.titleSpacing,i.fillStyle=r.titleColor,i.font=d.string,_=0;_<c;++_)i.fillText(a[_],E.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+f,_+1===c&&(e.y+=r.titleMarginBottom-f)}}_drawColorBox(e,i,r,a,c){const d=this.labelColors[r],f=this.labelPointStyles[r],{boxHeight:_,boxWidth:E,boxPadding:I}=c,A=On(c.bodyFont),R=Ih(this,"left",c),k=a.x(R),Y=i.y+(_<A.lineHeight?(A.lineHeight-_)/2:0);if(c.usePointStyle){const ne={radius:Math.min(E,_)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},ue=a.leftForLtr(k,E)+E/2,Me=Y+_/2;e.strokeStyle=c.multiKeyBackground,e.fillStyle=c.multiKeyBackground,pa(e,ne,ue,Me),e.strokeStyle=d.borderColor,e.fillStyle=d.backgroundColor,pa(e,ne,ue,Me)}else{e.lineWidth=_t(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,e.strokeStyle=d.borderColor,e.setLineDash(d.borderDash||[]),e.lineDashOffset=d.borderDashOffset||0;const ne=a.leftForLtr(k,E-I),ue=a.leftForLtr(a.xPlus(k,1),E-I-2),Me=Hs(d.borderRadius);Object.values(Me).some(be=>0!==be)?(e.beginPath(),e.fillStyle=c.multiKeyBackground,ga(e,{x:ne,y:Y,w:E,h:_,radius:Me}),e.fill(),e.stroke(),e.fillStyle=d.backgroundColor,e.beginPath(),ga(e,{x:ue,y:Y+1,w:E-2,h:_-2,radius:Me}),e.fill()):(e.fillStyle=c.multiKeyBackground,e.fillRect(ne,Y,E,_),e.strokeRect(ne,Y,E,_),e.fillStyle=d.backgroundColor,e.fillRect(ue,Y+1,E-2,_-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){const{body:a}=this,{bodySpacing:c,bodyAlign:d,displayColors:f,boxHeight:_,boxWidth:E,boxPadding:I}=r,A=On(r.bodyFont);let R=A.lineHeight,k=0;const j=El(r.rtl,this.x,this.width),Y=function(lt){i.fillText(lt,j.x(e.x+k),e.y+R/2),e.y+=R+c},ne=j.textAlign(d);let ue,Me,be,we,Ue,Ke,ot;for(i.textAlign=d,i.textBaseline="middle",i.font=A.string,e.x=Ih(this,ne,r),i.fillStyle=r.bodyColor,Kt(this.beforeBody,Y),k=f&&"right"!==ne?"center"===d?E/2+I:E+2+I:0,we=0,Ke=a.length;we<Ke;++we){for(ue=a[we],Me=this.labelTextColors[we],i.fillStyle=Me,Kt(ue.before,Y),be=ue.lines,f&&be.length&&(this._drawColorBox(i,e,we,j,r),R=Math.max(A.lineHeight,_)),Ue=0,ot=be.length;Ue<ot;++Ue)Y(be[Ue]),R=A.lineHeight;Kt(ue.after,Y)}k=0,R=A.lineHeight,Kt(this.afterBody,Y),e.y-=c}drawFooter(e,i,r){const a=this.footer,c=a.length;let d,f;if(c){const _=El(r.rtl,this.x,this.width);for(e.x=Ih(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=_.textAlign(r.footerAlign),i.textBaseline="middle",d=On(r.footerFont),i.fillStyle=r.footerColor,i.font=d.string,f=0;f<c;++f)i.fillText(a[f],_.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+r.footerSpacing}}drawBackground(e,i,r,a){const{xAlign:c,yAlign:d}=this,{x:f,y:_}=e,{width:E,height:I}=r,{topLeft:A,topRight:R,bottomLeft:k,bottomRight:j}=Hs(a.cornerRadius);i.fillStyle=a.backgroundColor,i.strokeStyle=a.borderColor,i.lineWidth=a.borderWidth,i.beginPath(),i.moveTo(f+A,_),"top"===d&&this.drawCaret(e,i,r,a),i.lineTo(f+E-R,_),i.quadraticCurveTo(f+E,_,f+E,_+R),"center"===d&&"right"===c&&this.drawCaret(e,i,r,a),i.lineTo(f+E,_+I-j),i.quadraticCurveTo(f+E,_+I,f+E-j,_+I),"bottom"===d&&this.drawCaret(e,i,r,a),i.lineTo(f+k,_+I),i.quadraticCurveTo(f,_+I,f,_+I-k),"center"===d&&"left"===c&&this.drawCaret(e,i,r,a),i.lineTo(f,_+A),i.quadraticCurveTo(f,_,f+A,_),i.closePath(),i.fill(),a.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,r=this.$animations,a=r&&r.x,c=r&&r.y;if(a||c){const d=Eh[e.position].call(this,this._active,this._eventPosition);if(!d)return;const f=this._size=Ch(this,e),_=Object.assign({},d,this._size),E=gp(i,e,_),I=Km(e,_,E,i);(a._to!==I.x||c._to!==I.y)&&(this.xAlign=E.xAlign,this.yAlign=E.yAlign,this.width=f.width,this.height=f.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,I))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const a={width:this.width,height:this.height},c={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const d=ii(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(c,e,a,i),ju(e,i.textDirection),c.y+=d.top,this.drawTitle(c,e,i),this.drawBody(c,e,i),this.drawFooter(c,e,i),fv(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this._active,a=e.map(({datasetIndex:f,index:_})=>{const E=this.chart.getDatasetMeta(f);if(!E)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:E.data[_],index:_}}),c=!Bs(r,a),d=this._positionChanged(a,i);(c||d)&&(this._active=a,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,c=this._active||[],d=this._getActiveElements(e,c,i,r),f=this._positionChanged(d,e),_=i||!Bs(d,c)||f;return _&&(this._active=d,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),_}_getActiveElements(e,i,r,a){const c=this.options;if("mouseout"===e.type)return[];if(!a)return i;const d=this.chart.getElementsAtEventForMode(e,c.mode,c,r);return c.reverse&&d.reverse(),d}_positionChanged(e,i){const{caretX:r,caretY:a,options:c}=this,d=Eh[c.position].call(this,e,i);return!1!==d&&(r!==d.x||a!==d.y)}}return n.positioners=Eh,n})();var mp={id:"tooltip",_element:Dh,positioners:Eh,afterInit(n,t,e){e&&(n.tooltip=new Dh({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",e))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:cr,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:cr,beforeBody:cr,beforeLabel:cr,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Bt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:cr,afterBody:cr,beforeFooter:cr,footer:cr,afterFooter:cr}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Sh=Object.freeze({__proto__:null,Decimation:up,Filler:Ib,Legend:oI,SubTitle:aI,Title:Db,Tooltip:mp});class _p extends va{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:a}of e)i[r]===a&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Bt(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:Tt(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function qm(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(i,t,Et(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let a=this.getLabels();a=0===t&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Qu(n,t,{horizontal:e,minRotation:i}){const r=ee(i),a=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/a,.75*t*(""+n).length)}_p.id="category",_p.defaults={ticks:{callback:_p.prototype.getLabelForValue}};class yp extends va{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Bt(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:a}=this;const c=f=>r=e?r:f,d=f=>a=i?a:f;if(t){const f=dr(r),_=dr(a);f<0&&_<0?d(0):f>0&&_>0&&c(0)}if(r===a){let f=1;(a>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(f=Math.abs(.05*a)),d(a+f),t||c(r-f)}this.min=r,this.max=a}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const c=function uI(n,t){const e=[],{bounds:r,step:a,min:c,max:d,precision:f,count:_,maxTicks:E,maxDigits:I,includeBounds:A}=n,R=a||1,k=E-1,{min:j,max:Y}=t,ne=!Bt(c),ue=!Bt(d),Me=!Bt(_),be=(Y-j)/(I+1);let Ue,Ke,ot,lt,we=Dn((Y-j)/k/R)*R;if(we<1e-14&&!ne&&!ue)return[{value:j},{value:Y}];lt=Math.ceil(Y/we)-Math.floor(j/we),lt>k&&(we=Dn(lt*we/k/R)*R),Bt(f)||(Ue=Math.pow(10,f),we=Math.ceil(we*Ue)/Ue),"ticks"===r?(Ke=Math.floor(j/we)*we,ot=Math.ceil(Y/we)*we):(Ke=j,ot=Y),ne&&ue&&a&&function P(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((d-c)/a,we/1e3)?(lt=Math.round(Math.min((d-c)/we,E)),we=(d-c)/lt,Ke=c,ot=d):Me?(Ke=ne?c:Ke,ot=ue?d:ot,lt=_-1,we=(ot-Ke)/lt):(lt=(ot-Ke)/we,lt=T(lt,Math.round(lt),we/1e3)?Math.round(lt):Math.ceil(lt));const rn=Math.max(Te(we),Te(Ke));Ue=Math.pow(10,Bt(f)?rn:f),Ke=Math.round(Ke*Ue)/Ue,ot=Math.round(ot*Ue)/Ue;let ln=0;for(ne&&(A&&Ke!==c?(e.push({value:c}),Ke<c&&ln++,T(Math.round((Ke+ln*we)*Ue)/Ue,c,Qu(c,be,n))&&ln++):Ke<c&&ln++);ln<lt;++ln)e.push({value:Math.round((Ke+ln*we)*Ue)/Ue});return ue&&A&&ot!==d?e.length&&T(e[e.length-1].value,d,Qu(d,be,n))?e[e.length-1].value=d:e.push({value:d}):(!ue||ot===d)&&e.push({value:ot}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&V(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Vu(t,this.chart.options.locale,this.options.ticks.format)}}class xb extends yp{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Gt(t)?t:0,this.max=Gt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ee(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function Ab(n){return n/Math.pow(10,Math.floor(jn(n)))==1}xb.id="linear",xb.defaults={ticks:{callback:Zf.formatters.numeric}};class Qm extends va{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=yp.prototype.parse.apply(this,[t,e]);if(0!==i)return Gt(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Gt(t)?Math.max(0,t):null,this.max=Gt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const a=f=>i=t?i:f,c=f=>r=e?r:f,d=(f,_)=>Math.pow(10,Math.floor(jn(f))+_);i===r&&(i<=0?(a(1),c(10)):(a(d(i,-1)),c(d(r,1)))),i<=0&&a(d(r,-1)),r<=0&&c(d(i,1)),this._zero&&this.min!==this._suggestedMin&&i===d(this.min,0)&&a(d(i,-1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function EA(n,t){const e=Math.floor(jn(t.max)),i=Math.ceil(t.max/Math.pow(10,e)),r=[];let a=Fi(n.min,Math.pow(10,Math.floor(jn(t.min)))),c=Math.floor(jn(a)),d=Math.floor(a/Math.pow(10,c)),f=c<0?Math.pow(10,Math.abs(c)):1;do{r.push({value:a,major:Ab(a)}),++d,10===d&&(d=1,++c,f=c>=0?1:f),a=Math.round(d*Math.pow(10,c)*f)/f}while(c<e||c===e&&d<i);const _=Fi(n.max,a);return r.push({value:_,major:Ab(a)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&V(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":Vu(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=jn(t),this._valueRange=jn(this.max)-jn(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(jn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Xm(n){const t=n.ticks;if(t.display&&n.display){const e=ii(t.backdropPadding);return Et(t.font&&t.font.size,ht.font.size)+e.height}return 0}function dI(n,t,e){return e=Jt(e)?e:[e],{w:Qd(n,t.string,e),h:e.length*t.lineHeight}}function Jm(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function hI(n,t,e,i,r){const a=Math.abs(Math.sin(e)),c=Math.abs(Math.cos(e));let d=0,f=0;i.start<t.l?(d=(t.l-i.start)/a,n.l=Math.min(n.l,t.l-d)):i.end>t.r&&(d=(i.end-t.r)/a,n.r=Math.max(n.r,t.r+d)),r.start<t.t?(f=(t.t-r.start)/c,n.t=Math.min(n.t,t.t-f)):r.end>t.b&&(f=(r.end-t.b)/c,n.b=Math.max(n.b,t.b+f))}function fI(n){return 0===n||180===n?"center":n<180?"left":"right"}function pI(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function gI(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function Rb(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,qt);else{let a=n.getPointPosition(0,t);r.moveTo(a.x,a.y);for(let c=1;c<i;c++)a=n.getPointPosition(c,t),r.lineTo(a.x,a.y)}}Qm.id="logarithmic",Qm.defaults={ticks:{callback:Zf.formatters.logarithmic,major:{enabled:!0}}};class Ks extends yp{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ii(Xm(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Gt(t)&&!isNaN(t)?t:0,this.max=Gt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Xm(this.options))}generateTickLabels(t){yp.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=fn(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function Mb(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],a=n._pointLabels.length,c=n.options.pointLabels,d=c.centerPointLabels?Ut/a:0;for(let f=0;f<a;f++){const _=c.setContext(n.getPointLabelContext(f));r[f]=_.padding;const E=n.getPointPosition(f,n.drawingArea+r[f],d),I=On(_.font),A=dI(n.ctx,I,n._pointLabels[f]);i[f]=A;const R=dt(n.getIndexAngle(f)+d),k=Math.round(ce(R));hI(e,t,R,Jm(k,E.x,A.w,0,180),Jm(k,E.y,A.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function e_(n,t,e){const i=[],r=n._pointLabels.length,a=n.options,c=Xm(a)/2,d=n.drawingArea,f=a.pointLabels.centerPointLabels?Ut/r:0;for(let _=0;_<r;_++){const E=n.getPointPosition(_,d+c+e[_],f),I=Math.round(ce(dt(E.angle+Qt))),A=t[_],R=gI(E.y,A.h,I),k=fI(I),j=pI(E.x,A.w,k);i.push({x:E.x,y:R,textAlign:k,left:j,top:R,right:j+A.w,bottom:R+A.h})}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return dt(t*(qt/(this._pointLabels.length||1))+ee(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Bt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Bt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function vp(n,t,e){return _s(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Qt+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:a}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),Rb(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r}=e,a=this._pointLabels.length;let c,d,f;if(e.pointLabels.display&&function mI(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const a=i.setContext(n.getPointLabelContext(r)),c=On(a.font),{x:d,y:f,textAlign:_,left:E,top:I,right:A,bottom:R}=n._pointLabelItems[r],{backdropColor:k}=a;if(!Bt(k)){const j=Hs(a.borderRadius),Y=ii(a.backdropPadding);e.fillStyle=k;const ne=E-Y.left,ue=I-Y.top,Me=A-E+Y.width,be=R-I+Y.height;Object.values(j).some(we=>0!==we)?(e.beginPath(),ga(e,{x:ne,y:ue,w:Me,h:be,radius:j}),e.fill()):e.fillRect(ne,ue,Me,be)}ms(e,n._pointLabels[r],d,f+c.lineHeight/2,c,{color:a.color,textAlign:_,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((_,E)=>{0!==E&&(d=this.getDistanceFromCenterForValue(_.value),function _I(n,t,e,i){const r=n.ctx,a=t.circular,{color:c,lineWidth:d}=t;!a&&!i||!c||!d||e<0||(r.save(),r.strokeStyle=c,r.lineWidth=d,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),Rb(n,e,a,i),r.closePath(),r.stroke(),r.restore())}(this,r.setContext(this.getContext(E-1)),d,a))}),i.display){for(t.save(),c=a-1;c>=0;c--){const _=i.setContext(this.getPointLabelContext(c)),{color:E,lineWidth:I}=_;!I||!E||(t.lineWidth=I,t.strokeStyle=E,t.setLineDash(_.borderDash),t.lineDashOffset=_.borderDashOffset,d=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),f=this.getPointPosition(c,d),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let a,c;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((d,f)=>{if(0===f&&!e.reverse)return;const _=i.setContext(this.getContext(f)),E=On(_.font);if(a=this.getDistanceFromCenterForValue(this.ticks[f].value),_.showLabelBackdrop){t.font=E.string,c=t.measureText(d.label).width,t.fillStyle=_.backdropColor;const I=ii(_.backdropPadding);t.fillRect(-c/2-I.left,-a-E.size/2-I.top,c+I.width,E.size+I.height)}ms(t,d.label,0,-a,E,{color:_.color})}),t.restore()}drawTitle(){}}Ks.id="radialLinear",Ks.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Zf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},Ks.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Ks.descriptors={angleLines:{_fallback:"grid"}};const t_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ii=Object.keys(t_);function yI(n,t){return n-t}function Pb(n,t){if(Bt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:a}=n._parseOpts;let c=t;return"function"==typeof i&&(c=i(c)),Gt(c)||(c="string"==typeof i?e.parse(c,i):e.parse(c)),null===c?null:(r&&(c="week"!==r||!S(a)&&!0!==a?e.startOf(c,r):e.startOf(c,"isoWeek",a)),+c)}function bp(n,t,e,i){const r=Ii.length;for(let a=Ii.indexOf(n);a<r-1;++a){const c=t_[Ii[a]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(d*c.size))<=i)return Ii[a]}return Ii[r-1]}function Xu(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=ds(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function Tl(n,t,e){const i=[],r={},a=t.length;let c,d;for(c=0;c<a;++c)d=t[c],r[d]=c,i.push({value:d,major:!1});return 0!==a&&e?function er(n,t,e,i){const r=n._adapter,a=+r.startOf(t[0].value,i),c=t[t.length-1].value;let d,f;for(d=a;d<=c;d=+r.add(d,1,i))f=e[d],f>=0&&(t[f].major=!0);return t}(n,i,r,e):i}let Ju=(()=>{class n extends va{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i){const r=e.time||(e.time={}),a=this._adapter=new rA._date(e.adapters.date);a.init(i),Ki(r.displayFormats,a.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:Pb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,r=e.time.unit||"day";let{min:a,max:c,minDefined:d,maxDefined:f}=this.getUserBounds();function _(E){!d&&!isNaN(E.min)&&(a=Math.min(a,E.min)),!f&&!isNaN(E.max)&&(c=Math.max(c,E.max))}(!d||!f)&&(_(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&_(this.getMinMax(!1))),a=Gt(a)&&!isNaN(a)?a:+i.startOf(Date.now(),r),c=Gt(c)&&!isNaN(c)?c:+i.endOf(Date.now(),r)+1,this.min=Math.min(a,c-1),this.max=Math.max(a+1,c)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this.options,i=e.time,r=e.ticks,a="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const c=this.min,f=function hs(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(a,c,this.max);return this._unit=i.unit||(r.autoSkip?bp(i.minUnit,this.min,this.max,this._getLabelCapacity(c)):function vI(n,t,e,i,r){for(let a=Ii.length-1;a>=Ii.indexOf(e);a--){const c=Ii[a];if(t_[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Ii[e?Ii.indexOf(e):0]}(this,f.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function Ao(n){for(let t=Ii.indexOf(n)+1,e=Ii.length;t<e;++t)if(t_[Ii[t]].common)return Ii[t]}(this._unit):void 0,this.initOffsets(a),e.reverse&&f.reverse(),Tl(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let a,c,i=0,r=0;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),i=1===e.length?1-a:(this.getDecimalForValue(e[1])-a)/2,c=this.getDecimalForValue(e[e.length-1]),r=1===e.length?c:(c-this.getDecimalForValue(e[e.length-2]))/2);const d=e.length<3?.5:.25;i=Tt(i,0,d),r=Tt(r,0,d),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,i=this.min,r=this.max,a=this.options,c=a.time,d=c.unit||bp(c.minUnit,i,r,this._getLabelCapacity(i)),f=Et(c.stepSize,1),_="week"===d&&c.isoWeekday,E=S(_)||!0===_,I={};let R,k,A=i;if(E&&(A=+e.startOf(A,"isoWeek",_)),A=+e.startOf(A,E?"day":d),e.diff(r,i,d)>1e5*f)throw new Error(i+" and "+r+" are too far apart with stepSize of "+f+" "+d);const j="data"===a.ticks.source&&this.getDataTimestamps();for(R=A,k=0;R<r;R=+e.add(R,f,d),k++)Xu(I,R,j);return(R===r||"ticks"===a.bounds||1===k)&&Xu(I,R,j),Object.keys(I).sort((Y,ne)=>Y-ne).map(Y=>+Y)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}_tickFormatFunction(e,i,r,a){const c=this.options,d=c.time.displayFormats,f=this._unit,_=this._majorUnit,I=_&&d[_],A=r[i],k=this._adapter.format(e,a||(_&&I&&A&&A.major?I:f&&d[f])),j=c.ticks.callback;return j?fn(j,[k,i,r],this):k}generateTickLabels(e){let i,r,a;for(i=0,r=e.length;i<r;++i)a=e[i],a.label=this._tickFormatFunction(a.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,r=this.ctx.measureText(e).width,a=ee(this.isHorizontal()?i.maxRotation:i.minRotation),c=Math.cos(a),d=Math.sin(a),f=this._resolveTickFontOptions(0).size;return{w:r*c+f*d,h:r*d+f*c}}_getLabelCapacity(e){const i=this.options.time,r=i.displayFormats,a=r[i.unit]||r.millisecond,c=this._tickFormatFunction(e,0,Tl(this,[e],this._majorUnit),a),d=this._getLabelSize(c),f=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return f>0?f:1}getDataTimestamps(){let i,r,e=this._cache.data||[];if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(i=0,r=a.length;i<r;++i)e=e.concat(a[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,r;if(e.length)return e;const a=this.getLabels();for(i=0,r=a.length;i<r;++i)e.push(Pb(this,a[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Sc(e.sort(yI))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function mr(n,t,e){let a,c,d,f,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=gi(n,"pos",t)),({pos:a,time:d}=n[i]),({pos:c,time:f}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=gi(n,"time",t)),({time:a,pos:d}=n[i]),({time:c,pos:f}=n[r]));const _=c-a;return _?d+(f-d)*(t-a)/_:d}class Th extends Ju{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=mr(e,this.min),this._tableRange=mr(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],a=[];let c,d,f,_,E;for(c=0,d=t.length;c<d;++c)_=t[c],_>=e&&_<=i&&r.push(_);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,d=r.length;c<d;++c)E=r[c+1],f=r[c-1],_=r[c],Math.round((E+f)/2)!==_&&a.push({time:_,pos:c/(d-1)});return a}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(mr(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return mr(this._table,i*this._tableRange+this._minPos,!0)}}Th.id="timeseries",Th.defaults=Ju.defaults;const td=[jv,YC,Sh,Object.freeze({__proto__:null,CategoryScale:_p,LinearScale:xb,LogarithmicScale:Qm,RadialLinearScale:Ks,TimeScale:Ju,TimeSeriesScale:Th})];var Zs=B(4671),ri=B(4482),Zn=B(5403);function zc(n,t=Zs.y){return n=n??nd,(0,ri.e)((e,i)=>{let r,a=!0;e.subscribe((0,Zn.x)(i,c=>{const d=t(c);(a||!n(r,d))&&(a=!1,r=d,i.next(c))}))})}function nd(n,t){return n===t}const xh=function Ob(n,t){return n===t||n!=n&&t!=t},Ah=function kb(n,t){for(var e=n.length;e--;)if(xh(n[e][0],t))return e;return-1};var Lb=Array.prototype.splice;function xl(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}xl.prototype.clear=function id(){this.__data__=[],this.size=0},xl.prototype.delete=function Fb(n){var t=this.__data__,e=Ah(t,n);return!(e<0||(e==t.length-1?t.pop():Lb.call(t,e,1),--this.size,0))},xl.prototype.get=function Ub(n){var t=this.__data__,e=Ah(t,n);return e<0?void 0:t[e][1]},xl.prototype.has=function wI(n){return Ah(this.__data__,n)>-1},xl.prototype.set=function EI(n,t){var e=this.__data__,i=Ah(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this};const sd=xl,Cp="object"==typeof global&&global&&global.Object===Object&&global;var Hb="object"==typeof self&&self&&self.Object===Object&&self;const Al=Cp||Hb||Function("return this")();var Wb=Al.Symbol,s_=Object.prototype,zb=s_.hasOwnProperty,Gb=s_.toString,od=Wb?Wb.toStringTag:void 0;var Kb=Object.prototype.toString;var a_=Wb?Wb.toStringTag:void 0;const Mh=function Qb(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":a_&&a_ in Object(n)?function TI(n){var t=zb.call(n,od),e=n[od];try{n[od]=void 0;var i=!0}catch{}var r=Gb.call(n);return i&&(t?n[od]=e:delete n[od]),r}(n):function o_(n){return Kb.call(n)}(n)},Ml=function Xb(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},si=function PI(n){if(!Ml(n))return!1;var t=Mh(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var n,e0=Al["__core-js_shared__"],t0=(n=/[^.]+$/.exec(e0&&e0.keys&&e0.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";var s0=Function.prototype.toString;var o0=/^\[object .+?Constructor\]$/,c0=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const FI=function Mo(n){return!(!Ml(n)||function n0(n){return!!t0&&t0 in n}(n))&&(si(n)?c0:o0).test(function ad(n){if(null!=n){try{return s0.call(n)}catch{}try{return n+""}catch{}}return""}(n))},Gr=function Ys(n,t){var e=function BI(n,t){return n?.[t]}(n,t);return FI(e)?e:void 0},c_=Gr(Al,"Map"),Rh=Gr(Object,"create");var $I=Object.prototype.hasOwnProperty;var WI=Object.prototype.hasOwnProperty;function Gc(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Gc.prototype.clear=function VI(){this.__data__=Rh?Rh(null):{},this.size=0},Gc.prototype.delete=function u_(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},Gc.prototype.get=function h0(n){var t=this.__data__;if(Rh){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return $I.call(t,n)?t[n]:void 0},Gc.prototype.has=function p0(n){var t=this.__data__;return Rh?void 0!==t[n]:WI.call(t,n)},Gc.prototype.set=function h_(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Rh&&void 0===t?"__lodash_hash_undefined__":t,this};const f_=Gc,Sp=function w0(n,t){var e=n.__data__;return function v0(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?e["string"==typeof t?"string":"hash"]:e.map};function ld(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}ld.prototype.clear=function _0(){this.size=0,this.__data__={hash:new f_,map:new(c_||sd),string:new f_}},ld.prototype.delete=function zI(n){var t=Sp(this,n).delete(n);return this.size-=t?1:0,t},ld.prototype.get=function KI(n){return Sp(this,n).get(n)},ld.prototype.has=function YI(n){return Sp(this,n).has(n)},ld.prototype.set=function QI(n,t){var e=Sp(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this};const JI=ld;function cd(n){var t=this.__data__=new sd(n);this.size=t.size}cd.prototype.clear=function II(){this.__data__=new sd,this.size=0},cd.prototype.delete=function Ep(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},cd.prototype.get=function DI(n){return this.__data__.get(n)},cd.prototype.has=function r_(n){return this.__data__.has(n)},cd.prototype.set=function tD(n,t){var e=this.__data__;if(e instanceof sd){var i=e.__data__;if(!c_||i.length<199)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new JI(i)}return e.set(n,t),this.size=e.size,this};const iD=cd;var rD=function(){try{var n=Gr(Object,"defineProperty");return n({},"",{}),n}catch{}}();const Tp=rD,xp=function E0(n,t,e){"__proto__"==t&&Tp?Tp(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e},Ap=function C0(n,t,e){(void 0!==e&&!xh(n[t],e)||void 0===e&&!(t in n))&&xp(n,t,e)};var D0=function I0(n){return function(t,e,i){for(var r=-1,a=Object(t),c=i(t),d=c.length;d--;){var f=c[n?d:++r];if(!1===e(a[f],f,a))break}return t}}();const S0=D0;var p_="object"==typeof exports&&exports&&!exports.nodeType&&exports,g_=p_&&"object"==typeof module&&module&&!module.nodeType&&module,Rl=g_&&g_.exports===p_?Al.Buffer:void 0,x0=Rl?Rl.allocUnsafe:void 0;const Mp=Al.Uint8Array,TA=function M0(n,t){var e=t?function SA(n){var t=new n.constructor(n.byteLength);return new Mp(t).set(new Mp(n)),t}(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)};var R0=Object.create,lD=function(){function n(){}return function(t){if(!Ml(t))return{};if(R0)return R0(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();const dd=lD;var Rp=function cD(n,t){return function(e){return n(t(e))}}(Object.getPrototypeOf,Object);const Hn=Rp;var xA=Object.prototype;const __=function P0(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||xA)},hd=function k0(n){return null!=n&&"object"==typeof n},L0=function dD(n){return hd(n)&&"[object Arguments]"==Mh(n)};var F0=Object.prototype,Oh=F0.hasOwnProperty,hD=F0.propertyIsEnumerable,fD=L0(function(){return arguments}())?L0:function(n){return hd(n)&&Oh.call(n,"callee")&&!hD.call(n,"callee")};const y_=fD,Op=Array.isArray,V0=function U0(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},Kc=function kh(n){return null!=n&&V0(n.length)&&!si(n)};var v_="object"==typeof exports&&exports&&!exports.nodeType&&exports,b_=v_&&"object"==typeof module&&module&&!module.nodeType&&module,w_=b_&&b_.exports===v_?Al.Buffer:void 0;const bD=(w_?w_.isBuffer:void 0)||function mD(){return!1};var E_=Function.prototype.toString,kp=Object.prototype.hasOwnProperty,wD=E_.call(Object);var vn={};vn["[object Float32Array]"]=vn["[object Float64Array]"]=vn["[object Int8Array]"]=vn["[object Int16Array]"]=vn["[object Int32Array]"]=vn["[object Uint8Array]"]=vn["[object Uint8ClampedArray]"]=vn["[object Uint16Array]"]=vn["[object Uint32Array]"]=!0,vn["[object Arguments]"]=vn["[object Array]"]=vn["[object ArrayBuffer]"]=vn["[object Boolean]"]=vn["[object DataView]"]=vn["[object Date]"]=vn["[object Error]"]=vn["[object Function]"]=vn["[object Map]"]=vn["[object Number]"]=vn["[object Object]"]=vn["[object RegExp]"]=vn["[object Set]"]=vn["[object String]"]=vn["[object WeakMap]"]=!1;var q0="object"==typeof exports&&exports&&!exports.nodeType&&exports,Fh=q0&&"object"==typeof module&&module&&!module.nodeType&&module,I_=Fh&&Fh.exports===q0&&Cp.process,HD=function(){try{return Fh&&Fh.require&&Fh.require("util").types||I_&&I_.binding&&I_.binding("util")}catch{}}(),D_=HD&&HD.isTypedArray;const J0=D_?function UD(n){return function(t){return n(t)}}(D_):function BD(n){return hd(n)&&V0(n.length)&&!!vn[Mh(n)]},Np=function $D(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]};var zD=Object.prototype.hasOwnProperty;const S_=function GD(n,t,e){var i=n[t];(!zD.call(n,t)||!xh(i,e)||void 0===e&&!(t in n))&&xp(n,t,e)};var A_=/^(?:0|[1-9]\d*)$/;const tw=function YD(n,t){var e=typeof n;return!!(t=t??9007199254740991)&&("number"==e||"symbol"!=e&&A_.test(n))&&n>-1&&n%1==0&&n<t};var nw=Object.prototype.hasOwnProperty;const PA=function qD(n,t){var e=Op(n),i=!e&&y_(n),r=!e&&!i&&bD(n),a=!e&&!i&&!r&&J0(n),c=e||i||r||a,d=c?function x_(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}(n.length,String):[],f=d.length;for(var _ in n)(t||nw.call(n,_))&&(!c||!("length"==_||r&&("offset"==_||"parent"==_)||a&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||tw(_,f)))&&d.push(_);return d};var R_=Object.prototype.hasOwnProperty;const rw=function XD(n){if(!Ml(n))return function iw(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t}(n);var t=__(n),e=[];for(var i in n)"constructor"==i&&(t||!R_.call(n,i))||e.push(i);return e},O_=function P_(n){return Kc(n)?PA(n,!0):rw(n)},ow=function sw(n){return function T_(n,t,e,i){var r=!e;e||(e={});for(var a=-1,c=t.length;++a<c;){var d=t[a],f=i?i(e[d],n[d],d,e,n):void 0;void 0===f&&(f=n[d]),r?xp(e,d,f):S_(e,d,f)}return e}(n,O_(n))},JD=function aw(n,t,e,i,r,a,c){var d=Np(n,e),f=Np(t,e),_=c.get(f);if(_)Ap(n,e,_);else{var E=a?a(d,f,e+"",n,t,c):void 0,I=void 0===E;if(I){var A=Op(f),R=!A&&bD(f),k=!A&&!R&&J0(f);E=f,A||R||k?Op(d)?E=d:function pD(n){return hd(n)&&Kc(n)}(d)?E=function yt(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}(d):R?(I=!1,E=function oD(n,t){if(t)return n.slice();var e=n.length,i=x0?x0(e):new n.constructor(e);return n.copy(i),i}(f,!0)):k?(I=!1,E=TA(f,!0)):E=[]:function ED(n){if(!hd(n)||"[object Object]"!=Mh(n))return!1;var t=Hn(n);if(null===t)return!0;var e=kp.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&E_.call(e)==wD}(f)||y_(f)?(E=d,y_(d)?E=ow(d):(!Ml(d)||si(d))&&(E=function uD(n){return"function"!=typeof n.constructor||__(n)?{}:dd(Hn(n))}(f))):I=!1}I&&(c.set(f,E),r(E,f,i,a,c),c.delete(f)),Ap(n,e,E)}},eS=function lw(n,t,e,i,r){n!==t&&S0(t,function(a,c){if(r||(r=new iD),Ml(a))JD(n,t,c,e,lw,i,r);else{var d=i?i(Np(n,c),a,c+"",n,t,r):void 0;void 0===d&&(d=a),Ap(n,c,d)}},O_)},k_=function tS(n){return n},cw=function OA(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)};var uw=Math.max;const iS=function NA(n){return function(){return n}};var rS=Tp?function(n,t){return Tp(n,"toString",{configurable:!0,enumerable:!1,value:iS(t),writable:!0})}:k_,aS=Date.now,cS=function lS(n){var t=0,e=0;return function(){var i=aS(),r=16-(i-e);if(e=i,r>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}(rS);const uS=cS,hS=function dS(n,t){return uS(function nS(n,t,e){return t=uw(void 0===t?n.length-1:t,0),function(){for(var i=arguments,r=-1,a=uw(i.length-t,0),c=Array(a);++r<a;)c[r]=i[t+r];r=-1;for(var d=Array(t+1);++r<t;)d[r]=i[r];return d[t]=e(c),cw(n,this,d)}}(n,t,k_),n+"")};var pw=function fw(n){return hS(function(t,e){var i=-1,r=e.length,a=r>1?e[r-1]:void 0,c=r>2?e[2]:void 0;for(a=n.length>3&&"function"==typeof a?(r--,a):void 0,c&&function Bh(n,t,e){if(!Ml(e))return!1;var i=typeof t;return!!("number"==i?Kc(e)&&tw(t,e.length):"string"==i&&t in e)&&xh(e[t],n)}(e[0],e[1],c)&&(a=r<3?void 0:a,r=1),t=Object(t);++i<r;){var d=e[i];d&&n(t,d,i,a)}return t})}(function(n,t,e){eS(n,t,e)});const N_=pw;var Ia=B(7579);class bs extends Ia.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}let FA=(()=>{class n{constructor(){this.colorschemesOptions=new bs(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gw=(()=>{class n{constructor(e,i,r){this.zone=i,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new b.vpe,this.chartHover=new b.vpe,this.subs=[],this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(zc()).subscribe(a=>this.themeChanged(a)))}ngOnChanges(e){const i=["type"],r=Object.getOwnPropertyNames(e);if(r.some(a=>i.includes(a))||r.every(a=>e[a].isFirstChange()))this.render();else{const a=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,a.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,a.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,a.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),vh.register(...this.plugins),this.zone.runOutsideAngular(()=>this.chart=new vh(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(e))}hideDataset(e,i){this.chart&&(this.chart.getDatasetMeta(e).hidden=i,this.update())}isDatasetHidden(e){return this.chart?.getDatasetMeta(e)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return N_({onHover:(e,i)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:e,active:i}))},onClick:(e,i)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:e,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return n.\u0275fac=function(e){return new(e||n)(b.Y36(b.SBq),b.Y36(b.R0b),b.Y36(FA))},n.\u0275dir=b.lG2({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[b.TTD]}),n})();const pS=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],gS={datasets:{line:{backgroundColor:n=>Pl(Ol(n.datasetIndex),.4),borderColor:n=>Pl(Ol(n.datasetIndex),1),pointBackgroundColor:n=>Pl(Ol(n.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:n=>Pl(Ol(n.datasetIndex),.6),borderColor:n=>Pl(Ol(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>Pl(Ol(n.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>Pl(Ol(n.dataIndex),.6),borderColor:n=>Pl(Ol(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Pl(n,t){return"rgba("+n.concat(t).join(",")+")"}function L_(n,t){return Math.floor(Math.random()*(t-n+1))+n}function Ol(n=0){return pS[n]||function Uh(){return[L_(0,255),L_(0,255),L_(0,255)]}()}let Lp=(()=>{class n{constructor(){this.generateColors=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();vh.register(...td);let Po=(()=>{class n{constructor(e){e?.plugins&&vh.register(...e?.plugins);const i=N_(e?.generateColors?gS:{},e?.defaults||{});ht.set(i)}static forRoot(e){return{ngModule:n,providers:[{provide:Lp,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(Lp,8))},n.\u0275mod=b.oAB({type:n}),n.\u0275inj=b.cJS({}),n})();var ci=B(8996),kl=B(7669);function rt(...n){const t=(0,kl.yG)(n);return(0,ci.D)(n,t)}const Fp=(0,B(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Nl=B(9751);const{isArray:Bp}=Array,{getPrototypeOf:Up,prototype:_S,keys:yS}=Object;var xt=B(4004);const{isArray:yw}=Array;var F_=B(9672);function Vp(...n){const t=(0,kl.yG)(n),e=(0,kl.jO)(n),{args:i,keys:r}=function mw(n){if(1===n.length){const t=n[0];if(Bp(t))return{args:t,keys:null};if(function _w(n){return n&&"object"==typeof n&&Up(n)===_S}(t)){const e=yS(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}(n);if(0===i.length)return(0,ci.D)([],t);const a=new Nl.y(function vw(n,t,e=Zs.y){return i=>{jp(t,()=>{const{length:r}=n,a=new Array(r);let c=r,d=r;for(let f=0;f<r;f++)jp(t,()=>{const _=(0,ci.D)(n[f],t);let E=!1;_.subscribe((0,Zn.x)(i,I=>{a[f]=I,E||(E=!0,d--),d||i.next(e(a.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>function BA(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}(r,c):Zs.y));return e?a.pipe(function bS(n){return(0,xt.U)(t=>function vS(n,t){return yw(t)?n(...t):n(t)}(n,t))}(e)):a}function jp(n,t,e){n?(0,F_.f)(e,n,t):t()}var Zc=B(8189);function B_(...n){return function wS(){return(0,Zc.J)(1)}()((0,ci.D)(n,(0,kl.yG)(n)))}var Hp=B(8421);function bw(n){return new Nl.y(t=>{(0,Hp.Xf)(n()).subscribe(t)})}var ww=B(9635),Vh=B(576);function pd(n,t){const e=(0,Vh.m)(n)?n:()=>n,i=r=>r.error(e());return new Nl.y(t?r=>t.schedule(i,0,r):i)}var Ll=B(515),U_=B(727);function $p(){return(0,ri.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Zn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,a=e;e=null,r&&(!a||r===a)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Ew extends Nl.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ri.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new U_.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Zn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=U_.w0.EMPTY)}return t}refCount(){return $p()(this)}}function ui(n,t){return(0,ri.e)((e,i)=>{let r=null,a=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe((0,Zn.x)(i,f=>{r?.unsubscribe();let _=0;const E=a++;(0,Hp.Xf)(n(f,E)).subscribe(r=(0,Zn.x)(i,I=>i.next(t?t(f,I,E,_++):I),()=>{r=null,d()}))},()=>{c=!0,d()}))})}function gd(n){return n<=0?()=>Ll.E:(0,ri.e)((t,e)=>{let i=0;t.subscribe((0,Zn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Oo(n,t){return(0,ri.e)((e,i)=>{let r=0;e.subscribe((0,Zn.x)(i,a=>n.call(t,a,r++)&&i.next(a)))})}var _r=B(5577);function Di(n){return(0,ri.e)((t,e)=>{let i=!1;t.subscribe((0,Zn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Yc(n=CS){return(0,ri.e)((t,e)=>{let i=!1;t.subscribe((0,Zn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function CS(){return new Fp}function Da(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Oo((r,a)=>n(r,a,i)):Zs.y,gd(1),e?Di(t):Yc(()=>new Fp))}function md(n,t){return(0,Vh.m)(t)?(0,_r.z)(n,t,1):(0,_r.z)(n,1)}var yr=B(8505);function Sa(n){return(0,ri.e)((t,e)=>{let a,i=null,r=!1;i=t.subscribe((0,Zn.x)(e,void 0,void 0,c=>{a=(0,Hp.Xf)(n(c,Sa(n)(t))),i?(i.unsubscribe(),i=null,a.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(e))})}function Cw(n,t,e,i,r){return(a,c)=>{let d=e,f=t,_=0;a.subscribe((0,Zn.x)(c,E=>{const I=_++;f=d?n(f,E,I):(d=!0,E),i&&c.next(f)},r&&(()=>{d&&c.next(f),c.complete()})))}}function Fl(n,t){return(0,ri.e)(Cw(n,t,arguments.length>=2,!0))}function V_(n){return n<=0?()=>Ll.E:(0,ri.e)((t,e)=>{let i=[];t.subscribe((0,Zn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Wp(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Oo((r,a)=>n(r,a,i)):Zs.y,V_(1),e?Di(t):Yc(()=>new Fp))}function j_(n){return(0,ri.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const kt="primary",jh=Symbol("RouteTitle");class H_{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function qc(n){return new H_(n)}function Dw(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const c=i[a],d=n[a];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ws(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let a=0;a<e.length;a++)if(r=e[a],!DS(n[r],t[r]))return!1;return!0}function DS(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,a)=>i[a]===r)}return n===t}function $_(n){return Array.prototype.concat.apply([],n)}function Sw(n){return n.length>0?n[n.length-1]:null}function Yn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Bl(n){return(0,b.CqO)(n)?n:(0,b.QGY)(n)?(0,ci.D)(Promise.resolve(n)):rt(n)}const UA={exact:function xw(n,t,e){if(!Vl(n.segments,t.segments)||!Kp(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!xw(n.children[i],t.children[i],e))return!1;return!0},subset:z_},Tw={exact:function xS(n,t){return ws(n,t)},subset:function AS(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>DS(n[e],t[e]))},ignored:()=>!0};function TS(n,t,e){return UA[e.paths](n.root,t.root,e.matrixParams)&&Tw[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function z_(n,t,e){return G_(n,t,t.segments,e)}function G_(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Vl(r,e)||t.hasChildren()||!Kp(r,e,i))}if(n.segments.length===e.length){if(!Vl(n.segments,e)||!Kp(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!z_(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(Vl(n.segments,r)&&Kp(n.segments,r,i)&&n.children[kt])&&G_(n.children[kt],t,a,i)}}function Kp(n,t,e){return t.every((i,r)=>Tw[e](n[r].parameters,i.parameters))}class Ul{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qc(this.queryParams)),this._queryParamMap}toString(){return Aw.serialize(this)}}class Nt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Yn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $h(this)}}class Hh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=qc(this.parameters)),this._parameterMap}toString(){return OS(this)}}function Vl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let K_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=b.Yz7({token:n,factory:function(){return new Zp},providedIn:"root"}),n})();class Zp{parse(t){const e=new kw(t);return new Ul(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Wh(t.root,!0)}`,i=function jA(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Z_(e)}=${Z_(r)}`).join("&"):`${Z_(e)}=${Z_(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function Rw(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const Aw=new Zp;function $h(n){return n.segments.map(t=>OS(t)).join("/")}function Wh(n,t){if(!n.hasChildren())return $h(n);if(t){const e=n.children[kt]?Wh(n.children[kt],!1):"",i=[];return Yn(n.children,(r,a)=>{a!==kt&&i.push(`${a}:${Wh(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function RS(n,t){let e=[];return Yn(n.children,(i,r)=>{r===kt&&(e=e.concat(t(i,r)))}),Yn(n.children,(i,r)=>{r!==kt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===kt?[Wh(n.children[kt],!1)]:[`${r}:${Wh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[kt]?`${$h(n)}/${e[0]}`:`${$h(n)}/(${e.join("//")})`}}function Mw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Z_(n){return Mw(n).replace(/%3B/gi,";")}function Pw(n){return Mw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Y_(n){return decodeURIComponent(n)}function PS(n){return Y_(n.replace(/\+/g,"%20"))}function OS(n){return`${Pw(n.path)}${function VA(n){return Object.keys(n).map(t=>`;${Pw(t)}=${Pw(n[t])}`).join("")}(n.parameters)}`}const HA=/^[^\/()?;=#]+/;function q_(n){const t=n.match(HA);return t?t[0]:""}const Yp=/^[^=?&#]+/,Ow=/^[^&#]+/;class kw{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[kt]=new Nt(t,e)),i}parseSegment(){const t=q_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(t),new Hh(Y_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=q_(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=q_(this.remaining);r&&(i=r,this.capture(i))}t[Y_(e)]=Y_(i)}parseQueryParam(t){const e=function $A(n){const t=n.match(Yp);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function qp(n){const t=n.match(Ow);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=PS(e),a=PS(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(a)}else t[r]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=q_(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new b.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=kt);const c=this.parseChildren();e[a]=1===Object.keys(c).length?c[kt]:new Nt([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new b.vHH(4011,!1)}}function Qp(n){return n.segments.length>0?new Nt([],{[kt]:n}):n}function Q_(n){const t={};for(const i of Object.keys(n.children)){const a=Q_(n.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function X_(n){if(1===n.numberOfChildren&&n.children[kt]){const t=n.children[kt];return new Nt(n.segments.concat(t.segments),t.children)}return n}(new Nt(n.segments,t))}function jl(n){return n instanceof Ul}function NS(n,t,e,i,r){if(0===e.length)return _d(t.root,t.root,t.root,i,r);const a=function BS(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new FS(!0,0,n);let t=0,e=!1;const i=n.reduce((r,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const d={};return Yn(a.outlets,(f,_)=>{d[_]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===c?(a.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,a]},[]);return new FS(e,t,i)}(e);return a.toRoot()?_d(t.root,t.root,new Nt([],{}),i,r):function c(f){const _=function VS(n,t,e,i){if(n.isAbsolute)return new yd(t.root,!0,0);if(-1===i)return new yd(e,e===t.root,0);return function jS(n,t,e){let i=n,r=t,a=e;for(;a>r;){if(a-=r,i=i.parent,!i)throw new b.vHH(4005,!1);r=i.segments.length}return new yd(i,!1,r-a)}(e,i+(zh(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,t,n.snapshot?._urlSegment,f),E=_.processChildren?vd(_.segmentGroup,_.index,a.commands):Xp(_.segmentGroup,_.index,a.commands);return _d(t.root,_.segmentGroup,E,i,r)}(n.snapshot?._lastPathIndex)}function zh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hl(n){return"object"==typeof n&&null!=n&&n.outlets}function _d(n,t,e,i,r){let c,a={};i&&Yn(i,(f,_)=>{a[_]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),c=n===t?e:LS(n,t,e);const d=Qp(Q_(c));return new Ul(d,a,r)}function LS(n,t,e){const i={};return Yn(n.children,(r,a)=>{i[a]=r===t?e:LS(r,t,e)}),new Nt(n.segments,i)}class FS{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&zh(i[0]))throw new b.vHH(4003,!1);const r=i.find(Hl);if(r&&r!==Sw(i))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yd{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Xp(n,t,e){if(n||(n=new Nt([],{})),0===n.segments.length&&n.hasChildren())return vd(n,t,e);const i=function GA(n,t,e){let i=0,r=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return a;const c=n.segments[r],d=e[i];if(Hl(d))break;const f=`${d}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&_&&"object"==typeof _&&void 0===_.outlets){if(!Nw(f,_,c))return a;i+=2}else{if(!Nw(f,{},c))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Nt(n.segments.slice(0,i.pathIndex),{});return a.children[kt]=new Nt(n.segments.slice(i.pathIndex),n.children),vd(a,0,r)}return i.match&&0===r.length?new Nt(n.segments,{}):i.match&&!n.hasChildren()?Kr(n,t,e):i.match?vd(n,0,r):Kr(n,t,e)}function vd(n,t,e){if(0===e.length)return new Nt(n.segments,{});{const i=function HS(n){return Hl(n[0])?n[0].outlets:{[kt]:n}}(e),r={};return Yn(i,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[c]=Xp(n.children[c],t,a))}),Yn(n.children,(a,c)=>{void 0===i[c]&&(r[c]=a)}),new Nt(n.segments,r)}}function Kr(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const a=e[r];if(Hl(a)){const f=$S(a.outlets);return new Nt(i,f)}if(0===r&&zh(e[0])){i.push(new Hh(n.segments[t].path,Jp(e[0]))),r++;continue}const c=Hl(a)?a.outlets[kt]:`${a}`,d=r<e.length-1?e[r+1]:null;c&&d&&zh(d)?(i.push(new Hh(c,Jp(d))),r+=2):(i.push(new Hh(c,{})),r++)}return new Nt(i,{})}function $S(n){const t={};return Yn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Kr(new Nt([],{}),0,e))}),t}function Jp(n){const t={};return Yn(n,(e,i)=>t[i]=`${e}`),t}function Nw(n,t,e){return n==e.path&&ws(t,e.parameters)}class di{constructor(t,e){this.id=t,this.url=e}}class ey extends di{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ta extends di{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eg extends di{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lw extends di{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ty extends di{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fw extends di{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bw extends di{constructor(t,e,i,r,a){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class WS extends di{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uw extends di{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vw{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zS{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jw{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GS{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ny{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $l{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iy{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ko{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=sy(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=sy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Hw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Hw(t,this._root).map(e=>e.value)}}function sy(n,t){if(n===t.value)return t;for(const e of t.children){const i=sy(n,e);if(i)return i}return null}function Hw(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Hw(n,e);if(i.length)return i.unshift(t),i}return[]}class xa{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function bd(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class $w extends ko{constructor(t,e){super(t),this.snapshot=e,Kh(this,t)}toString(){return this.snapshot.toString()}}function Ww(n,t){const e=function zw(n,t){const c=new Gh([],{},{},"",{},kt,t,null,n.root,-1,{});return new ZS("",new xa(c,[]))}(n,t),i=new bs([new Hh("",{})]),r=new bs({}),a=new bs({}),c=new bs({}),d=new bs(""),f=new wd(i,r,c,d,a,kt,t,e.root);return f.snapshot=e.root,new $w(new xa(f,[]),e)}class wd{constructor(t,e,i,r,a,c,d,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=d,this.title=this.data?.pipe((0,xt.U)(_=>_[jh]))??rt(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(t=>qc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(t=>qc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oy(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],a=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function KS(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Gh{constructor(t,e,i,r,a,c,d,f,_,E,I,A){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=d,this.title=this.data?.[jh],this.routeConfig=f,this._urlSegment=_,this._lastPathIndex=E,this._correctedLastPathIndex=A??E,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ZS extends ko{constructor(t,e){super(e),this.url=t,Kh(this,e)}toString(){return ay(this._root)}}function Kh(n,t){t.value._routerState=n,t.children.forEach(e=>Kh(n,e))}function ay(n){const t=n.children.length>0?` { ${n.children.map(ay).join(", ")} } `:"";return`${n.value}${t}`}function tg(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ws(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ws(t.params,e.params)||n.params.next(e.params),function zp(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ws(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ws(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ng(n,t){const e=ws(n.params,t.params)&&function MS(n,t){return Vl(n,t)&&n.every((e,i)=>ws(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ng(n.parent,t.parent))}function Ed(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function ig(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ed(n,i,r);return Ed(n,i)})}(n,t,e);return new xa(i,r)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>Ed(n,d)),c}}const i=function rg(n){return new wd(new bs(n.url),new bs(n.params),new bs(n.queryParams),new bs(n.fragment),new bs(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(a=>Ed(n,a));return new xa(i,r)}}const sg="ngNavigationCancelingError";function Kw(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=jl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=ly(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function ly(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[sg]=!0,i.cancellationCode=t,e&&(i.url=e),i}function cy(n){return Zw(n)&&jl(n.url)}function Zw(n){return n&&n[sg]}class YS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new og,this.attachRef=null}}let og=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new YS,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uy=!1;let ag=(()=>{class n{constructor(e,i,r,a,c){this.parentContexts=e,this.location=i,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.name=r||kt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,uy);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,uy);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,uy);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new b.vHH(4013,uy);this._activatedRoute=e;const r=this.location,c=e._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new qS(e,d,r.injector);if(i&&function QS(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(c);this.activated=r.createComponent(_,r.length,f)}else this.activated=r.createComponent(c,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(b.Y36(og),b.Y36(b.s_b),b.$8M("name"),b.Y36(b.sBO),b.Y36(b.lqb))},n.\u0275dir=b.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class qS{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===wd?this.route:t===og?this.childContexts:this.parent.get(t,e)}}let dy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=b.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(e,i){1&e&&b._UZ(0,"router-outlet")},dependencies:[ag],encapsulation:2}),n})();function XS(n,t){return n.providers&&!n._injector&&(n._injector=(0,b.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function cg(n){const t=n.children&&n.children.map(cg),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==kt&&(e.component=dy),e}function Si(n){return n.outlet||kt}function fy(n,t){const e=n.filter(i=>Si(i)===t);return e.push(...n.filter(i=>Si(i)!==t)),e}function Qc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class tT{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),tg(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=bd(e);t.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,r[c],i),delete r[c]}),Yn(r,(a,c)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(r===a)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=bd(t);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=bd(t);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=bd(e);t.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new $l(a.value.snapshot))}),t.children.length&&this.forwardEvent(new GS(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(tg(r),r===a)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),tg(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=Qc(r.snapshot),f=d?.get(b._Vd)??null;c.attachRef=null,c.route=r,c.resolver=f,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class ug{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Cd{constructor(t,e){this.component=t,this.route=e}}function dg(n,t,e){const i=n._root;return hg(i,t?t._root:null,e,[i.value])}function Zh(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,b.Z0I)(n)?t.get(n):n:i}function hg(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=bd(t);return n.children.forEach(c=>{(function ZA(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const f=function Yw(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Vl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Vl(n.url,t.url)||!ws(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ng(n,t)||!ws(n.queryParams,t.queryParams);default:return!ng(n,t)}}(c,a,a.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new ug(i)):(a.data=c.data,a._resolvedData=c._resolvedData),hg(n,t,a.component?d?d.children:null:e,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Cd(d.outlet.component,c))}else c&&Yh(t,d,r),r.canActivateChecks.push(new ug(i)),hg(n,null,a.component?d?d.children:null:e,i,r)})(c,a[c.value.outlet],e,i.concat([c.value]),r),delete a[c.value.outlet]}),Yn(a,(c,d)=>Yh(c,e.getContext(d),r)),r}function Yh(n,t,e){const i=bd(n),r=n.value;Yn(i,(a,c)=>{Yh(a,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Cd(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function qh(n){return"function"==typeof n}function Qh(n){return n instanceof Fp||"EmptyError"===n?.name}const gy=Symbol("INITIAL_VALUE");function Xc(){return ui(n=>Vp(n.map(t=>t.pipe(gd(1),function ES(...n){const t=(0,kl.yG)(n);return(0,ri.e)((e,i)=>{(t?B_(n,e,t):B_(n,e)).subscribe(i)})}(gy)))).pipe((0,xt.U)(t=>{for(const e of t)if(!0!==e){if(e===gy)return gy;if(!1===e||e instanceof Ul)return e}return!0}),Oo(t=>t!==gy),gd(1)))}function uT(n){return(0,ww.z)((0,yr.b)(t=>{if(jl(t))throw Kw(0,t)}),(0,xt.U)(t=>!0===t))}const eE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dT(n,t,e,i,r){const a=_y(n,t,e);return a.matched?function JA(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?rt(r.map(c=>{const d=Zh(c,n);return Bl(function rT(n){return n&&qh(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))})).pipe(Xc(),uT()):rt(!0)}(i=XS(t,i),t,e).pipe((0,xt.U)(c=>!0===c?a:{...eE})):rt(a)}function _y(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...eE}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Dw)(e,n,t);if(!r)return{...eE};const a={};Yn(r.posParams,(d,f)=>{a[f]=d.path});const c=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function yy(n,t,e,i,r="corrected"){if(e.length>0&&function nM(n,t,e){return e.some(i=>vy(n,t,i)&&Si(i)!==kt)}(n,e,i)){const c=new Nt(t,function tM(n,t,e,i){const r={};r[kt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&Si(a)!==kt){const c=new Nt([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[Si(a)]=c}return r}(n,t,i,new Nt(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function iM(n,t,e){return e.some(i=>vy(n,t,i))}(n,e,i)){const c=new Nt(n.segments,function eM(n,t,e,i,r,a){const c={};for(const d of i)if(vy(n,e,d)&&!r[Si(d)]){const f=new Nt([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===a?n.segments.length:t.length,c[Si(d)]=f}return{...r,...c}}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const a=new Nt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function vy(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function s(n,t,e,i){return!!(Si(n)===i||i!==kt&&vy(t,e,n))&&("**"===n.path||_y(t,n,e).matched)}function o(n,t,e){return 0===t.length&&!n.children[e]}const l=!1;class u{constructor(t){this.segmentGroup=t||null}}class h{constructor(t){this.urlTree=t}}function g(n){return pd(new u(n))}function v(n){return pd(new h(n))}class O{constructor(t,e,i,r,a){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const t=yy(this.urlTree.root,[],[],this.config).segmentGroup,e=new Nt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,kt).pipe((0,xt.U)(a=>this.createUrlTree(Q_(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Sa(a=>{if(a instanceof h)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof u?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,kt).pipe((0,xt.U)(r=>this.createUrlTree(Q_(r),t.queryParams,t.fragment))).pipe(Sa(r=>{throw r instanceof u?this.noMatchError(r):r}))}noMatchError(t){return new b.vHH(4002,l)}createUrlTree(t,e,i){const r=Qp(t);return new Ul(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,xt.U)(a=>new Nt([],a))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,ci.D)(r).pipe(md(a=>{const c=i.children[a],d=fy(e,a);return this.expandSegmentGroup(t,d,c,a).pipe((0,xt.U)(f=>({segment:f,outlet:a})))}),Fl((a,c)=>(a[c.outlet]=c.segment,a),{}),Wp())}expandSegment(t,e,i,r,a,c){return(0,ci.D)(i).pipe(md(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,a,c).pipe(Sa(_=>{if(_ instanceof u)return rt(null);throw _}))),Da(d=>!!d),Sa((d,f)=>{if(Qh(d))return o(e,r,a)?rt(new Nt([],{})):g(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,a,c,d){return s(r,e,a,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,a,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,c):g(e):g(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?v(a):this.lineralizeSegments(i,a).pipe((0,_r.z)(c=>{const d=new Nt(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,c){const{matched:d,consumedSegments:f,remainingSegments:_,positionalParamSegments:E}=_y(e,r,a);if(!d)return g(e);const I=this.applyRedirectCommands(f,r.redirectTo,E);return r.redirectTo.startsWith("/")?v(I):this.lineralizeSegments(r,I).pipe((0,_r.z)(A=>this.expandSegment(t,e,i,A.concat(_),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,a){return"**"===i.path?(t=XS(i,t),i.loadChildren?(i._loadedRoutes?rt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,xt.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new Nt(r,{})))):rt(new Nt(r,{}))):dT(e,i,r,t).pipe(ui(({matched:c,consumedSegments:d,remainingSegments:f})=>c?this.getChildConfig(t=i._injector??t,i,r).pipe((0,_r.z)(E=>{const I=E.injector??t,A=E.routes,{segmentGroup:R,slicedSegments:k}=yy(e,d,f,A),j=new Nt(R.segments,R.children);if(0===k.length&&j.hasChildren())return this.expandChildren(I,A,j).pipe((0,xt.U)(Me=>new Nt(d,Me)));if(0===A.length&&0===k.length)return rt(new Nt(d,{}));const Y=Si(i)===a;return this.expandSegment(I,j,A,k,Y?kt:a,!0).pipe((0,xt.U)(ue=>new Nt(d.concat(ue.segments),ue.children)))})):g(e)))}getChildConfig(t,e,i){return e.children?rt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?rt({routes:e._loadedRoutes,injector:e._loadedInjector}):function XA(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?rt(!0):rt(r.map(c=>{const d=Zh(c,n);return Bl(function iT(n){return n&&qh(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))})).pipe(Xc(),uT())}(t,e,i).pipe((0,_r.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,yr.b)(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function D(n){return pd(ly(l,3))}())):rt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return rt(i);if(r.numberOfChildren>1||!r.children[kt])return pd(new b.vHH(4e3,l));r=r.children[kt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const a=this.createSegmentGroup(t,e.root,i,r);return new Ul(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Yn(t,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[a]=e[d]}else i[a]=r}),i}createSegmentGroup(t,e,i,r){const a=this.createSegments(t,e.segments,i,r);let c={};return Yn(e.children,(d,f)=>{c[f]=this.createSegmentGroup(t,d,i,r)}),new Nt(a,c)}createSegments(t,e,i,r){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,r):this.findOrReturn(a,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new b.vHH(4001,l);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class se{}class ze{constructor(t,e,i,r,a,c,d,f){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d,this.urlSerializer=f}recognize(){const t=yy(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,kt).pipe((0,xt.U)(e=>{if(null===e)return null;const i=new Gh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xa(i,e),a=new ZS(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(t){const e=t.value,i=oy(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,ci.D)(Object.keys(i.children)).pipe(md(r=>{const a=i.children[r],c=fy(e,r);return this.processSegmentGroup(t,c,a,r)}),Fl((r,a)=>r&&a?(r.push(...a),r):null),function IS(n,t=!1){return(0,ri.e)((e,i)=>{let r=0;e.subscribe((0,Zn.x)(i,a=>{const c=n(a,r++);(c||t)&&i.next(a),!c&&i.complete()}))})}(r=>null!==r),Di(null),Wp(),(0,xt.U)(r=>{if(null===r)return null;const a=vt(r);return function Xe(n){n.sort((t,e)=>t.value.outlet===kt?-1:e.value.outlet===kt?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}))}processSegment(t,e,i,r,a){return(0,ci.D)(e).pipe(md(c=>this.processSegmentAgainstRoute(c._injector??t,c,i,r,a)),Da(c=>!!c),Sa(c=>{if(Qh(c))return o(i,r,a)?rt([]):rt(null);throw c}))}processSegmentAgainstRoute(t,e,i,r,a){if(e.redirectTo||!s(e,i,r,a))return rt(null);let c;if("**"===e.path){const d=r.length>0?Sw(r).parameters:{},f=Wl(i)+r.length;c=rt({snapshot:new Gh(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pg(e),Si(e),e.component??e._loadedComponent??null,e,Tn(i),f,gg(e),f),consumedSegments:[],remainingSegments:[]})}else c=dT(i,e,r,t).pipe((0,xt.U)(({matched:d,consumedSegments:f,remainingSegments:_,parameters:E})=>{if(!d)return null;const I=Wl(i)+f.length;return{snapshot:new Gh(f,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pg(e),Si(e),e.component??e._loadedComponent??null,e,Tn(i),I,gg(e),I),consumedSegments:f,remainingSegments:_}}));return c.pipe(ui(d=>{if(null===d)return rt(null);const{snapshot:f,consumedSegments:_,remainingSegments:E}=d;t=e._injector??t;const I=e._loadedInjector??t,A=function pt(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:R,slicedSegments:k}=yy(i,_,E,A.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution);if(0===k.length&&R.hasChildren())return this.processChildren(I,A,R).pipe((0,xt.U)(Y=>null===Y?null:[new xa(f,Y)]));if(0===A.length&&0===k.length)return rt([new xa(f,[])]);const j=Si(e)===a;return this.processSegment(I,A,R,k,j?kt:a).pipe((0,xt.U)(Y=>null===Y?null:[new xa(f,Y)]))}))}}function Pe(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function vt(n){const t=[],e=new Set;for(const i of n){if(!Pe(i)){t.push(i);continue}const r=t.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=vt(i.children);t.push(new xa(i.value,r))}return t.filter(i=>!e.has(i))}function Tn(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Wl(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function pg(n){return n.data||{}}function gg(n){return n.resolve||{}}function rM(n){return"string"==typeof n.title||null===n.title}function hT(n){return ui(t=>{const e=n(t);return e?(0,ci.D)(e).pipe((0,xt.U)(()=>t)):rt(t)})}let sM=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===kt);return i}getResolvedTitleForRoute(e){return e.data[jh]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=b.Yz7({token:n,factory:function(){return(0,b.f3M)(oM)},providedIn:"root"}),n})(),oM=(()=>{class n extends sM{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(Ur))},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DO{}class TO extends class SO{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const tE=new b.OlP("",{providedIn:"root",factory:()=>({})}),fT=new b.OlP("ROUTES");let pT=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return rt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Bl(e.loadComponent()).pipe((0,yr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),j_(()=>{this.componentLoaders.delete(e)})),r=new Ew(i,()=>new Ia.x).pipe($p());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return rt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,xt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,_,E=!1;Array.isArray(d)?_=d:(f=d.create(e).injector,_=$_(f.get(fT,[],b.XFs.Self|b.XFs.Optional)));return{routes:_.map(cg),injector:f}}),j_(()=>{this.childrenLoaders.delete(i)})),c=new Ew(a,()=>new Ia.x).pipe($p());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return Bl(e()).pipe((0,_r.z)(i=>i instanceof b.YKP||Array.isArray(i)?rt(i):(0,ci.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(b.zs3),b.LFG(b.Sil))},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AO{}class MO{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function RO(n){throw n}function PO(n,t,e){return t.parse("/")}const OO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function lM(){const n=(0,b.f3M)(K_),t=(0,b.f3M)(og),e=(0,b.f3M)(Re),i=(0,b.f3M)(b.zs3),r=(0,b.f3M)(b.Sil),a=(0,b.f3M)(fT,{optional:!0})??[],c=(0,b.f3M)(tE,{optional:!0})??{},d=(0,b.f3M)(oM),f=(0,b.f3M)(sM,{optional:!0}),_=(0,b.f3M)(AO,{optional:!0}),E=(0,b.f3M)(DO,{optional:!0}),I=new vr(null,n,t,e,i,r,$_(a));return _&&(I.urlHandlingStrategy=_),E&&(I.routeReuseStrategy=E),I.titleStrategy=f??d,function NO(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,I),I}let vr=(()=>{class n{constructor(e,i,r,a,c,d,f){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ia.x,this.errorHandler=RO,this.malformedUriErrorHandler=PO,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>rt(void 0),this.urlHandlingStrategy=new MO,this.routeReuseStrategy=new TO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(pT),this.configLoader.onLoadEndListener=A=>this.triggerEvent(new zS(A)),this.configLoader.onLoadStartListener=A=>this.triggerEvent(new Vw(A)),this.ngModule=c.get(b.h0i),this.console=c.get(b.c2e);const I=c.get(b.R0b);this.isNgZoneEnabled=I instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function W_(){return new Ul(new Nt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ww(this.currentUrlTree,this.rootComponentType),this.transitions=new bs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Oo(r=>0!==r.id),(0,xt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ui(r=>{let a=!1,c=!1;return rt(r).pipe((0,yr.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ui(d=>{const f=this.browserUrlTree.toString(),_=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return cM(d.source)&&(this.browserUrlTree=d.extractedUrl),rt(d).pipe(ui(I=>{const A=this.transitions.getValue();return i.next(new ey(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),A!==this.transitions.getValue()?Ll.E:Promise.resolve(I)}),function F(n,t,e,i){return ui(r=>function x(n,t,e,i,r){return new O(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,xt.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yr.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function by(n,t,e,i,r,a){return(0,_r.z)(c=>function Le(n,t,e,i,r,a,c="emptyOnly",d="legacy"){return new ze(n,t,e,i,r,c,d,a).recognize().pipe(ui(f=>null===f?function Ie(n){return new Nl.y(t=>t.error(n))}(new se):rt(f)))}(n,t,e,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,a).pipe((0,xt.U)(d=>({...c,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yr.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const R=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(R,I)}this.browserUrlTree=I.urlAfterRedirects}const A=new ty(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(A)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:R,source:k,restoredState:j,extras:Y}=d,ne=new ey(A,this.serializeUrl(R),k,j);i.next(ne);const ue=Ww(R,this.rootComponentType).snapshot;return rt(r={...d,targetSnapshot:ue,urlAfterRedirects:R,extras:{...Y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),Ll.E}),(0,yr.b)(d=>{const f=new Fw(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,xt.U)(d=>r={...d,guards:dg(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function my(n,t){return(0,_r.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:c}}=e;return 0===c.length&&0===a.length?rt({...e,guardsResult:!0}):function sT(n,t,e,i){return(0,ci.D)(n).pipe((0,_r.z)(r=>function cT(n,t,e,i,r){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?rt(a.map(d=>{const f=Qc(t)??r,_=Zh(d,f);return Bl(function Xw(n){return n&&qh(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):f.runInContext(()=>_(n,t,e,i))).pipe(Da())})).pipe(Xc()):rt(!0)}(r.component,r.route,e,t,i)),Da(r=>!0!==r,!0))}(c,i,r,n).pipe((0,_r.z)(d=>d&&function nT(n){return"boolean"==typeof n}(d)?function oT(n,t,e,i){return(0,ci.D)(t).pipe(md(r=>B_(function QA(n,t){return null!==n&&t&&t(new jw(n)),rt(!0)}(r.route.parent,i),function qA(n,t){return null!==n&&t&&t(new ny(n)),rt(!0)}(r.route,i),function lT(n,t,e){const i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(c=>function KA(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>bw(()=>rt(c.guards.map(f=>{const _=Qc(c.node)??e,E=Zh(f,_);return Bl(function Qw(n){return n&&qh(n.canActivateChild)}(E)?E.canActivateChild(i,n):_.runInContext(()=>E(i,n))).pipe(Da())})).pipe(Xc())));return rt(a).pipe(Xc())}(n,r.path,e),function aT(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return rt(!0);const r=i.map(a=>bw(()=>{const c=Qc(t)??e,d=Zh(a,c);return Bl(function qw(n){return n&&qh(n.canActivate)}(d)?d.canActivate(t,n):c.runInContext(()=>d(t,n))).pipe(Da())}));return rt(r).pipe(Xc())}(n,r.route,e))),Da(r=>!0!==r,!0))}(i,a,n,t):rt(d)),(0,xt.U)(d=>({...e,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,yr.b)(d=>{if(r.guardsResult=d.guardsResult,jl(d.guardsResult))throw Kw(0,d.guardsResult);const f=new Bw(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),Oo(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),hT(d=>{if(d.guards.canActivateChecks.length)return rt(d).pipe((0,yr.b)(f=>{const _=new WS(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),ui(f=>{let _=!1;return rt(f).pipe(function wy(n,t){return(0,_r.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return rt(e);let a=0;return(0,ci.D)(r).pipe(md(c=>function Ey(n,t,e,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!rM(r)&&(a[jh]=r.title),function Cy(n,t,e,i){const r=function Iy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return rt({});const a={};return(0,ci.D)(r).pipe((0,_r.z)(c=>function Dy(n,t,e,i){const r=Qc(t)??i,a=Zh(n,r);return Bl(a.resolve?a.resolve(t,e):r.runInContext(()=>a(t,e)))}(n[c],t,e,i).pipe(Da(),(0,yr.b)(d=>{a[c]=d}))),V_(1),function Iw(n){return(0,xt.U)(()=>n)}(a),Sa(c=>Qh(c)?Ll.E:pd(c)))}(a,n,t,i).pipe((0,xt.U)(c=>(n._resolvedData=c,n.data=oy(n,e).resolve,r&&rM(r)&&(n.data[jh]=r.title),null)))}(c.route,i,n,t)),(0,yr.b)(()=>a++),V_(1),(0,_r.z)(c=>a===r.length?rt(e):Ll.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yr.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,yr.b)(f=>{const _=new Uw(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}))}),hT(d=>{const f=_=>{const E=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,yr.b)(I=>{_.component=I}),(0,xt.U)(()=>{})));for(const I of _.children)E.push(...f(I));return E};return Vp(f(d.targetSnapshot.root)).pipe(Di(),gd(1))}),hT(()=>this.afterPreactivation()),(0,xt.U)(d=>{const f=function Gw(n,t,e){const i=Ed(n,t._root,e?e._root:void 0);return new $w(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:f}}),(0,yr.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,xt.U)(i=>(new tT(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,yr.b)({next(){a=!0},complete(){a=!0}}),j_(()=>{a||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Sa(d=>{if(c=!0,Zw(d)){cy(d)||(this.navigated=!0,this.restoreHistory(r,!0));const f=new eg(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(f),cy(d)){const _=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cM(r.source)};this.scheduleNavigation(_,"imperative",null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new Lw(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(f);try{r.resolve(this.errorHandler(d))}catch(_){r.reject(_)}}return Ll.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=e.state?.navigationId?e.state:null;if(a){const d={...a};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(cg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:a,fragment:c,queryParamsHandling:d,preserveFragment:f}=i,_=r||this.routerState.root,E=f?this.currentUrlTree.fragment:c;let I=null;switch(d){case"merge":I={...this.currentUrlTree.queryParams,...a};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),NS(_,this.currentUrlTree,e,I,E??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=jl(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function LO(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new b.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...OO}:!1===i?{...kO}:i,jl(e))return TS(this.currentUrlTree,e,r);const a=this.parseUrl(e);return TS(this.currentUrlTree,a,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const a=e[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ta(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,a,c){if(this.disposed)return Promise.resolve(!1);let d,f,_;c?(d=c.resolve,f=c.reject,_=c.promise):_=new Promise((A,R)=>{d=A,f=R});const E=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),I=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:E,targetPageId:I,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:d,reject:f,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(A=>Promise.reject(A))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const a=new eg(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){b.$Z()},n.\u0275prov=b.Yz7({token:n,factory:function(){return lM()},providedIn:"root"}),n})();function cM(n){return"imperative"!==n}class uM{}let UO=(()=>{class n{constructor(e,i,r,a,c){this.router=e,this.injector=r,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Oo(e=>e instanceof Ta),md(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,b.MMx)(a.providers,e,`Route: ${a.path}`));const c=a._injector??e,d=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(d,a.children??a._loadedRoutes))}return(0,ci.D)(r).pipe((0,Zc.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):rt(null);const a=r.pipe((0,_r.z)(c=>null===c?rt(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,ci.D)([a,c]).pipe((0,Zc.J)())}return a})}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(vr),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(uM),b.LFG(pT))},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _T=new b.OlP("");let dM=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ey?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ta&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof iy&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new iy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){b.$Z()},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac}),n})();function mg(n,t){return{\u0275kind:n,\u0275providers:t}}function yT(n){return[{provide:fT,multi:!0,useValue:n}]}function fM(){const n=(0,b.f3M)(b.zs3);return t=>{const e=n.get(b.z2F);if(t!==e.components[0])return;const i=n.get(vr),r=n.get(pM);1===n.get(vT)&&i.initialNavigation(),n.get(gM,null,b.XFs.Optional)?.setUpPreloading(),n.get(_T,null,b.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const pM=new b.OlP("",{factory:()=>new Ia.x}),vT=new b.OlP("",{providedIn:"root",factory:()=>1});const gM=new b.OlP("");function $O(n){return mg(0,[{provide:gM,useExisting:UO},{provide:uM,useExisting:n}])}const mM=new b.OlP("ROUTER_FORROOT_GUARD"),WO=[Re,{provide:K_,useClass:Zp},{provide:vr,useFactory:lM},og,{provide:wd,useFactory:function hM(n){return n.routerState.root},deps:[vr]},pT];function zO(){return new b.PXZ("Router",vr)}let _M=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[WO,[],yT(e),{provide:mM,useFactory:YO,deps:[[vr,new b.FiY,new b.tp0]]},{provide:tE,useValue:i||{}},i?.useHash?{provide:ve,useClass:Je}:{provide:ve,useClass:Ye},{provide:_T,useFactory:()=>{const n=(0,b.f3M)(vr),t=(0,b.f3M)(Ua),e=(0,b.f3M)(tE);return e.scrollOffset&&t.setOffset(e.scrollOffset),new dM(n,t,e)}},i?.preloadingStrategy?$O(i.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:zO},i?.initialNavigation?qO(i):[],[{provide:yM,useFactory:fM},{provide:b.tb,multi:!0,useExisting:yM}]]}}static forChild(e){return{ngModule:n,providers:[yT(e)]}}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(mM,8))},n.\u0275mod=b.oAB({type:n}),n.\u0275inj=b.cJS({imports:[dy]}),n})();function YO(n){return"guarded"}function qO(n){return["disabled"===n.initialNavigation?mg(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const t=(0,b.f3M)(vr);return()=>{t.setUpLocationChangeListener()}}},{provide:vT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?mg(2,[{provide:vT,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:t=>{const e=t.get(W,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(a=>{const c=t.get(vr),d=t.get(pM);(function r(a){t.get(vr).events.pipe(Oo(d=>d instanceof Ta||d instanceof eg||d instanceof Lw),(0,xt.U)(d=>d instanceof Ta||d instanceof eg&&(0===d.code||1===d.code)&&null),Oo(d=>null!==d),gd(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),c.afterPreactivation=()=>(a(!0),i||d.closed?rt(void 0):d),c.initialNavigation()}))}}]).\u0275providers:[]]}const yM=new b.OlP("");var JO=B(4986),bT=B(6451),vM=B(3099),ek=B(5032),No=B(5813),Aa=B(2011),ik=(B(2476),B(3942)),Xh=B(4859),Jh=B(5861),ef=B(9681),U=B(2090),sE=B(1877);const bM="@firebase/database";let wT="";function EM(n){wT=n}class rk{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,U.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,U.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class sk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,U.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const CM=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new rk(t)}}catch{}return new sk},tf=CM("localStorage"),ET=CM("sessionStorage"),_g=new sE.Yd("@firebase/database"),IM=function(){let n=1;return function(){return n++}}(),DM=function(n){const t=(0,U.dS)(n),e=new U.gQ;e.update(t);const i=e.digest();return U.US.encodeByteArray(i)},Sy=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Sy.apply(null,i):t+="object"==typeof i?(0,U.Pz)(i):i,t+=" "}return t};let nf=null,SM=!0;const TM=function(n,t){(0,U.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(_g.logLevel=sE.in.VERBOSE,nf=_g.log.bind(_g),t&&ET.set("logging_enabled",!0)):"function"==typeof n?nf=n:(nf=null,ET.remove("logging_enabled"))},tr=function(...n){if(!0===SM&&(SM=!1,null===nf&&!0===ET.get("logging_enabled")&&TM(!0)),nf){const t=Sy.apply(null,n);nf(t)}},Ty=function(n){return function(...t){tr(n,...t)}},CT=function(...n){const t="FIREBASE INTERNAL ERROR: "+Sy(...n);_g.error(t)},zl=function(...n){const t=`FIREBASE FATAL ERROR: ${Sy(...n)}`;throw _g.error(t),new Error(t)},Ar=function(...n){const t="FIREBASE WARNING: "+Sy(...n);_g.warn(t)},oE=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Jc="[MIN_NAME]",Gl="[MAX_NAME]",rf=function(n,t){if(n===t)return 0;if(n===Jc||t===Gl)return-1;if(t===Jc||n===Gl)return 1;{const e=aE(n),i=aE(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},lk=function(n,t){return n===t?0:n<t?-1:1},xy=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,U.Pz)(t))},IT=function(n){if("object"!=typeof n||null===n)return(0,U.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,U.Pz)(t[i]),e+=":",e+=IT(n[t[i]]);return e+="}",e},xM=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function nr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const AM=function(n){(0,U.hu)(!oE(n),"Invalid JSON number");const i=1023;let r,a,c,d,f;0===n?(a=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),a=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(a=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(f=52;f;f-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(f=11;f;f-=1)_.push(a%2?1:0),a=Math.floor(a/2);_.push(r?1:0),_.reverse();const E=_.join("");let I="";for(f=0;f<64;f+=8){let A=parseInt(E.substr(f,8),2).toString(16);1===A.length&&(A="0"+A),I+=A}return I.toLowerCase()},hk=new RegExp("^-?(0*)\\d{1,10}$"),MM=-2147483648,DT=2147483647,aE=function(n){if(hk.test(n)){const t=Number(n);if(t>=MM&&t<=DT)return t}return null},yg=function(n){try{n()}catch(t){setTimeout(()=>{throw Ar("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Ay=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class pk{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ar(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gk{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(tr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ar(t)}}let My=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const NM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BM="websocket",UM="long_polling";class TT{constructor(t,e,i,r,a=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tf.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&tf.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function VM(n,t,e){let i;if((0,U.hu)("string"==typeof t,"typeof type must == string"),(0,U.hu)("object"==typeof e,"typeof params must == object"),t===BM)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==UM)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function mk(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return nr(e,(a,c)=>{r.push(a+"="+c)}),i+r.join("&")}class _k{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,U.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,U.p$)(this.counters_)}}const xT={},AT={};function MT(n){const t=n.toString();return xT[t]||(xT[t]=new _k),xT[t]}class vk{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&yg(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Id{constructor(t,e,i,r,a,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=a,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ty(t),this.stats_=MT(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),VM(e,UM,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new vk(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,U.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new RT((...a)=>{const[c,d,f,_,E]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=f;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[c,d]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&NM.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Id.forceAllow_=!0}static forceDisallow(){Id.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!Id.forceAllow_&&(Id.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,U.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,U.h$)(e),r=xM(i,1840);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,U.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class RT{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=IM(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=RT.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){tr("frame writing exception"),d.stack&&tr(d.stack),tr(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||tr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,U.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{tr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let cE=null;typeof MozWebSocket<"u"?cE=MozWebSocket:typeof WebSocket<"u"&&(cE=WebSocket);let vg=(()=>{class n{constructor(e,i,r,a,c,d,f){this.connId=e,this.applicationId=r,this.appCheckToken=a,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ty(this.connId),this.stats_=MT(i),this.connURL=n.connectionURL_(i,d,f,a,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,a,c){const d={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&NM.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),a&&(d.ac=a),c&&(d.p=c),VM(e,BM,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tf.set("previous_websocket_failure",!0);try{let r;if((0,U.Yr)()){r={headers:{"User-Agent":`Firebase/5/${wT}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new cE(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const a=r.message||r.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const a=r.message||r.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==cE&&!n.forceDisallow_}static previouslyFailed(){return tf.isInMemoryStorage||!0===tf.get("previous_websocket_failure")}markConnectionHealthy(){tf.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,U.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,U.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=xM(i,16384);r.length>1&&this.sendString_(String(r.length));for(let a=0;a<r.length;a++)this.sendString_(r[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),KM=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Id,vg]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=vg&&vg.isAvailable();let r=i&&!vg.previouslyFailed();if(e.webSocketOnly&&(i||Ar("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[vg];else{const a=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class eR{constructor(t,e,i,r,a,c,d,f,_,E){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=f,this.onKill_=_,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ty("c:"+this.id+":"),this.transportManager_=new KM(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ay(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=xy("t",t),i=xy("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=xy("t",t),i=xy("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=xy("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?CT("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):CT("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ar("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Ay(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ay(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class tR{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class nR{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,U.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let a=0;a<r.length;a++)if(r[a].callback===e&&(!i||i===r[a].context))return void r.splice(a,1)}validateEventType_(t){(0,U.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class uE extends nR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new uE}getInitialEvent(t){return(0,U.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class mn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function cn(){return new mn("")}function Vt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Dd(n){return n.pieces_.length-n.pieceNum_}function xn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new mn(n.pieces_,t)}function OT(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ry(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function sR(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new mn(t,0)}function qn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof mn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new mn(e,0)}function jt(n){return n.pieceNum_>=n.pieces_.length}function Zr(n,t){const e=Vt(n),i=Vt(t);if(null===e)return t;if(e===i)return Zr(xn(n),xn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function jk(n,t){const e=Ry(n,0),i=Ry(t,0);for(let r=0;r<e.length&&r<i.length;r++){const a=rf(e[r],i[r]);if(0!==a)return a}return e.length===i.length?0:e.length<i.length?-1:1}function kT(n,t){if(Dd(n)!==Dd(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Lo(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Dd(n)>Dd(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Hk{constructor(t,e){this.errorPrefix_=e,this.parts_=Ry(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,U.ug)(this.parts_[i]);oR(this)}}function oR(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sf(n))}function sf(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class NT extends nR{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new NT}getInitialEvent(t){return(0,U.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Py=1e3;let hE,af=(()=>{class n extends tR{constructor(e,i,r,a,c,d,f,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=a,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=Ty("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Py,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");NT.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&uE.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const a=++this.requestNumber_,c={r:a,a:e,b:i};this.log_((0,U.Pz)(c)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[a]=r)}get(e){this.initConnection_();const i=new U.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const f=d.d;"ok"===d.s?i.resolve(f):i.reject(f)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,a){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,U.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const f={onComplete:a,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+r+" for "+a);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,f=>{const _=f.d,E=f.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(a))===e&&(this.log_("listen response",f),"ok"!==E&&this.removeListen_(r,a),e.onComplete&&e.onComplete(E,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,U.r3)(e,"w")){const r=(0,U.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const a='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Ar(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,U.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,U.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,a=>{const c=a.s,d=a.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+a),(0,U.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,a)&&this.connected_&&this.sendUnlisten_(r,a,e._queryObject,i)}sendUnlisten_(e,i,r,a){this.log_("Unlisten on "+e+" for "+i);const c={p:e};a&&(c.q=r,c.t=a),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,a){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{a&&setTimeout(()=>{a(d.s,d.d)},Math.floor(0))})}put(e,i,r,a){this.putInternal("p",e,i,r,a)}merge(e,i,r,a){this.putInternal("m",e,i,r,a)}putInternal(e,i,r,a,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,U.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):CT("Unrecognized action received from server: "+(0,U.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Py,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Py,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Py),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Jh.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),a=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let f=!1,_=null;const E=function(){_?_.close():(f=!0,a())};e.realtime_={close:E,sendRequest:function(R){(0,U.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(R)}};const A=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[R,k]=yield Promise.all([e.authTokenProvider_.getToken(A),e.appCheckTokenProvider_.getToken(A)]);f?tr("getToken() completed but was canceled"):(tr("getToken() completed. Creating connection."),e.authToken_=R&&R.accessToken,e.appCheckToken_=k&&k.token,_=new eR(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,a,j=>{Ar(j+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(R){e.log_("Failed to get token: "+R),f||(e.repoInfo_.nodeAdmin&&Ar(R),E())}}})()}interrupt(e){tr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){tr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Py,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>IT(c)).join("$"):"default";const a=this.removeListen_(e,r);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,i){const r=new mn(e).toString();let a;if(this.listens.has(r)){const c=this.listens.get(r);a=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else a=void 0;return a}onAuthRevoked_(e,i){tr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){tr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,U.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+wT.replace(/\./g,"-")]=1,(0,U.uI)()?e["framework.cordova"]=1:(0,U.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=uE.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ht{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Ht(t,e)}}class dE{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Ht(Jc,t),r=new Ht(Jc,e);return 0!==this.compare(i,r)}minPost(){return Ht.MIN}}class cR extends dE{static get __EMPTY_NODE(){return hE}static set __EMPTY_NODE(t){hE=t}compare(t,e){return rf(t.name,e.name)}isDefinedOn(t){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Ht.MIN}maxPost(){return new Ht(Gl,hE)}makePost(t,e){return(0,U.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ht(t,hE)}toString(){return".key"}}const Kl=new cR;class fE{constructor(t,e,i,r,a=null){this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let FT,Ma=(()=>{class n{constructor(e,i,r,a,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=a??Es.EMPTY_NODE,this.right=c??Es.EMPTY_NODE}copy(e,i,r,a,c){return new n(e??this.key,i??this.value,r??this.color,a??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let a=this;const c=r(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,i,r),null):0===c?a.copy(null,i,null,null,null):a.copy(null,null,null,null,a.right.insert(e,i,r)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Es.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,a;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Es.EMPTY_NODE;a=r.right.min_(),r=r.copy(a.key,a.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Es{constructor(t,e=Es.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Es(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ma.BLACK,null,null))}remove(t){return new Es(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ma.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new fE(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new fE(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new fE(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new fE(this.root_,null,this.comparator_,!0,t)}}function qk(n,t){return rf(n.name,t.name)}function LT(n,t){return rf(n,t)}Es.EMPTY_NODE=new class Yk{copy(t,e,i,r,a){return this}insert(t,e,i){return new Ma(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const uR=function(n){return"number"==typeof n?"number:"+AM(n):"string:"+n},dR=function(n){if(n.isLeafNode()){const t=n.val();(0,U.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,U.r3)(t,".sv"),"Priority must be a string or number.")}else(0,U.hu)(n===FT||n.isEmpty(),"priority of unexpected type.");(0,U.hu)(n===FT||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let hR,fR,pR,bg=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),dR(this.priorityNode_)}static set __childrenNodeConstructor(e){hR=e}static get __childrenNodeConstructor(){return hR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return jt(e)?this:".priority"===Vt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Vt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,U.hu)(".priority"!==r||1===Dd(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(xn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+uR(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?AM(this.value_):this.value_,this.lazyHash_=DM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,U.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,U.hu)(a>=0,"Unknown leaf type: "+i),(0,U.hu)(c>=0,"Unknown leaf type: "+r),a===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const kn=new class eN extends dE{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),a=i.compareTo(r);return 0===a?rf(t.name,e.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Ht.MIN}maxPost(){return new Ht(Gl,new bg("[PRIORITY-POST]",pR))}makePost(t,e){const i=fR(t);return new Ht(e,new bg("[PRIORITY-POST]",i))}toString(){return".priority"}},tN=Math.log(2);class nN{constructor(t){this.count=parseInt(Math.log(t+1)/tN,10),this.current_=this.count-1;const r=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const pE=function(n,t,e,i){n.sort(t);const r=function(f,_){const E=_-f;let I,A;if(0===E)return null;if(1===E)return I=n[f],A=e?e(I):I,new Ma(A,I.node,Ma.BLACK,null,null);{const R=parseInt(E/2,10)+f,k=r(f,R),j=r(R+1,_);return I=n[R],A=e?e(I):I,new Ma(A,I.node,Ma.BLACK,k,j)}},d=function(f){let _=null,E=null,I=n.length;const A=function(k,j){const Y=I-k,ne=I;I-=k;const ue=r(Y+1,ne),Me=n[Y],be=e?e(Me):Me;R(new Ma(be,Me.node,j,null,ue))},R=function(k){_?(_.left=k,_=k):(E=k,_=k)};for(let k=0;k<f.count;++k){const j=f.nextBitIsOne(),Y=Math.pow(2,f.count-(k+1));j?A(Y,Ma.BLACK):(A(Y,Ma.BLACK),A(Y,Ma.RED))}return E}(new nN(n.length));return new Es(i||t,d)};let BT;const wg={};class eu{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,U.hu)(wg&&kn,"ChildrenNode.ts has not been loaded"),BT=BT||new eu({".priority":wg},{".priority":kn}),BT}get(t){const e=(0,U.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Es?e:null}hasIndex(t){return(0,U.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,U.hu)(t!==Kl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const a=e.getIterator(Ht.Wrap);let d,c=a.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=a.getNext();d=r?pE(i,t.getCompare()):wg;const f=t.toString(),_=Object.assign({},this.indexSet_);_[f]=t;const E=Object.assign({},this.indexes_);return E[f]=d,new eu(E,_)}addToIndexes(t,e){const i=(0,U.UI)(this.indexes_,(r,a)=>{const c=(0,U.DV)(this.indexSet_,a);if((0,U.hu)(c,"Missing index implementation for "+a),r===wg){if(c.isDefinedOn(t.node)){const d=[],f=e.getIterator(Ht.Wrap);let _=f.getNext();for(;_;)_.name!==t.name&&d.push(_),_=f.getNext();return d.push(t),pE(d,c.getCompare())}return wg}{const d=e.get(t.name);let f=r;return d&&(f=f.remove(new Ht(t.name,d))),f.insert(t,t.node)}});return new eu(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,U.UI)(this.indexes_,r=>{if(r===wg)return r;{const a=e.get(t.name);return a?r.remove(new Ht(t.name,a)):r}});return new eu(i,this.indexSet_)}}let Oy,At=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&dR(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Oy||(Oy=new n(new Es(LT),null,eu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Oy}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Oy:i}}getChild(e){const i=Vt(e);return null===i?this:this.getImmediateChild(i).getChild(xn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,U.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Ht(e,i);let a,c;i.isEmpty()?(a=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(a=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=a.isEmpty()?Oy:this.priorityNode_;return new n(a,d,c)}}updateChild(e,i){const r=Vt(e);if(null===r)return i;{(0,U.hu)(".priority"!==Vt(e)||1===Dd(e),".priority must be the last token in a path");const a=this.getImmediateChild(r).updateChild(xn(e),i);return this.updateImmediateChild(r,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,a=0,c=!0;if(this.forEachChild(kn,(d,f)=>{i[d]=f.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?a=Math.max(a,Number(d)):c=!1}),!e&&c&&a<2*r){const d=[];for(const f in i)d[f]=i[f];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+uR(this.getPriority().val())+":"),this.forEachChild(kn,(i,r)=>{const a=r.hash();""!==a&&(e+=":"+i+":"+a)}),this.lazyHash_=""===e?"":DM(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const a=this.resolveIndex_(r);if(a){const c=a.getPredecessorKey(new Ht(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Ht(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Ht(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(a=>i(a.name,a.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,Ht.Wrap);let c=a.peek();for(;null!=c&&i.compare(c,e)<0;)a.getNext(),c=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,Ht.Wrap);let c=a.peek();for(;null!=c&&i.compare(c,e)>0;)a.getNext(),c=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ky?-1:0}withIndex(e){if(e===Kl||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Kl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(kn),a=i.getIterator(kn);let c=r.getNext(),d=a.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=a.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===Kl?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const ky=new class iN extends At{constructor(){super(new Es(LT),At.EMPTY_NODE,eu.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return At.EMPTY_NODE}isEmpty(){return!1}};function oi(n,t=null){if(null===n)return At.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,U.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new bg(n,oi(t));if(n instanceof Array){let e=At.EMPTY_NODE;return nr(n,(i,r)=>{if((0,U.r3)(n,i)&&"."!==i.substring(0,1)){const a=oi(r);(a.isLeafNode()||!a.isEmpty())&&(e=e.updateImmediateChild(i,a))}}),e.updatePriority(oi(t))}{const e=[];let i=!1;if(nr(n,(c,d)=>{if("."!==c.substring(0,1)){const f=oi(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new Ht(c,f)))}}),0===e.length)return At.EMPTY_NODE;const a=pE(e,qk,c=>c.name,LT);if(i){const c=pE(e,kn.getCompare());return new At(a,oi(t),new eu({".priority":c},{".priority":kn}))}return new At(a,oi(t),eu.Default)}}Object.defineProperties(Ht,{MIN:{value:new Ht(Jc,At.EMPTY_NODE)},MAX:{value:new Ht(Gl,ky)}}),cR.__EMPTY_NODE=At.EMPTY_NODE,bg.__childrenNodeConstructor=At,function Qk(n){FT=n}(ky),function Jk(n){pR=n}(ky),function Xk(n){fR=n}(oi);class UT extends dE{constructor(t){super(),this.indexPath_=t,(0,U.hu)(!jt(t)&&".priority"!==Vt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),a=i.compareTo(r);return 0===a?rf(t.name,e.name):a}makePost(t,e){const i=oi(t),r=At.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ht(e,r)}maxPost(){const t=At.EMPTY_NODE.updateChild(this.indexPath_,ky);return new Ht(Gl,t)}toString(){return Ry(this.indexPath_,0).join("/")}}const VT=new class sN extends dE{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?rf(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Ht.MIN}maxPost(){return Ht.MAX}makePost(t,e){const i=oi(t);return new Ht(e,i)}toString(){return".value"}},Eg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oN=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const a=new Array(8);for(r=7;r>=0;r--)a[r]=Eg.charAt(e%64),e=Math.floor(e/64);(0,U.hu)(0===e,"Cannot push at time == 0");let c=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=Eg.charAt(t[r]);return(0,U.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),_R=function(n){if(n===""+DT)return"-";const t=aE(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Gl;const a=Eg.charAt(Eg.indexOf(e[i])+1);return e[i]=a,e.slice(0,i+1).join("")},yR=function(n){if(n===""+MM)return Jc;const t=aE(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+DT:(delete e[e.length-1],e.join("")):(e[e.length-1]=Eg.charAt(Eg.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function vR(n){return{type:"value",snapshotNode:n}}function Cg(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Ny(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Ly(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class HT{constructor(t){this.index_=t}updateChild(t,e,i,r,a,c){(0,U.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(Ny(e,d)):(0,U.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Cg(e,i)):c.trackChildChange(Ly(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(kn,(r,a)=>{e.hasChild(r)||i.trackChildChange(Ny(r,a))}),e.isLeafNode()||e.forEachChild(kn,(r,a)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(a)||i.trackChildChange(Ly(r,a,c))}else i.trackChildChange(Cg(r,a))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?At.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Fy{constructor(t){this.indexedFilter_=new HT(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Fy.getStartPost_(t),this.endPost_=Fy.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,a,c){return this.matches(new Ht(e,i))||(i=At.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,a,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=At.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(At.EMPTY_NODE);const a=this;return e.forEachChild(kn,(c,d)=>{a.matches(new Ht(c,d))||(r=r.updateImmediateChild(c,At.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class lN{constructor(t){this.rangedFilter_=new Fy(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,a,c){return this.rangedFilter_.matches(new Ht(e,i))||(i=At.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,a,c):this.fullLimitUpdateChild_(t,e,i,a,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=At.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let a;r=At.EMPTY_NODE.withIndex(this.index_),a=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;a.hasNext()&&c<this.limit_;){const d=a.getNext();let f;if(f=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!f)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let a,c,d,f;if(r=e.withIndex(this.index_),r=r.updatePriority(At.EMPTY_NODE),this.reverse_){f=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const I=this.index_.getCompare();d=(A,R)=>I(R,A)}else f=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let _=0,E=!1;for(;f.hasNext();){const I=f.getNext();!E&&d(a,I)<=0&&(E=!0),E&&_<this.limit_&&d(I,c)<=0?_++:r=r.updateImmediateChild(I.name,At.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,a){let c;if(this.reverse_){const I=this.index_.getCompare();c=(A,R)=>I(R,A)}else c=this.index_.getCompare();const d=t;(0,U.hu)(d.numChildren()===this.limit_,"");const f=new Ht(e,i),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),E=this.rangedFilter_.matches(f);if(d.hasChild(e)){const I=d.getImmediateChild(e);let A=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=A&&(A.name===e||d.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);const R=null==A?1:c(A,f);if(E&&!i.isEmpty()&&R>=0)return a?.trackChildChange(Ly(e,i,I)),d.updateImmediateChild(e,i);{a?.trackChildChange(Ny(e,I));const j=d.updateImmediateChild(e,At.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(a?.trackChildChange(Cg(A.name,A.node)),j.updateImmediateChild(A.name,A.node)):j}}return i.isEmpty()?t:E&&c(_,f)>=0?(null!=a&&(a.trackChildChange(Ny(_.name,_.node)),a.trackChildChange(Cg(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(_.name,At.EMPTY_NODE)):t}}class gE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===kn}copy(){const t=new gE;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function $T(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function WT(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function mE(n,t){const e=n.copy();return e.index_=t,e}function bR(n){const t={};if(n.isDefault())return t;let e;return n.index_===kn?e="$priority":n.index_===VT?e="$value":n.index_===Kl?e="$key":((0,U.hu)(n.index_ instanceof UT,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,U.Pz)(e),n.startSet_&&(t.startAt=(0,U.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,U.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,U.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,U.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function wR(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==kn&&(t.i=n.index_.toString()),t}class _E extends tR{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ty("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,U.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const c=_E.getListenId_(t,i),d={};this.listens_[c]=d;const f=bR(t._queryParams);this.restRequest_(a+".json",f,(_,E)=>{let I=E;if(404===_&&(I=null,_=null),null===_&&this.onDataUpdate_(a,I,!1,i),(0,U.DV)(this.listens_,c)===d){let A;A=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(A,null)}})}unlisten(t,e){const i=_E.getListenId_(t,e);delete this.listens_[i]}get(t){const e=bR(t._queryParams),i=t._path.toString(),r=new U.BH;return this.restRequest_(i+".json",e,(a,c)=>{let d=c;404===a&&(d=null,a=null),null===a?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,a])=>{r&&r.accessToken&&(e.auth=r.accessToken),a&&a.token&&(e.ac=a.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,U.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,U.cI)(d.responseText)}catch{Ar("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,f)}else 401!==d.status&&404!==d.status&&Ar("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class pN{constructor(){this.rootNode_=At.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function yE(){return{value:null,children:new Map}}function Ig(n,t,e){if(jt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Vt(t);n.children.has(i)||n.children.set(i,yE()),Ig(n.children.get(i),t=xn(t),e)}}function zT(n,t){if(jt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(kn,(i,r)=>{Ig(n,new mn(i),r)}),zT(n,t)}}if(n.children.size>0){const e=Vt(t);return t=xn(t),n.children.has(e)&&zT(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function GT(n,t,e){null!==n.value?e(t,n.value):function gN(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{GT(r,new mn(t.toString()+"/"+i),e)})}class mN{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&nr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class vN{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new mN(t);const i=1e4+2e4*Math.random();Ay(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;nr(t,(r,a)=>{a>0&&(0,U.r3)(this.statsToReport_,r)&&(e[r]=a,i=!0)}),i&&this.server_.reportStats(e),Ay(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fo=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Fo||(Fo={})),Fo))();function YT(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class vE{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Fo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(jt(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new mn(t));return new vE(cn(),e,this.revert)}}return(0,U.hu)(Vt(this.path)===t,"operationForChild called for unrelated child."),new vE(xn(this.path),this.affectedTree,this.revert)}}class By{constructor(t,e){this.source=t,this.path=e,this.type=Fo.LISTEN_COMPLETE}operationForChild(t){return jt(this.path)?new By(this.source,cn()):new By(this.source,xn(this.path))}}class lf{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Fo.OVERWRITE}operationForChild(t){return jt(this.path)?new lf(this.source,cn(),this.snap.getImmediateChild(t)):new lf(this.source,xn(this.path),this.snap)}}class Dg{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Fo.MERGE}operationForChild(t){if(jt(this.path)){const e=this.children.subtree(new mn(t));return e.isEmpty()?null:e.value?new lf(this.source,cn(),e.value):new Dg(this.source,cn(),e)}return(0,U.hu)(Vt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Dg(this.source,xn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Sd{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(jt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Vt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class bN{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Uy(n,t,e,i,r,a){const c=i.filter(d=>d.type===e);c.sort((d,f)=>function CN(n,t,e){if(null==t.childName||null==e.childName)throw(0,U.g5)("Should only compare child_ events.");const i=new Ht(t.childName,t.snapshotNode),r=new Ht(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,f)),c.forEach(d=>{const f=function EN(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,a);r.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(f,n.query_))})})}function bE(n,t){return{eventCache:n,serverCache:t}}function Vy(n,t,e,i){return bE(new Sd(t,e,i),n.serverCache)}function CR(n,t,e,i){return bE(n.eventCache,new Sd(t,e,i))}function wE(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function cf(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let qT;class Nn{constructor(t,e=(()=>(qT||(qT=new Es(lk)),qT))()){this.value=t,this.children=e}static fromObject(t){let e=new Nn(null);return nr(t,(i,r)=>{e=e.set(new mn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:cn(),value:this.value};if(jt(t))return null;{const i=Vt(t),r=this.children.get(i);if(null!==r){const a=r.findRootMostMatchingPathAndValue(xn(t),e);return null!=a?{path:qn(new mn(i),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(jt(t))return this;{const e=Vt(t),i=this.children.get(e);return null!==i?i.subtree(xn(t)):new Nn(null)}}set(t,e){if(jt(t))return new Nn(e,this.children);{const i=Vt(t),a=(this.children.get(i)||new Nn(null)).set(xn(t),e),c=this.children.insert(i,a);return new Nn(this.value,c)}}remove(t){if(jt(t))return this.children.isEmpty()?new Nn(null):new Nn(null,this.children);{const e=Vt(t),i=this.children.get(e);if(i){const r=i.remove(xn(t));let a;return a=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&a.isEmpty()?new Nn(null):new Nn(this.value,a)}return this}}get(t){if(jt(t))return this.value;{const e=Vt(t),i=this.children.get(e);return i?i.get(xn(t)):null}}setTree(t,e){if(jt(t))return e;{const i=Vt(t),a=(this.children.get(i)||new Nn(null)).setTree(xn(t),e);let c;return c=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new Nn(this.value,c)}}fold(t){return this.fold_(cn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,a)=>{i[r]=a.fold_(qn(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,cn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(jt(t))return null;{const a=Vt(t),c=this.children.get(a);return c?c.findOnPath_(xn(t),qn(e,a),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,cn(),e)}foreachOnPath_(t,e,i){if(jt(t))return this;{this.value&&i(e,this.value);const r=Vt(t),a=this.children.get(r);return a?a.foreachOnPath_(xn(t),qn(e,r),i):new Nn(null)}}foreach(t){this.foreach_(cn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(qn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Ra{constructor(t){this.writeTree_=t}static empty(){return new Ra(new Nn(null))}}function jy(n,t,e){if(jt(t))return new Ra(new Nn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let a=i.value;const c=Zr(r,t);return a=a.updateChild(c,e),new Ra(n.writeTree_.set(r,a))}{const r=new Nn(e),a=n.writeTree_.setTree(t,r);return new Ra(a)}}}function QT(n,t,e){let i=n;return nr(e,(r,a)=>{i=jy(i,qn(t,r),a)}),i}function IR(n,t){if(jt(t))return Ra.empty();{const e=n.writeTree_.setTree(t,new Nn(null));return new Ra(e)}}function XT(n,t){return null!=uf(n,t)}function uf(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Zr(e.path,t)):null}function DR(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(kn,(i,r)=>{t.push(new Ht(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Ht(i,r.value))}),t}function Td(n,t){if(jt(t))return n;{const e=uf(n,t);return new Ra(null!=e?new Nn(e):n.writeTree_.subtree(t))}}function JT(n){return n.writeTree_.isEmpty()}function Sg(n,t){return SR(cn(),n.writeTree_,t)}function SR(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,a)=>{".priority"===r?((0,U.hu)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):e=SR(qn(n,r),a,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(qn(n,".priority"),i)),e}}function EE(n,t){return RR(t,n)}function AN(n,t){if(n.snap)return Lo(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Lo(qn(n.path,e),t))return!0;return!1}function RN(n){return n.visible}function TR(n,t,e){let i=Ra.empty();for(let r=0;r<n.length;++r){const a=n[r];if(t(a)){const c=a.path;let d;if(a.snap)Lo(e,c)?(d=Zr(e,c),i=jy(i,d,a.snap)):Lo(c,e)&&(d=Zr(c,e),i=jy(i,cn(),a.snap.getChild(d)));else{if(!a.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(Lo(e,c))d=Zr(e,c),i=QT(i,d,a.children);else if(Lo(c,e))if(d=Zr(c,e),jt(d))i=QT(i,cn(),a.children);else{const f=(0,U.DV)(a.children,Vt(d));if(f){const _=f.getChild(xn(d));i=jy(i,cn(),_)}}}}}return i}function xR(n,t,e,i,r){if(i||r){const a=Td(n.visibleWrites,t);return!r&&JT(a)?e:r||null!=e||XT(a,cn())?Sg(TR(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(Lo(_.path,t)||Lo(t,_.path))},t),e||At.EMPTY_NODE):null}{const a=uf(n.visibleWrites,t);if(null!=a)return a;{const c=Td(n.visibleWrites,t);return JT(c)?e:null!=e||XT(c,cn())?Sg(c,e||At.EMPTY_NODE):null}}}function CE(n,t,e,i){return xR(n.writeTree,n.treePath,t,e,i)}function ex(n,t){return function PN(n,t,e){let i=At.EMPTY_NODE;const r=uf(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(kn,(a,c)=>{i=i.updateImmediateChild(a,c)}),i;if(e){const a=Td(n.visibleWrites,t);return e.forEachChild(kn,(c,d)=>{const f=Sg(Td(a,new mn(c)),d);i=i.updateImmediateChild(c,f)}),DR(a).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return DR(Td(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function AR(n,t,e,i){return function ON(n,t,e,i,r){(0,U.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const a=qn(t,e);if(XT(n.visibleWrites,a))return null;{const c=Td(n.visibleWrites,a);return JT(c)?r.getChild(e):Sg(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function IE(n,t){return function NN(n,t){return uf(n.visibleWrites,t)}(n.writeTree,qn(n.treePath,t))}function tx(n,t,e){return function kN(n,t,e,i){const r=qn(t,e),a=uf(n.visibleWrites,r);return null!=a?a:i.isCompleteForChild(e)?Sg(Td(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function MR(n,t){return RR(qn(n.treePath,t),n.writeTree)}function RR(n,t){return{treePath:n,writeTree:t}}class UN{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,U.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const a=r.type;if("child_added"===e&&"child_removed"===a)this.changeMap.set(i,Ly(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===a)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===a)this.changeMap.set(i,Ny(i,r.oldSnap));else if("child_changed"===e&&"child_added"===a)this.changeMap.set(i,Cg(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==a)throw(0,U.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Ly(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const PR=new class VN{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class nx{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Sd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tx(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:cf(this.viewCache_),a=function BN(n,t,e,i,r,a){return function LN(n,t,e,i,r,a,c){let d;const f=Td(n.visibleWrites,t),_=uf(f,cn());if(null!=_)d=_;else{if(null==e)return[];d=Sg(f,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const E=[],I=c.getCompare(),A=a?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let R=A.getNext();for(;R&&E.length<r;)0!==I(R,i)&&E.push(R),R=A.getNext();return E}}(n.writeTree,n.treePath,t,e,i,r,a)}(this.writes_,r,e,1,i,t);return 0===a.length?null:a[0]}}function OR(n,t,e,i,r,a){const c=t.eventCache;if(null!=IE(i,e))return t;{let d,f;if(jt(e))if((0,U.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=cf(t),I=ex(i,_ instanceof At?_:At.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),I,a)}else{const _=CE(i,cf(t));d=n.filter.updateFullNode(t.eventCache.getNode(),_,a)}else{const _=Vt(e);if(".priority"===_){(0,U.hu)(1===Dd(e),"Can't have a priority with additional path components");const E=c.getNode();f=t.serverCache.getNode();const I=AR(i,e,E,f);d=null!=I?n.filter.updatePriority(E,I):c.getNode()}else{const E=xn(e);let I;if(c.isCompleteForChild(_)){f=t.serverCache.getNode();const A=AR(i,e,c.getNode(),f);I=null!=A?c.getNode().getImmediateChild(_).updateChild(E,A):c.getNode().getImmediateChild(_)}else I=tx(i,_,t.serverCache);d=null!=I?n.filter.updateChild(c.getNode(),_,I,E,r,a):c.getNode()}}return Vy(t,d,c.isFullyInitialized()||jt(e),n.filter.filtersNodes())}}function DE(n,t,e,i,r,a,c,d){const f=t.serverCache;let _;const E=c?n.filter:n.filter.getIndexedFilter();if(jt(e))_=E.updateFullNode(f.getNode(),i,null);else if(E.filtersNodes()&&!f.isFiltered()){const R=f.getNode().updateChild(e,i);_=E.updateFullNode(f.getNode(),R,null)}else{const R=Vt(e);if(!f.isCompleteForPath(e)&&Dd(e)>1)return t;const k=xn(e),Y=f.getNode().getImmediateChild(R).updateChild(k,i);_=".priority"===R?E.updatePriority(f.getNode(),Y):E.updateChild(f.getNode(),R,Y,k,PR,null)}const I=CR(t,_,f.isFullyInitialized()||jt(e),E.filtersNodes());return OR(n,I,e,r,new nx(r,I,a),d)}function ix(n,t,e,i,r,a,c){const d=t.eventCache;let f,_;const E=new nx(r,t,a);if(jt(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),f=Vy(t,_,!0,n.filter.filtersNodes());else{const I=Vt(e);if(".priority"===I)_=n.filter.updatePriority(t.eventCache.getNode(),i),f=Vy(t,_,d.isFullyInitialized(),d.isFiltered());else{const A=xn(e),R=d.getNode().getImmediateChild(I);let k;if(jt(A))k=i;else{const j=E.getCompleteChild(I);k=null!=j?".priority"===OT(A)&&j.getChild(sR(A)).isEmpty()?j:j.updateChild(A,i):At.EMPTY_NODE}f=R.equals(k)?t:Vy(t,n.filter.updateChild(d.getNode(),I,k,A,E,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return f}function kR(n,t){return n.eventCache.isCompleteForChild(t)}function NR(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function rx(n,t,e,i,r,a,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,f=t;_=jt(e)?i:new Nn(null).setTree(e,i);const E=t.serverCache.getNode();return _.children.inorderTraversal((I,A)=>{if(E.hasChild(I)){const k=NR(0,t.serverCache.getNode().getImmediateChild(I),A);f=DE(n,f,new mn(I),k,r,a,c,d)}}),_.children.inorderTraversal((I,A)=>{const R=!t.serverCache.isCompleteForChild(I)&&null===A.value;if(!E.hasChild(I)&&!R){const j=NR(0,t.serverCache.getNode().getImmediateChild(I),A);f=DE(n,f,new mn(I),j,r,a,c,d)}}),f}class YN{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new HT(i.getIndex()),a=function cN(n){return n.loadsAllData()?new HT(n.getIndex()):n.hasLimit()?new lN(n):new Fy(n)}(i);this.processor_=function jN(n){return{filter:n}}(a);const c=e.serverCache,d=e.eventCache,f=r.updateFullNode(At.EMPTY_NODE,c.getNode(),null),_=a.updateFullNode(At.EMPTY_NODE,d.getNode(),null),E=new Sd(f,c.isFullyInitialized(),r.filtersNodes()),I=new Sd(_,d.isFullyInitialized(),a.filtersNodes());this.viewCache_=bE(I,E),this.eventGenerator_=new bN(this.query_)}get query(){return this.query_}}function XN(n,t){const e=cf(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!jt(t)&&!e.getImmediateChild(Vt(t)).isEmpty())?e.getChild(t):null}function LR(n){return 0===n.eventRegistrations_.length}function FR(n,t,e){const i=[];if(e){(0,U.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(a=>{const c=a.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let a=0;a<n.eventRegistrations_.length;++a){const c=n.eventRegistrations_[a];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(a+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function BR(n,t,e,i){t.type===Fo.MERGE&&null!==t.source.queryId&&((0,U.hu)(cf(n.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(wE(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,a=function $N(n,t,e,i,r){const a=new UN;let c,d;if(e.type===Fo.OVERWRITE){const _=e;_.source.fromUser?c=ix(n,t,_.path,_.snap,i,r,a):((0,U.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!jt(_.path),c=DE(n,t,_.path,_.snap,i,r,d,a))}else if(e.type===Fo.MERGE){const _=e;_.source.fromUser?c=function zN(n,t,e,i,r,a,c){let d=t;return i.foreach((f,_)=>{const E=qn(e,f);kR(t,Vt(E))&&(d=ix(n,d,E,_,r,a,c))}),i.foreach((f,_)=>{const E=qn(e,f);kR(t,Vt(E))||(d=ix(n,d,E,_,r,a,c))}),d}(n,t,_.path,_.children,i,r,a):((0,U.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),c=rx(n,t,_.path,_.children,i,r,d,a))}else if(e.type===Fo.ACK_USER_WRITE){const _=e;c=_.revert?function ZN(n,t,e,i,r,a){let c;if(null!=IE(i,e))return t;{const d=new nx(i,t,r),f=t.eventCache.getNode();let _;if(jt(e)||".priority"===Vt(e)){let E;if(t.serverCache.isFullyInitialized())E=CE(i,cf(t));else{const I=t.serverCache.getNode();(0,U.hu)(I instanceof At,"serverChildren would be complete if leaf node"),E=ex(i,I)}_=n.filter.updateFullNode(f,E,a)}else{const E=Vt(e);let I=tx(i,E,t.serverCache);null==I&&t.serverCache.isCompleteForChild(E)&&(I=f.getImmediateChild(E)),_=null!=I?n.filter.updateChild(f,E,I,xn(e),d,a):t.eventCache.getNode().hasChild(E)?n.filter.updateChild(f,E,At.EMPTY_NODE,xn(e),d,a):f,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=CE(i,cf(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,a)))}return c=t.serverCache.isFullyInitialized()||null!=IE(i,cn()),Vy(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,r,a):function GN(n,t,e,i,r,a,c){if(null!=IE(r,e))return t;const d=t.serverCache.isFiltered(),f=t.serverCache;if(null!=i.value){if(jt(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return DE(n,t,e,f.getNode().getChild(e),r,a,d,c);if(jt(e)){let _=new Nn(null);return f.getNode().forEachChild(Kl,(E,I)=>{_=_.set(new mn(E),I)}),rx(n,t,e,_,r,a,d,c)}return t}{let _=new Nn(null);return i.foreach((E,I)=>{const A=qn(e,E);f.isCompleteForPath(A)&&(_=_.set(E,f.getNode().getChild(A)))}),rx(n,t,e,_,r,a,d,c)}}(n,t,_.path,_.affectedTree,i,r,a)}else{if(e.type!==Fo.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+e.type);c=function KN(n,t,e,i,r){const a=t.serverCache;return OR(n,CR(t,a.getNode(),a.isFullyInitialized()||jt(e),a.isFiltered()),e,i,PR,r)}(n,t,e.path,i,a)}const f=a.getChanges();return function WN(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=wE(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&e.push(vR(wE(t)))}}(t,c,f),{viewCache:c,changes:f}}(n.processor_,r,t,e,i);return function HN(n,t){(0,U.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,U.hu)(a.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,UR(n,a.changes,a.viewCache.eventCache.getNode(),null)}function UR(n,t,e,i){return function wN(n,t,e,i){const r=[],a=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&a.push(function aN(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),Uy(n,r,"child_removed",t,i,e),Uy(n,r,"child_added",t,i,e),Uy(n,r,"child_moved",a,i,e),Uy(n,r,"child_changed",t,i,e),Uy(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let SE,xE;class VR{constructor(){this.views=new Map}}function sx(n,t,e,i){const r=t.source.queryId;if(null!==r){const a=n.views.get(r);return(0,U.hu)(null!=a,"SyncTree gave us an op for an invalid query."),BR(a,t,e,i)}{let a=[];for(const c of n.views.values())a=a.concat(BR(c,t,e,i));return a}}function jR(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=CE(e,r?i:null),f=!1;d?f=!0:i instanceof At?(d=ex(e,i),f=!1):(d=At.EMPTY_NODE,f=!1);const _=bE(new Sd(d,f,!1),new Sd(i,r,!1));return new YN(t,_)}return c}function HR(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function xd(n,t){let e=null;for(const i of n.views.values())e=e||XN(i,t);return e}function $R(n,t){return t._queryParams.loadsAllData()?TE(n):n.views.get(t._queryIdentifier)}function WR(n,t){return null!=$R(n,t)}function Ad(n){return null!=TE(n)}function TE(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let l1=1;class zR{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Nn(null),this.pendingWriteTree_=function FN(){return{visibleWrites:Ra.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ox(n,t,e,i,r){return function DN(n,t,e,i,r){(0,U.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=jy(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Tg(n,new lf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Md(n,t,e=!1){const i=function TN(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function xN(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,U.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,a=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&AN(d,i.path)?r=!1:Lo(i.path,d.path)&&(a=!0)),c--}return!!r&&(a?(function MN(n){n.visibleWrites=TR(n.allWrites,RN,cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=IR(n.visibleWrites,i.path):nr(i.children,f=>{n.visibleWrites=IR(n.visibleWrites,qn(i.path,f))}),!0))}(n.pendingWriteTree_,t)){let a=new Nn(null);return null!=i.snap?a=a.set(cn(),!0):nr(i.children,c=>{a=a.set(new mn(c),!0)}),Tg(n,new vE(i.path,a,e))}return[]}function Hy(n,t,e){return Tg(n,new lf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function AE(n,t,e,i,r=!1){const a=t._path,c=n.syncPointTree_.get(a);let d=[];if(c&&("default"===t._queryIdentifier||WR(c,t))){const f=function s1(n,t,e,i){const r=t._queryIdentifier,a=[];let c=[];const d=Ad(n);if("default"===r)for(const[f,_]of n.views.entries())c=c.concat(FR(_,e,i)),LR(_)&&(n.views.delete(f),_.query._queryParams.loadsAllData()||a.push(_.query));else{const f=n.views.get(r);f&&(c=c.concat(FR(f,e,i)),LR(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||a.push(f.query)))}return d&&!Ad(n)&&a.push(new(function n1(){return(0,U.hu)(SE,"Reference.ts has not been loaded"),SE}())(t._repo,t._path)),{removed:a,events:c}}(c,t,e,i);(function i1(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const _=f.removed;if(d=f.events,!r){const E=-1!==_.findIndex(A=>A._queryParams.loadsAllData()),I=n.syncPointTree_.findOnPath(a,(A,R)=>Ad(R));if(E&&!I){const A=n.syncPointTree_.subtree(a);if(!A.isEmpty()){const R=function g1(n){return n.fold((t,e,i)=>{if(e&&Ad(e))return[TE(e)];{let r=[];return e&&(r=HR(e)),nr(i,(a,c)=>{r=r.concat(c)}),r}})}(A);for(let k=0;k<R.length;++k){const j=R[k],Y=j.query,ne=YR(n,j);n.listenProvider_.startListening(Wy(Y),$y(n,Y),ne.hashFn,ne.onComplete)}}}!I&&_.length>0&&!i&&(E?n.listenProvider_.stopListening(Wy(t),null):_.forEach(A=>{const R=n.queryToTagMap.get(RE(A));n.listenProvider_.stopListening(Wy(A),R)}))}!function m1(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=RE(i),a=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(a)}}}(n,_)}return d}function GR(n,t,e,i){const r=lx(n,i);if(null!=r){const a=cx(r),c=a.path,d=a.queryId,f=Zr(c,t);return ux(n,c,new lf(YT(d),f,e))}return[]}function ax(n,t,e,i=!1){const r=t._path;let a=null,c=!1;n.syncPointTree_.foreachOnPath(r,(A,R)=>{const k=Zr(A,r);a=a||xd(R,k),c=c||Ad(R)});let f,d=n.syncPointTree_.get(r);d?(c=c||Ad(d),a=a||xd(d,cn())):(d=new VR,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=a?f=!0:(f=!1,a=At.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((R,k)=>{const j=xd(k,cn());j&&(a=a.updateImmediateChild(R,j))}));const _=WR(d,t);if(!_&&!t._queryParams.loadsAllData()){const A=RE(t);(0,U.hu)(!n.queryToTagMap.has(A),"View does not exist, but we have a tag");const R=function _1(){return l1++}();n.queryToTagMap.set(A,R),n.tagToQueryMap.set(R,A)}let I=function r1(n,t,e,i,r,a){const c=jR(n,t,i,r,a);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function JN(n,t){n.eventRegistrations_.push(t)}(c,e),function e1(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(kn,(a,c)=>{i.push(Cg(a,c))}),e.isFullyInitialized()&&i.push(vR(e.getNode())),UR(n,i,e.getNode(),t)}(c,e)}(d,t,e,EE(n.pendingWriteTree_,r),a,f);if(!_&&!c&&!i){const A=$R(d,t);I=I.concat(function y1(n,t,e){const i=t._path,r=$y(n,t),a=YR(n,e),c=n.listenProvider_.startListening(Wy(t),r,a.hashFn,a.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,U.hu)(!Ad(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((_,E,I)=>{if(!jt(_)&&E&&Ad(E))return[TE(E).query];{let A=[];return E&&(A=A.concat(HR(E).map(R=>R.query))),nr(I,(R,k)=>{A=A.concat(k)}),A}});for(let _=0;_<f.length;++_){const E=f[_];n.listenProvider_.stopListening(Wy(E),$y(n,E))}}return c}(n,t,A))}return I}function ME(n,t,e){const r=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(t,(c,d)=>{const _=xd(d,Zr(c,t));if(_)return _});return xR(r,t,a,e,!0)}function Tg(n,t){return KR(t,n.syncPointTree_,null,EE(n.pendingWriteTree_,cn()))}function KR(n,t,e,i){if(jt(n.path))return ZR(n,t,e,i);{const r=t.get(cn());null==e&&null!=r&&(e=xd(r,cn()));let a=[];const c=Vt(n.path),d=n.operationForChild(c),f=t.children.get(c);if(f&&d){const _=e?e.getImmediateChild(c):null,E=MR(i,c);a=a.concat(KR(d,f,_,E))}return r&&(a=a.concat(sx(r,n,i,e))),a}}function ZR(n,t,e,i){const r=t.get(cn());null==e&&null!=r&&(e=xd(r,cn()));let a=[];return t.children.inorderTraversal((c,d)=>{const f=e?e.getImmediateChild(c):null,_=MR(i,c),E=n.operationForChild(c);E&&(a=a.concat(ZR(E,d,f,_)))}),r&&(a=a.concat(sx(r,n,i,e))),a}function YR(n,t){const e=t.query,i=$y(n,e);return{hashFn:()=>(function qN(n){return n.viewCache_.serverCache.getNode()}(t)||At.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function h1(n,t,e){const i=lx(n,e);if(i){const r=cx(i),a=r.path,c=r.queryId,d=Zr(a,t);return ux(n,a,new By(YT(c),d))}return[]}(n,e._path,i):function d1(n,t){return Tg(n,new By({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const a=function dk(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return AE(n,e,null,a)}}}}function $y(n,t){const e=RE(t);return n.queryToTagMap.get(e)}function RE(n){return n._path.toString()+"$"+n._queryIdentifier}function lx(n,t){return n.tagToQueryMap.get(t)}function cx(n){const t=n.indexOf("$");return(0,U.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new mn(n.substr(0,t))}}function ux(n,t,e){const i=n.syncPointTree_.get(t);return(0,U.hu)(i,"Missing sync point for query tag that we're tracking"),sx(i,e,EE(n.pendingWriteTree_,t),null)}function Wy(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function a1(){return(0,U.hu)(xE,"Reference.ts has not been loaded"),xE}())(n._repo,n._path):n}class dx{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new dx(e)}node(){return this.node_}}class hx{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=qn(this.path_,t);return new hx(this.syncTree_,e)}node(){return ME(this.syncTree_,this.path_)}}const qR=function(n,t,e){return n&&"object"==typeof n?((0,U.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?b1(n[".sv"],t,e):"object"==typeof n[".sv"]?w1(n[".sv"],t):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},b1=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,U.hu)(!1,"Unexpected server value: "+n)},w1=function(n,t,e){n.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,U.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,U.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},QR=function(n,t,e,i){return px(t,new hx(e,n),i)},fx=function(n,t,e){return px(n,new dx(t),e)};function px(n,t,e){const i=n.getPriority().val(),r=qR(i,t.getImmediateChild(".priority"),e);let a;if(n.isLeafNode()){const c=n,d=qR(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new bg(d,oi(r)):n}{const c=n;return a=c,r!==c.getPriority().val()&&(a=a.updatePriority(new bg(r))),c.forEachChild(kn,(d,f)=>{const _=px(f,t.getImmediateChild(d),e);_!==f&&(a=a.updateImmediateChild(d,_))}),a}}class gx{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function PE(n,t){let e=t instanceof mn?t:new mn(t),i=n,r=Vt(e);for(;null!==r;){const a=(0,U.DV)(i.node.children,r)||{children:{},childCount:0};i=new gx(r,i,a),e=xn(e),r=Vt(e)}return i}function df(n){return n.node.value}function mx(n,t){n.node.value=t,_x(n)}function XR(n){return n.node.childCount>0}function OE(n,t){nr(n.node.children,(e,i)=>{t(new gx(e,n,i))})}function JR(n,t,e,i){e&&!i&&t(n),OE(n,r=>{JR(r,t,!0,i)}),e&&i&&t(n)}function zy(n){return new mn(null===n.parent?n.name:zy(n.parent)+"/"+n.name)}function _x(n){null!==n.parent&&function I1(n,t,e){const i=function E1(n){return void 0===df(n)&&!XR(n)}(e),r=(0,U.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,_x(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,_x(n))}(n.parent,n.name,n)}const D1=/[\[\].#$\/\u0000-\u001F\u007F]/,S1=/[\[\].#$\u0000-\u001F\u007F]/,yx=10485760,kE=function(n){return"string"==typeof n&&0!==n.length&&!D1.test(n)},eP=function(n){return"string"==typeof n&&0!==n.length&&!S1.test(n)},Gy=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!oE(n)||n&&"object"==typeof n&&(0,U.r3)(n,".sv")},Zl=function(n,t,e,i){i&&void 0===t||Ky((0,U.gK)(n,"value"),t,e)},Ky=function(n,t,e){const i=e instanceof mn?new Hk(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+sf(i));if("function"==typeof t)throw new Error(n+"contains a function "+sf(i)+" with contents = "+t.toString());if(oE(t))throw new Error(n+"contains "+t.toString()+" "+sf(i));if("string"==typeof t&&t.length>yx/3&&(0,U.ug)(t)>yx)throw new Error(n+"contains a string greater than "+yx+" utf8 bytes "+sf(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,a=!1;if(nr(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(a=!0,!kE(c)))throw new Error(n+" contains an invalid key ("+c+") "+sf(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function $k(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,U.ug)(t),oR(n)})(i,c),Ky(n,d,i),function Wk(n){const t=n.parts_.pop();n.byteLength_-=(0,U.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&a)throw new Error(n+' contains ".value" child '+sf(i)+" in addition to actual children.")}},tP=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,U.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const a=[];nr(t,(c,d)=>{const f=new mn(c);if(Ky(r,d,qn(e,f)),".priority"===OT(f)&&!Gy(d))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(f)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const a=Ry(i);for(let c=0;c<a.length;c++)if((".priority"!==a[c]||c!==a.length-1)&&!kE(a[c]))throw new Error(n+"contains an invalid key ("+a[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(jk);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Lo(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,a)},vx=function(n,t,e){if(!e||void 0!==t){if(oE(t))throw new Error((0,U.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gy(t))throw new Error((0,U.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Zy=function(n,t,e,i){if(!(i&&void 0===e||kE(e)))throw new Error((0,U.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Yy=function(n,t,e,i){if(!(i&&void 0===e||eP(e)))throw new Error((0,U.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Bo=function(n,t){if(".info"===Vt(t))throw new Error(n+" failed = Can't modify data under /.info/")},nP=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!kE(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),eP(n)}(e))throw new Error((0,U.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class M1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function NE(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],a=r.getPath();null!==e&&!kT(a,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:a}),e.events.push(r)}e&&n.eventLists_.push(e)}function iP(n,t,e){NE(n,e),rP(n,i=>kT(i,t))}function qs(n,t,e){NE(n,e),rP(n,i=>Lo(i,t)||Lo(t,i))}function rP(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(R1(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function R1(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();nf&&tr("event: "+e.toString()),yg(i)}}}const sP="repo_interrupt";class O1{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new M1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yE(),this.transactionQueueTree_=new gx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oP(n){const e=n.infoData_.getNode(new mn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function qy(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:oP(n)})}function aP(n,t,e,i,r){n.dataUpdateCount++;const a=new mn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const f=(0,U.UI)(e,_=>oi(_));c=function f1(n,t,e,i){const r=lx(n,i);if(r){const a=cx(r),c=a.path,d=a.queryId,f=Zr(c,t),_=Nn.fromObject(e);return ux(n,c,new Dg(YT(d),f,_))}return[]}(n.serverSyncTree_,a,f,r)}else{const f=oi(e);c=GR(n.serverSyncTree_,a,f,r)}else if(i){const f=(0,U.UI)(e,_=>oi(_));c=function u1(n,t,e){const i=Nn.fromObject(e);return Tg(n,new Dg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,a,f)}else{const f=oi(e);c=Hy(n.serverSyncTree_,a,f)}let d=a;c.length>0&&(d=Ag(n,a)),qs(n.eventQueue_,d,c)}function lP(n,t){bx(n,"connected",t),!1===t&&function B1(n){xg(n,"onDisconnectEvents");const t=qy(n),e=yE();GT(n.onDisconnect_,cn(),(r,a)=>{const c=QR(r,a,n.serverSyncTree_,t);Ig(e,r,c)});let i=[];GT(e,cn(),(r,a)=>{i=i.concat(Hy(n.serverSyncTree_,r,a));const c=Ix(n,r);Ag(n,c)}),n.onDisconnect_=yE(),qs(n.eventQueue_,cn(),i)}(n)}function bx(n,t,e){const i=new mn("/.info/"+t),r=oi(e);n.infoData_.updateSnapshot(i,r);const a=Hy(n.infoSyncTree_,i,r);qs(n.eventQueue_,i,a)}function LE(n){return n.nextWriteId_++}function wx(n,t,e,i,r){xg(n,"set",{path:t.toString(),value:e,priority:i});const a=qy(n),c=oi(e,i),d=ME(n.serverSyncTree_,t),f=fx(c,d,a),_=LE(n),E=ox(n.serverSyncTree_,t,f,_,!0);NE(n.eventQueue_,E),n.server_.put(t.toString(),c.val(!0),(A,R)=>{const k="ok"===A;k||Ar("set at "+t+" failed: "+A);const j=Md(n.serverSyncTree_,_,!k);qs(n.eventQueue_,t,j),Rd(0,r,A,R)});const I=Ix(n,t);Ag(n,I),qs(n.eventQueue_,I,[])}function U1(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&zT(n.onDisconnect_,t),Rd(0,e,i,r)})}function cP(n,t,e,i){const r=oi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(a,c)=>{"ok"===a&&Ig(n.onDisconnect_,t,r),Rd(0,i,a,c)})}function Ex(n,t,e){let i;i=".info"===Vt(t._path)?AE(n.infoSyncTree_,t,e):AE(n.serverSyncTree_,t,e),iP(n.eventQueue_,t._path,i)}function uP(n){n.persistentConnection_&&n.persistentConnection_.interrupt(sP)}function xg(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),tr(e,...t)}function Rd(n,t,e,i){t&&yg(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let a=r;i&&(a+=": "+i);const c=new Error(a);c.code=r,t(c)}})}function Cx(n,t,e){return ME(n.serverSyncTree_,t,e)||At.EMPTY_NODE}function FE(n,t=n.transactionQueueTree_){if(t||BE(n,t),df(t)){const e=hP(n,t);(0,U.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function z1(n,t,e){const i=e.map(_=>_.currentWriteId),r=Cx(n,t,i);let a=r;const c=r.hash();for(let _=0;_<e.length;_++){const E=e[_];(0,U.hu)(0===E.status,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const I=Zr(t,E.path);a=a.updateChild(I,E.currentOutputSnapshotRaw)}const d=a.val(!0),f=t;n.server_.put(f.toString(),d,_=>{xg(n,"transaction put response",{path:f.toString(),status:_});let E=[];if("ok"===_){const I=[];for(let A=0;A<e.length;A++)e[A].status=2,E=E.concat(Md(n.serverSyncTree_,e[A].currentWriteId)),e[A].onComplete&&I.push(()=>e[A].onComplete(null,!0,e[A].currentOutputSnapshotResolved)),e[A].unwatcher();BE(n,PE(n.transactionQueueTree_,t)),FE(n,n.transactionQueueTree_),qs(n.eventQueue_,t,E);for(let A=0;A<I.length;A++)yg(I[A])}else{if("datastale"===_)for(let I=0;I<e.length;I++)e[I].status=3===e[I].status?4:0;else{Ar("transaction at "+f.toString()+" failed: "+_);for(let I=0;I<e.length;I++)e[I].status=4,e[I].abortReason=_}Ag(n,t)}},c)}(n,zy(t),e)}else XR(t)&&OE(t,e=>{FE(n,e)})}function Ag(n,t){const e=dP(n,t),i=zy(e);return function G1(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const f=t[d],_=Zr(e,f.path);let I,E=!1;if((0,U.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)E=!0,I=f.abortReason,r=r.concat(Md(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)E=!0,I="maxretry",r=r.concat(Md(n.serverSyncTree_,f.currentWriteId,!0));else{const A=Cx(n,f.path,c);f.currentInputSnapshot=A;const R=t[d].update(A.val());if(void 0!==R){Ky("transaction failed: Data returned ",R,f.path);let k=oi(R);"object"==typeof R&&null!=R&&(0,U.r3)(R,".priority")||(k=k.updatePriority(A.getPriority()));const Y=f.currentWriteId,ne=qy(n),ue=fx(k,A,ne);f.currentOutputSnapshotRaw=k,f.currentOutputSnapshotResolved=ue,f.currentWriteId=LE(n),c.splice(c.indexOf(Y),1),r=r.concat(ox(n.serverSyncTree_,f.path,ue,f.currentWriteId,f.applyLocally)),r=r.concat(Md(n.serverSyncTree_,Y,!0))}else E=!0,I="nodata",r=r.concat(Md(n.serverSyncTree_,f.currentWriteId,!0))}qs(n.eventQueue_,e,r),r=[],E&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===I?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(I),!1,null)))}BE(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)yg(i[d]);FE(n,n.transactionQueueTree_)}(n,hP(n,e),i),i}function dP(n,t){let e,i=n.transactionQueueTree_;for(e=Vt(t);null!==e&&void 0===df(i);)i=PE(i,e),e=Vt(t=xn(t));return i}function hP(n,t){const e=[];return fP(n,t,e),e.sort((i,r)=>i.order-r.order),e}function fP(n,t,e){const i=df(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);OE(t,r=>{fP(n,r,e)})}function BE(n,t){const e=df(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,mx(t,e.length>0?e:void 0)}OE(t,i=>{BE(n,i)})}function Ix(n,t){const e=zy(dP(n,t)),i=PE(n.transactionQueueTree_,t);return function C1(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{Dx(n,r)}),Dx(n,i),JR(i,r=>{Dx(n,r)}),e}function Dx(n,t){const e=df(t);if(e){const i=[];let r=[],a=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,U.hu)(a===c-1,"All SENT items should be at beginning of queue."),a=c,e[c].status=3,e[c].abortReason="set"):((0,U.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Md(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===a?mx(t,void 0):e.length=a+1,qs(n.eventQueue_,zy(t),r);for(let c=0;c<i.length;c++)yg(i[c])}}const Sx=function(n,t){const e=Y1(n),i=e.namespace;return"firebase.com"===e.domain&&zl(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&zl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ar("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new TT(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new mn(e.pathString)}},Y1=function(n){let t="",e="",i="",r="",a="",c=!0,d="https",f=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let E=n.indexOf("/");-1===E&&(E=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),t=n.substring(0,Math.min(E,I)),E<I&&(r=function K1(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(E,I)));const A=function Z1(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ar(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,I)));_=t.indexOf(":"),_>=0?(c="https"===d||"wss"===d,f=parseInt(t.substring(_+1),10)):_=t.length;const R=t.slice(0,_);if("localhost"===R.toLowerCase())e="localhost";else if(R.split(".").length<=2)e=R;else{const k=t.indexOf(".");i=t.substring(0,k).toLowerCase(),e=t.substring(k+1),a=i}"ns"in A&&(a=A.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:a}};class pP{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Pz)(this.snapshot.exportVal())}}class gP{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Tx{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class mP{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new U.BH;return U1(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Bo("OnDisconnect.remove",this._path);const t=new U.BH;return cP(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Bo("OnDisconnect.set",this._path),Zl("OnDisconnect.set",t,this._path,!1);const e=new U.BH;return cP(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Bo("OnDisconnect.setWithPriority",this._path),Zl("OnDisconnect.setWithPriority",t,this._path,!1),vx("OnDisconnect.setWithPriority",e,!1);const i=new U.BH;return function V1(n,t,e,i,r){const a=oi(e,i);n.server_.onDisconnectPut(t.toString(),a.val(!0),(c,d)=>{"ok"===c&&Ig(n.onDisconnect_,t,a),Rd(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Bo("OnDisconnect.update",this._path),tP("OnDisconnect.update",t,this._path,!1);const e=new U.BH;return function j1(n,t,e,i){if((0,U.xb)(e))return tr("onDisconnect().update() called with empty data.  Don't do anything."),void Rd(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,a)=>{"ok"===r&&nr(e,(c,d)=>{const f=oi(d);Ig(n.onDisconnect_,qn(t,c),f)}),Rd(0,i,r,a)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Cs{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return jt(this._path)?null:OT(this._path)}get ref(){return new Uo(this._repo,this._path)}get _queryIdentifier(){const t=wR(this._queryParams),e=IT(t);return"{}"===e?"default":e}get _queryObject(){return wR(this._queryParams)}isEqual(t){if(!((t=(0,U.m9)(t))instanceof Cs))return!1;const e=this._repo===t._repo,i=kT(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Vk(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function UE(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Pd(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Kl){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Jc)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Gl)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===kn){if(null!=t&&!Gy(t)||null!=e&&!Gy(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(n.getIndex()instanceof UT||n.getIndex()===VT,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function VE(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Uo extends Cs{constructor(t,e){super(t,e,new gE,!1)}get parent(){const t=sR(this._path);return null===t?null:new Uo(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class hf{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new mn(t),i=ff(this.ref,t);return new hf(this._node.getChild(e),i,kn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new hf(r,ff(this.ref,i),kn)))}hasChild(t){const e=new mn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _P(n,t){return(n=(0,U.m9)(n))._checkNotDeleted("ref"),void 0!==t?ff(n._root,t):n._root}function yP(n,t){(n=(0,U.m9)(n))._checkNotDeleted("refFromURL");const e=Sx(t,n._repo.repoInfo_.nodeAdmin);nP("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&zl("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),_P(n,e.path.toString())}function ff(n,t){return null===Vt((n=(0,U.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Yy("child","path",e,!1)):Yy("child","path",t,!1),new Uo(n._repo,qn(n._path,t));var e}function xx(n,t){n=(0,U.m9)(n),Bo("set",n._path),Zl("set",t,n._path,!1);const e=new U.BH;return wx(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function eL(n,t){tP("update",t,n._path,!1);const e=new U.BH;return function F1(n,t,e,i){xg(n,"update",{path:t.toString(),value:e});let r=!0;const a=qy(n),c={};if(nr(e,(d,f)=>{r=!1,c[d]=QR(qn(t,d),oi(f),n.serverSyncTree_,a)}),r)tr("update() called with empty data.  Don't do anything."),Rd(0,i,"ok",void 0);else{const d=LE(n),f=function c1(n,t,e,i){!function SN(n,t,e,i){(0,U.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=QT(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Nn.fromObject(e);return Tg(n,new Dg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);NE(n.eventQueue_,f),n.server_.merge(t.toString(),e,(_,E)=>{const I="ok"===_;I||Ar("update at "+t+" failed: "+_);const A=Md(n.serverSyncTree_,d,!I),R=A.length>0?Ag(n,t):t;qs(n.eventQueue_,R,A),Rd(0,i,_,E)}),nr(e,_=>{const E=Ix(n,qn(t,_));Ag(n,E)}),qs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function tL(n){n=(0,U.m9)(n);const t=new Tx(()=>{}),e=new Qy(t);return function L1(n,t,e){const i=function p1(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(_,E)=>{const I=Zr(_,e);i=i||xd(E,I)});let r=n.syncPointTree_.get(e);r?i=i||xd(r,cn()):(r=new VR,n.syncPointTree_=n.syncPointTree_.set(e,r));const a=null!=i,c=a?new Sd(i,!0,!1):null;return function QN(n){return wE(n.viewCache_)}(jR(r,t,EE(n.pendingWriteTree_,t._path),a?c.getNode():At.EMPTY_NODE,a))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const a=oi(r).withIndex(t._queryParams.getIndex());let c;if(ax(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=Hy(n.serverSyncTree_,t._path,a);else{const d=$y(n.serverSyncTree_,t);c=GR(n.serverSyncTree_,t._path,a,d)}return qs(n.eventQueue_,t._path,c),AE(n.serverSyncTree_,t,e,null,!0),a},r=>(xg(n,"get for query "+(0,U.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new hf(i,new Uo(n._repo,n._path),n._queryParams.getIndex()))}class Qy{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new pP("value",this,new hf(t.snapshotNode,new Uo(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new gP(this,t,e):null}matches(t){return t instanceof Qy&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class jE{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new gP(this,t,e):null}createEvent(t,e){(0,U.hu)(null!=t.childName,"Child events should have a childName.");const i=ff(new Uo(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new pP(t.type,this,new hf(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof jE&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Xy(n,t,e,i,r){let a;if("object"==typeof i&&(a=void 0,r=i),"function"==typeof i&&(a=i),r&&r.onlyOnce){const f=e,_=(E,I)=>{Ex(n._repo,n,d),f(E,I)};_.userCallback=e.userCallback,_.context=e.context,e=_}const c=new Tx(e,a||void 0),d="value"===t?new Qy(c):new jE(t,c);return function H1(n,t,e){let i;i=".info"===Vt(t._path)?ax(n.infoSyncTree_,t,e):ax(n.serverSyncTree_,t,e),iP(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>Ex(n._repo,n,d)}function Ax(n,t,e,i){return Xy(n,"value",t,e,i)}function vP(n,t,e,i){return Xy(n,"child_added",t,e,i)}function bP(n,t,e,i){return Xy(n,"child_changed",t,e,i)}function wP(n,t,e,i){return Xy(n,"child_moved",t,e,i)}function EP(n,t,e,i){return Xy(n,"child_removed",t,e,i)}function CP(n,t,e){let i=null;const r=e?new Tx(e):null;"value"===t?i=new Qy(r):t&&(i=new jE(t,r)),Ex(n._repo,n,i)}class Pa{}class IP extends Pa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Zl("endAt",this._value,t._path,!0);const e=WT(t._queryParams,this._value,this._key);if(VE(e),Pd(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Cs(t._repo,t._path,e,t._orderByCalled)}}class iL extends Pa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Zl("endBefore",this._value,t._path,!1);const e=function fN(n,t,e){let i,r;return n.index_===Kl?("string"==typeof t&&(t=yR(t)),r=WT(n,t,e)):(i=null==e?Jc:yR(e),r=WT(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(VE(e),Pd(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Cs(t._repo,t._path,e,t._orderByCalled)}}class DP extends Pa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Zl("startAt",this._value,t._path,!0);const e=$T(t._queryParams,this._value,this._key);if(VE(e),Pd(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Cs(t._repo,t._path,e,t._orderByCalled)}}class oL extends Pa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Zl("startAfter",this._value,t._path,!1);const e=function hN(n,t,e){let i;if(n.index_===Kl)"string"==typeof t&&(t=_R(t)),i=$T(n,t,e);else{let r;r=null==e?Gl:_R(e),i=$T(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(VE(e),Pd(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Cs(t._repo,t._path,e,t._orderByCalled)}}class lL extends Pa{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Cs(t._repo,t._path,function uN(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class uL extends Pa{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Cs(t._repo,t._path,function dN(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class hL extends Pa{constructor(t){super(),this._path=t}_apply(t){UE(t,"orderByChild");const e=new mn(this._path);if(jt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new UT(e),r=mE(t._queryParams,i);return Pd(r),new Cs(t._repo,t._path,r,!0)}}class pL extends Pa{_apply(t){UE(t,"orderByKey");const e=mE(t._queryParams,Kl);return Pd(e),new Cs(t._repo,t._path,e,!0)}}class mL extends Pa{_apply(t){UE(t,"orderByPriority");const e=mE(t._queryParams,kn);return Pd(e),new Cs(t._repo,t._path,e,!0)}}class yL extends Pa{_apply(t){UE(t,"orderByValue");const e=mE(t._queryParams,VT);return Pd(e),new Cs(t._repo,t._path,e,!0)}}class bL extends Pa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Zl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new IP(this._value,this._key)._apply(new DP(this._value,this._key)._apply(t))}}function Oa(n,...t){let e=(0,U.m9)(n);for(const i of t)e=i._apply(e);return e}(function t1(n){(0,U.hu)(!SE,"__referenceConstructor has already been defined"),SE=n})(Uo),function o1(n){(0,U.hu)(!xE,"__referenceConstructor has already been defined"),xE=n}(Uo);const Mx={};function TP(n,t,e,i,r){let a=i||n.options.databaseURL;void 0===a&&(n.options.projectId||zl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tr("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,_,c=Sx(a,r),d=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(f=!0,a=`http://${_}?ns=${d.namespace}`,c=Sx(a,r),d=c.repoInfo):f=!c.repoInfo.secure;const E=r&&f?new My(My.OWNER):new gk(n.name,n.options,t);nP("Invalid Firebase Database URL",c),jt(c.path)||zl("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function DL(n,t,e,i){let r=Mx[t.name];r||(r={},Mx[t.name]=r);let a=r[n.toURLString()];return a&&zl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new O1(n,false,e,i),r[n.toURLString()]=a,a}(d,n,E,new pk(n.name,e));return new TL(I,n)}class TL{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function k1(n,t,e){if(n.stats_=MT(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new _E(n.repoInfo_,(i,r,a,c)=>{aP(n,i,r,a,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>lP(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new af(n.repoInfo_,t,(i,r,a,c)=>{aP(n,i,r,a,c)},i=>{lP(n,i)},i=>{!function N1(n,t){nr(t,(e,i)=>{bx(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function yk(n,t){const e=n.toString();return AT[e]||(AT[e]=t()),AT[e]}(n.repoInfo_,()=>new vN(n.stats_,n.server_)),n.infoData_=new pN,n.infoSyncTree_=new zR({startListening:(i,r,a,c)=>{let d=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(d=Hy(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),bx(n,"connected",!1),n.serverSyncTree_=new zR({startListening:(i,r,a,c)=>(n.server_.listen(i,a,r,(d,f)=>{const _=c(d,f);qs(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Uo(this._repo,cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function IL(n,t){const e=Mx[t];(!e||e[n.key]!==n)&&zl(`Database ${t}(${n.repoInfo_}) has already been deleted.`),uP(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&zl("Cannot call "+t+" on a deleted database.")}}function xP(){KM.IS_TRANSPORT_INITIALIZED&&Ar("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function xL(){xP(),Id.forceDisallow()}function AL(){xP(),vg.forceDisallow(),Id.forceAllow()}function OL(n,t){TM(n,t)}const NL={".sv":"timestamp"};class BL{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}af.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},af.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function kL(n){EM(ef.SDK_VERSION),(0,ef._registerComponent)(new Xh.wA("database",(t,{instanceIdentifier:e})=>TP(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ef.registerVersion)(bM,"0.13.6",n),(0,ef.registerVersion)(bM,"0.13.6","esm2017")}();const HL=new sE.Yd("@firebase/database-compat"),AP=function(n){HL.warn("FIREBASE WARNING: "+n)};class zL{constructor(t){this._delegate=t}cancel(t){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),a=>i(a)),r}update(t,e){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let a=0;a<t.length;++a)r[""+a]=t[a];t=r,AP("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class GL{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Od{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Yy("DataSnapshot.child","path",t,!1),new Od(this._database,this._delegate.child(t))}hasChild(t){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Yy("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Od(this._database,e)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new Qs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class br{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var a;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",e,!1);const c=br.getCancelAndContextArgs_("Query.on",i,r),d=(_,E)=>{e.call(c.context,new Od(this.database,_),E)};d.userCallback=e,d.context=c.context;const f=null===(a=c.cancel)||void 0===a?void 0:a.bind(c.context);switch(t){case"value":return Ax(this._delegate,d,f),e;case"child_added":return vP(this._delegate,d,f),e;case"child_removed":return EP(this._delegate,d,f),e;case"child_changed":return bP(this._delegate,d,f),e;case"child_moved":return wP(this._delegate,d,f),e;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,U.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,U.Wj)("Query.off","callback",e,!0),(0,U.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,CP(this._delegate,t,r)}else CP(this._delegate,t)}get(){return tL(this._delegate).then(t=>new Od(this.database,t))}once(t,e,i,r){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",e,!0);const a=br.getCancelAndContextArgs_("Query.once",i,r),c=new U.BH,d=(_,E)=>{const I=new Od(this.database,_);e&&e.call(a.context,I,E),c.resolve(I)};d.userCallback=e,d.context=a.context;const f=_=>{a.cancel&&a.cancel.call(a.context,_),c.reject(_)};switch(t){case"value":Ax(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":vP(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":EP(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":bP(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":wP(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new br(this.database,Oa(this._delegate,function cL(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new lL(n)}(t)))}limitToLast(t){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new br(this.database,Oa(this._delegate,function dL(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new uL(n)}(t)))}orderByChild(t){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new br(this.database,Oa(this._delegate,function fL(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Yy("orderByChild","path",n,!1),new hL(n)}(t)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new br(this.database,Oa(this._delegate,function gL(){return new pL}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new br(this.database,Oa(this._delegate,function _L(){return new mL}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new br(this.database,Oa(this._delegate,function vL(){return new yL}()))}startAt(t=null,e){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new br(this.database,Oa(this._delegate,function sL(n=null,t){return Zy("startAt","key",t,!0),new DP(n,t)}(t,e)))}startAfter(t=null,e){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new br(this.database,Oa(this._delegate,function aL(n,t){return Zy("startAfter","key",t,!0),new oL(n,t)}(t,e)))}endAt(t=null,e){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new br(this.database,Oa(this._delegate,function nL(n,t){return Zy("endAt","key",t,!0),new IP(n,t)}(t,e)))}endBefore(t=null,e){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new br(this.database,Oa(this._delegate,function rL(n,t){return Zy("endBefore","key",t,!0),new iL(n,t)}(t,e)))}equalTo(t,e){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new br(this.database,Oa(this._delegate,function wL(n,t){return Zy("equalTo","key",t,!0),new bL(n,t)}(t,e)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof br))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,U.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,U.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,U.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Qs(this.database,new Uo(this._delegate._repo,this._delegate._path))}}class Qs extends br{constructor(t,e){super(t,new Cs(e._repo,e._path,new gE,!1)),this.database=t,this._delegate=e}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Qs(this.database,ff(this._delegate,t))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Qs(this.database,t):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new Qs(this.database,this._delegate.root)}set(t,e){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",e,!0);const i=xx(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let a=0;a<t.length;++a)r[""+a]=t[a];t=r,AP("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Bo("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",e,!0);const i=eL(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function J1(n,t,e){if(Bo("setWithPriority",n._path),Zl("setWithPriority",t,n._path,!1),vx("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new U.BH;return wx(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),a=>i(a)),r}remove(t){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",t,!0);const e=function Q1(n){return Bo("remove",n._path),xx(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,U.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function UL(n,t,e){var i;if(n=(0,U.m9)(n),Bo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,a=new U.BH,d=Ax(n,()=>{});return function W1(n,t,e,i,r,a){xg(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:IM(),applyLocally:a,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=Cx(n,t,void 0);c.currentInputSnapshot=d;const f=c.update(d.val());if(void 0===f)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Ky("transaction failed: Data returned ",f,c.path),c.status=0;const _=PE(n.transactionQueueTree_,t),E=df(_)||[];let I;E.push(c),mx(_,E),"object"==typeof f&&null!==f&&(0,U.r3)(f,".priority")?(I=(0,U.DV)(f,".priority"),(0,U.hu)(Gy(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=(ME(n.serverSyncTree_,t)||At.EMPTY_NODE).getPriority().val();const A=qy(n),R=oi(f,I),k=fx(R,d,A);c.currentOutputSnapshotRaw=R,c.currentOutputSnapshotResolved=k,c.currentWriteId=LE(n);const j=ox(n.serverSyncTree_,t,k,c.currentWriteId,c.applyLocally);qs(n.eventQueue_,t,j),FE(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(f,_,E)=>{let I=null;f?a.reject(f):(I=new hf(E,new Uo(n._repo,n._path),kn),a.resolve(new BL(_,I)))},d,r),a.promise}(this._delegate,t,{applyLocally:i}).then(a=>new GL(a.committed,new Od(this.database,a.snapshot)));return e&&r.then(a=>e(null,a.committed,a.snapshot),a=>e(a,!1,null)),r}setPriority(t,e){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",e,!0);const i=function X1(n,t){n=(0,U.m9)(n),Bo("setPriority",n._path),vx("setPriority",t,!1);const e=new U.BH;return wx(n._repo,qn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",e,!0);const i=function q1(n,t){n=(0,U.m9)(n),Bo("push",n._path),Zl("push",t,n._path,!0);const e=oP(n._repo),i=oN(e),r=ff(n,i),a=ff(n,i);let c;return c=null!=t?xx(a,t).then(()=>a):Promise.resolve(a),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new Qs(this.database,c));e&&r.then(()=>e(null),c=>e(c));const a=new Qs(this.database,i);return a.then=r.then.bind(r),a.catch=r.catch.bind(r,void 0),a}onDisconnect(){return Bo("Reference.onDisconnect",this._delegate._path),new zL(new mP(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Jy{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:xL,forceLongPolling:AL}}useEmulator(t,e,i={}){!function ML(n,t,e,i={}){(n=(0,U.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&zl("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let a;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&zl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new My(My.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,U.Sg)(i.mockUserToken,n.app.options.projectId);a=new My(c)}!function CL(n,t,e,i){n.repoInfo_=new TT(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,a)}(this._delegate,t,e,i)}ref(t){if((0,U.Dv)("database.ref",0,1,arguments.length),t instanceof Qs){const e=yP(this._delegate,t.toString());return new Qs(this,e)}{const e=_P(this._delegate,t);return new Qs(this,e)}}refFromURL(t){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const i=yP(this._delegate,t);return new Qs(this,i)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function RL(n){(n=(0,U.m9)(n))._checkNotDeleted("goOffline"),uP(n._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function PL(n){(n=(0,U.m9)(n))._checkNotDeleted("goOnline"),function $1(n){n.persistentConnection_&&n.persistentConnection_.resume(sP)}(n._repo)}(this._delegate)}}Jy.ServerValue={TIMESTAMP:function LL(){return NL}(),increment:n=>function FL(n){return{".sv":{increment:n}}}(n)};var ZL=Object.freeze({__proto__:null,initStandalone:function KL({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:a=!1}){EM(e);const c=new Xh.zt("auth-internal",new Xh.H0("database-standalone"));return c.setComponent(new Xh.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Jy(TP(n,c,void 0,t,a),n),namespace:r}}});const YL=Jy.ServerValue;!function qL(n){n.INTERNAL.registerComponent(new Xh.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Jy(r,i)},"PUBLIC").setServiceProps({Reference:Qs,Query:br,Database:Jy,DataSnapshot:Od,enableLogging:OL,INTERNAL:ZL,ServerValue:YL}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.6")}(ik.Z);var HE=B(5363),QL=B(6063);class XL extends Ia.x{constructor(t=1/0,e=1/0,i=QL.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:c}=this;e||(i.push(t),!r&&i.push(a.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let c=0;c<a.length&&!t.closed;c+=i?1:2)t.next(a[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*t;if(t<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const c=e.now();let d=0;for(let f=1;f<i.length&&i[f]<=c;f+=2)d=f;d&&i.splice(0,d+1)}}}function MP(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,vM.B)({connector:()=>new XL(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function RP(n,t){return(0,Vh.m)(t)?ui(()=>n,t):ui(()=>n)}var Rx=B(9468);B(5867);const OP=new Map,iF={activated:!1,tokenObservers:[]},rF={initialized:!1,enabled:!1};function ir(n){return OP.get(n)||iF}function ka(n,t){OP.set(n,t)}function WE(){return rF}class cF{constructor(t,e,i,r,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Jh.Z)(function*(){e.stop();try{e.pending=new U.BH,yield function uF(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new U.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Yr=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function NP(n){if(!ir(n).activated)throw Yr.create("use-before-activation",{appName:n.name})}function Nx(n,t){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,Jh.Z)(function*({url:n,body:t},e){var i,r;const a={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const R=yield c.getHeartbeatsHeader();R&&(a["X-Firebase-Client"]=R)}const d={method:"POST",body:JSON.stringify(t),headers:a};let f,_;try{f=yield fetch(n,d)}catch(R){throw Yr.create("fetch-network-error",{originalErrorMessage:null===(i=R)||void 0===i?void 0:i.message})}if(200!==f.status)throw Yr.create("fetch-status-error",{httpStatus:f.status});try{_=yield f.json()}catch(R){throw Yr.create("fetch-parse-error",{originalErrorMessage:null===(r=R)||void 0===r?void 0:r.message})}const E=_.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Yr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const I=1e3*Number(E[1]),A=Date.now();return{token:_.token,expireTimeMillis:A+I,issuedAtTimeMillis:A}}),Lx.apply(this,arguments)}function pF(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const ev="firebase-app-check-store";let KE=null;function FP(){return KE||(KE=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;t(Yr.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ev,{keyPath:"compositeKey"})}}catch(i){t(Yr.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),KE)}function Fx(){return Fx=(0,Jh.Z)(function*(n,t){const i=(yield FP()).transaction(ev,"readwrite"),a=i.objectStore(ev).put({compositeKey:n,value:t});return new Promise((c,d)=>{a.onsuccess=f=>{c()},i.onerror=f=>{var _;d(Yr.create("storage-set",{originalErrorMessage:null===(_=f.target.error)||void 0===_?void 0:_.message}))}})}),Fx.apply(this,arguments)}const tv=new sE.Yd("@firebase/app-check");function jP(n,t){return(0,U.hl)()?function yF(n,t){return function BP(n,t){return Fx.apply(this,arguments)}(function VP(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{tv.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function HP(){return WE().enabled}function $P(){return jx.apply(this,arguments)}function jx(){return jx=(0,Jh.Z)(function*(){const n=WE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),jx.apply(this,arguments)}const IF={error:"UNKNOWN_ERROR"};function DF(n){return U.US.encodeString(JSON.stringify(n),!1)}function ZE(n){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,Jh.Z)(function*(n,t=!1){const e=n.app;NP(e);const i=ir(e);let a,r=i.token;if(!r){const f=yield i.cachedTokenPromise;f&&YE(f)&&(r=f)}if(!t&&r&&YE(r))return{token:r.token};let d,c=!1;if(HP()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Nx(pF(e,yield $P()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0);const f=yield i.exchangeTokenPromise;return yield jP(e,f),ka(e,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(f=>(i.exchangeTokenPromise=void 0,f)),c=!0),r=yield i.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?tv.warn(f.message):tv.error(f),a=f}return r?(d={token:r.token},ka(e,Object.assign(Object.assign({},i),{token:r})),yield jP(e,r)):d=TF(a),c&&zP(e,d),d}),Hx.apply(this,arguments)}function Wx(n,t){const e=ir(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ka(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function WP(n){const{app:t}=n,e=ir(t);let i=e.tokenRefresher;i||(i=function SF(n){const{app:t}=n;return new cF((0,Jh.Z)(function*(){let i;if(i=ir(t).token?yield ZE(n,!0):yield ZE(n),i.error)throw i.error}),()=>!0,()=>{const e=ir(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ka(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function zP(n,t){const e=ir(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function YE(n){return n.expireTimeMillis-Date.now()>0}function TF(n){return{token:DF(IF),error:n}}class xF{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ir(this.app);for(const e of t)Wx(this.app,e.next);return Promise.resolve()}}const JP="app-check-internal";!function HF(){(0,ef._registerComponent)(new Xh.wA("app-check",n=>function AF(n,t){return new xF(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(JP).initialize()})),(0,ef._registerComponent)(new Xh.wA(JP,n=>function MF(n){return{getToken:t=>ZE(n,t),addTokenListener:t=>function $x(n,t,e,i){const{app:r}=n,a=ir(r),c={next:e,error:i,type:t};if(ka(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&YE(a.token)){const d=a.token;Promise.resolve().then(()=>{e({token:d.token}),WP(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>WP(n))}(n,"INTERNAL",t),removeTokenListener:t=>Wx(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ef.registerVersion)("@firebase/app-check","0.5.12")}();class Zx{constructor(){return(0,No.vb)("app-check")}}typeof window<"u"&&window;var KF=B(127);const tO=new b.OlP("angularfire2.auth.use-emulator"),nO=new b.OlP("angularfire2.auth.settings"),iO=new b.OlP("angularfire2.auth.tenant-id"),rO=new b.OlP("angularfire2.auth.langugage-code"),sO=new b.OlP("angularfire2.auth.use-device-language"),oO=new b.OlP("angularfire.auth.persistence"),aO=(n,t,e,i,r,a,c,d)=>(0,Aa.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,a&&f.useDeviceLanguage(),c)for(const[_,E]of Object.entries(c))f.settings[_]=E;return d&&f.setPersistence(d),f},[e,i,r,a,c,d]);let lO=(()=>{class n{constructor(e,i,r,a,c,d,f,_,E,I,A,R){const k=new Ia.x,j=rt(void 0).pipe((0,HE.Q)(c.outsideAngular),ui(()=>a.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,2476)))),(0,xt.U)(()=>(0,Aa.on)(e,a,i)),(0,xt.U)(Y=>aO(Y,a,d,_,E,I,f,A)),MP({bufferSize:1,refCount:!1}));if(function pi(n){return"server"===n}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=rt(null);else{j.pipe(Da()).subscribe();const ne=j.pipe(ui(be=>be.getRedirectResult().then(we=>we,()=>null)),No.iC,MP({bufferSize:1,refCount:!1})),ue=j.pipe(ui(be=>new Nl.y(we=>({unsubscribe:a.runOutsideAngular(()=>be.onAuthStateChanged(Ue=>we.next(Ue),Ue=>we.error(Ue),()=>we.complete()))})))),Me=j.pipe(ui(be=>new Nl.y(we=>({unsubscribe:a.runOutsideAngular(()=>be.onIdTokenChanged(Ue=>we.next(Ue),Ue=>we.error(Ue),()=>we.complete()))}))));this.authState=ne.pipe(RP(ue),(0,Rx.R)(c.outsideAngular),(0,HE.Q)(c.insideAngular)),this.user=ne.pipe(RP(Me),(0,Rx.R)(c.outsideAngular),(0,HE.Q)(c.insideAngular)),this.idToken=this.user.pipe(ui(be=>be?(0,ci.D)(be.getIdToken()):rt(null))),this.idTokenResult=this.user.pipe(ui(be=>be?(0,ci.D)(be.getIdTokenResult()):rt(null))),this.credential=(0,bT.T)(ne,k,this.authState.pipe(Oo(be=>!be))).pipe((0,xt.U)(be=>be?.user?be:null),(0,Rx.R)(c.outsideAngular),(0,HE.Q)(c.insideAngular))}return(0,Aa.pX)(this,j,a,{spy:{apply:(Y,ne,ue)=>{(Y.startsWith("signIn")||Y.startsWith("createUser"))&&ue.then(Me=>k.next(Me))}}})}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(Aa.Dh),b.LFG(Aa.xv,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(No.HU),b.LFG(tO,8),b.LFG(nO,8),b.LFG(iO,8),b.LFG(rO,8),b.LFG(sO,8),b.LFG(oO,8),b.LFG(Zx,8))},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function cO(n){return null==n}function uO(n){return"function"==typeof n.set}function dO(n,t){return uO(t)?t:n.ref(t)}function hO(n,t){if(function YF(n){return"string"==typeof n}(n))return t.stringCase();if(uO(n))return t.firebaseCase();if(function qF(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function nv(n,t,e="on",i=JO.z){return new Nl.y(r=>{let a=null;return a=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=a&&n.off(t,a)}}:{unsubscribe(){}}}).pipe((0,xt.U)(r=>{const{snapshot:a,prevKey:c}=r;let d=null;return a.exists()&&(d=a.key),{type:t,payload:a,prevKey:c,key:d}}),(0,vM.B)())}function fO(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function JF(n,t){const{payload:e,prevKey:i,key:r}=t,a=fO(n,r),c=function XF(n,t){if(cO(t))return 0;{const e=fO(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(f=>{const _={payload:f,type:"value",prevKey:d,key:f.key};return d=f.key,n=[...n,_],!1})}return n;case"child_added":if(a>-1){const d=n[a-1];(d&&d.key||null)!==i&&(n=n.filter(f=>f.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(a>-1){const d=n.splice(a,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function pO(n){return(cO(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function gO(n,t,e){return function QF(n,t,e){return nv(n,"value","once",e).pipe(ui(i=>{const r=[rt(i)];return t.forEach(a=>r.push(nv(n,a,"on",e))),(0,bT.T)(...r).pipe(Fl(JF,[]))}),zc())}(n,t=pO(t),e)}function mO(n,t,e){const i=(t=pO(t)).map(r=>nv(n,r,"on",e));return(0,bT.T)(...i)}function _O(n,t){return function(i,r){return hO(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function i2(n){return function(e){return e?hO(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function yO(n,t){return function(){return nv(n,"value","on",t)}}const o2=new b.OlP("angularfire2.realtimeDatabaseURL"),a2=new b.OlP("angularfire2.database.use-emulator");let vO=(()=>{class n{constructor(e,i,r,a,c,d,f,_,E,I,A,R,k,j,Y){this.schedulers=d;const ne=f,ue=(0,Aa.on)(e,c,i);_&&aO(ue,c,E,A,R,k,I,j),this.database=(0,Aa.cc)(`${ue.name}.database.${r}`,"AngularFireDatabase",ue.name,()=>{const Me=c.runOutsideAngular(()=>ue.database(r||void 0));return ne&&Me.useEmulator(...ne),Me},[ne])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>dO(this.database,e));let a=r;return i&&(a=i(r)),function r2(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:_O(i,"update"),set:_O(i,"set"),push:r=>i.push(r),remove:i2(i),snapshotChanges:r=>gO(n,r,e).pipe(No.iC),stateChanges:r=>mO(n,r,e).pipe(No.iC),auditTrail:r=>function e2(n,t,e){return function n2(n,t,e){return function t2(n,t){return nv(n,"value","on",t).pipe((0,xt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function tk(...n){const t=(0,kl.jO)(n);return(0,ri.e)((e,i)=>{const r=n.length,a=new Array(r);let c=n.map(()=>!1),d=!1;for(let f=0;f<r;f++)(0,Hp.Xf)(n[f]).subscribe((0,Zn.x)(i,_=>{a[f]=_,!d&&!c[f]&&(c[f]=!0,(d=c.every(Zs.y))&&(c=null))},ek.Z));e.subscribe((0,Zn.x)(i,f=>{if(d){const _=[f,...a];i.next(t?t(..._):_)}}))})}(t),(0,xt.U)(([r,a])=>{const c=r.lastKeyToLoad,d=a.map(f=>f.key);return{actions:a,lastKeyToLoad:c,loadedKeys:d}}),function nk(n){return(0,ri.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Zn.x)(e,a=>(i||(i=!n(a,r++)))&&e.next(a)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,xt.U)(r=>r.actions))}(n,mO(n,t).pipe(Fl((r,a)=>[...r,a],[])),e)}(n,r,e).pipe(No.iC),valueChanges:(r,a)=>gO(n,r,e).pipe((0,xt.U)(d=>d.map(f=>a&&a.idField?Object.assign(Object.assign({},f.payload.val()),{[a.idField]:f.key}):f.payload.val())),No.iC)}}(a,this)}object(e){return function s2(n,t){return{query:n,snapshotChanges:()=>yO(n,t.schedulers.outsideAngular)().pipe(No.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>yO(n,t.schedulers.outsideAngular)().pipe(No.iC,(0,xt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>dO(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(Aa.Dh),b.LFG(Aa.xv,8),b.LFG(o2,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(No.HU),b.LFG(a2,8),b.LFG(lO,8),b.LFG(tO,8),b.LFG(nO,8),b.LFG(iO,8),b.LFG(rO,8),b.LFG(sO,8),b.LFG(oO,8),b.LFG(Zx,8))},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),l2=(()=>{class n{constructor(){KF.Z.registerVersion("angularfire",No.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=b.oAB({type:n}),n.\u0275inj=b.cJS({providers:[vO]}),n})(),c2=(()=>{class n{constructor(e){this.database=e}getValueFirebase(e){return this.database.object(e).valueChanges()}setValueFirebase(e,i){this.database.object(e).set(i)}}return n.\u0275fac=function(e){return new(e||n)(b.LFG(vO))},n.\u0275prov=b.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function u2(n,t){if(1&n&&b._UZ(0,"canvas",11),2&n){const e=b.oxw();b.Q6J("data",e.lineChartData)("options",e.lineChartOptions)("type",e.lineChartType)}}const d2=function(n){return{"info-heart__img--transform-scale":n}},h2=[{path:"home",component:(()=>{class n{constructor(e){this.serviceFirebase=e,this.urlRitmoCardiaco="ritmoCardiaco",this.ritmoCardiaco="",this.arraySensor=[],this.arraySensorLabel=[],this.urlRitmoCardiacoBoolean=!1,this.img="./assets/img/heart.jfif",this.lineChartData={datasets:[{data:this.arraySensor,label:"Ritmo cardiaco",backgroundColor:"rgba(148,159,177,0.2)",borderColor:"rgba(148,159,177,1)",pointBackgroundColor:"rgba(148,159,177,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)",fill:"origin"}],labels:this.arraySensorLabel},this.lineChartOptions={elements:{line:{tension:.5}},animation:{}},this.lineChartType="line",this.getLuz()}ngOnInit(){}generateNumber(e){return Math.floor(Math.random()*(e<2?100:1e3)+1)}getLuz(){this.serviceFirebase.getValueFirebase(this.urlRitmoCardiaco).subscribe(e=>{this.urlRitmoCardiacoBoolean=!this.urlRitmoCardiacoBoolean,this.ritmoCardiaco=e,this.arraySensor.push(e),this.arraySensorLabel.push(this.dateActual()),this.chart?.update()})}dateActual(){let e=new Date;return`${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`}}return n.\u0275fac=function(e){return new(e||n)(b.Y36(c2))},n.\u0275cmp=b.Xpm({type:n,selectors:[["app-main"]],viewQuery:function(e,i){if(1&e&&b.Gf(gw,5),2&e){let r;b.iGM(r=b.CRH())&&(i.chart=r.first)}},decls:13,vars:6,consts:[[1,"container-fluid","p-0"],[1,"navbar","navbar-dark","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],[1,"container","pt-5"],[1,"row"],[1,"col-12","col-md-3","info-heart"],["alt","",1,"info-heart__img",3,"src","ngClass"],[1,"info-heart__label"],[1,"col-12","col-md-9","grafic-heart"],["baseChart","",3,"data","options","type",4,"ngIf"],["baseChart","",3,"data","options","type"]],template:function(e,i){1&e&&(b.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),b._uU(4,"Medici\xf3n de ritmo cardiaco"),b.qZA()()(),b.TgZ(5,"div",4)(6,"div",5)(7,"div",6),b._UZ(8,"img",7),b.TgZ(9,"h2",8),b._uU(10),b.qZA()(),b.TgZ(11,"div",9),b.YNc(12,u2,1,3,"canvas",10),b.qZA()()()()),2&e&&(b.xp6(8),b.Q6J("src",i.img,b.LSH)("ngClass",b.VKq(4,d2,i.urlRitmoCardiacoBoolean)),b.xp6(2),b.Oqu(i.ritmoCardiaco),b.xp6(2),b.Q6J("ngIf",i.arraySensor.length>0))},dependencies:[nn,Jn,gw],styles:[".info-heart[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}@media (max-width: 575.98px){.info-heart[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-around;align-items:flex-start}}.info-heart__img[_ngcontent-%COMP%]{width:100px;transform:scale(1)}.info-heart__img--transform-scale[_ngcontent-%COMP%]{transform:scale(1.3)}.info-heart__label[_ngcontent-%COMP%]{padding-top:2rem}@media (max-width: 575.98px){.grafic-heart[_ngcontent-%COMP%]{margin-top:2rem}}"]}),n})()},{path:"**",pathMatch:"full",redirectTo:"home"}];let f2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=b.oAB({type:n}),n.\u0275inj=b.cJS({imports:[_M.forRoot(h2),_M]}),n})(),p2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=b.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&b._UZ(0,"router-outlet")},dependencies:[ag]}),n})();const bO_firebaseConfig={apiKey:"AIzaSyDS-DPRgF1PMXxgYUJGqsO2_n32IUoRHIk",authDomain:"iotclase-9566b.firebaseapp.com",databaseURL:"https://iotclase-9566b-default-rtdb.firebaseio.com",projectId:"iotclase-9566b",storageBucket:"iotclase-9566b.appspot.com",messagingSenderId:"282969351970",appId:"1:282969351970:web:1f6a462889220a05a7277b",measurementId:"G-H160X58Z0F"};let g2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=b.oAB({type:n,bootstrap:[p2]}),n.\u0275inj=b.cJS({imports:[wc,f2,Po,Aa.hO.initializeApp(bO_firebaseConfig),l2]}),n})();(0,b.G48)(),sl().bootstrapModule(g2).catch(n=>console.error(n))},5867:(nt,xe,B)=>{B.d(xe,{C6:()=>b.getApps,Mq:()=>b.getApp});var b=B(9681);(0,b.registerVersion)("firebase","9.10.0","app")},127:(nt,xe,B)=>{B.d(xe,{Z:()=>b.Z});var b=B(3942);b.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(nt,xe,B)=>{B.r(xe);var b=B(5861),re=B(3942),L=B(2090),de=B(9681),ae=B(655),pe=B(1877),fe=B(4859);const Ce=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Qe=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ve=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new pe.Yd("@firebase/auth");function Je(y,...p){Ye.logLevel<=pe.in.ERROR&&Ye.error(`Auth (${de.SDK_VERSION}): ${y}`,...p)}function Re(y,...p){throw $e(y,...p)}function Ee(y,...p){return $e(y,...p)}function De(y,p,m){const w=Object.assign(Object.assign({},Qe()),{[p]:m});return new L.LL("auth","Firebase",w).create(p,{appName:y.name})}function Ve(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Re(y,"argument-error"),De(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return ve.create(y,...p)}function $(y,p,...m){if(!y)throw $e(p,...m)}function ye(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Je(p),new Error(p)}function J(y,p){y||ye(p)}const ie=new Map;function le(y){J(y instanceof Function,"Expected a class definition");let p=ie.get(y);return p?(J(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ie.set(y,p),p)}function ke(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ct(){return"http:"===Lt()||"https:"===Lt()}function Lt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class sn{constructor(p,m){this.shortDelay=p,this.longDelay=m,J(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Mt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ct()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function An(y,p){J(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class $t{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},_i=new sn(3e4,6e4);function Ct(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function tn(y,p,m,w){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,b.Z)(function*(y,p,m,w,M={}){return Ai(y,M,(0,b.Z)(function*(){let N={},X={};w&&("GET"===p?X=w:N={body:JSON.stringify(w)});const he=(0,L.xO)(Object.assign({key:y.config.apiKey},X)).slice(1),Fe=yield y._getAdditionalHeaders();return Fe["Content-Type"]="application/json",y.languageCode&&(Fe["X-Firebase-Locale"]=y.languageCode),$t.fetch()(wr(y,y.config.apiHost,m,he),Object.assign({method:p,headers:Fe,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Ai(y,p,m){return hi.apply(this,arguments)}function hi(){return(hi=(0,b.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Wt),p);try{const M=new Ri(y),N=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const X=yield N.json();if("needConfirmation"in X)throw ji(y,"account-exists-with-different-credential",X);if(N.ok&&!("errorMessage"in X))return X;{const he=N.ok?X.errorMessage:X.error.message,[Fe,qe]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw ji(y,"credential-already-in-use",X);if("EMAIL_EXISTS"===Fe)throw ji(y,"email-already-in-use",X);if("USER_DISABLED"===Fe)throw ji(y,"user-disabled",X);const ft=w[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw De(y,ft,qe);Re(y,ft)}}catch(M){if(M instanceof L.ZR)throw M;Re(y,"network-request-failed")}})).apply(this,arguments)}function Mi(y,p,m,w){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,b.Z)(function*(y,p,m,w,M={}){const N=yield tn(y,p,m,w,M);return"mfaPendingCredential"in N&&Re(y,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function wr(y,p,m,w){const M=`${p}${m}?${w}`;return y.config.emulator?An(y.config,M):`${y.config.apiScheme}://${M}`}class Ri{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Ee(this.auth,"network-request-failed")),_i.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ji(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const M=Ee(y,p,w);return M.customData._tokenResponse=m,M}function Ze(){return(Ze=(0,b.Z)(function*(y,p){return tn(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Pi(y,p){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,b.Z)(function*(y,p){return tn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Mn(y,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,b.Z)(function*(y,p){return tn(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Oi(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function un(){return(un=(0,b.Z)(function*(y,p=!1){const m=(0,L.m9)(y),w=yield m.getIdToken(p),M=et(w);$(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,X=N?.sign_in_provider;return{claims:M,token:w,authTime:Oi(ut(M.auth_time)),issuedAtTime:Oi(ut(M.iat)),expirationTime:Oi(ut(M.exp)),signInProvider:X||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function ut(y){return 1e3*Number(y)}function et(y){var p;const[m,w,M]=y.split(".");if(void 0===m||void 0===w||void 0===M)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,L.tV)(w);return N?JSON.parse(N):(Je("Failed to decode base64 JWT payload"),null)}catch(N){return Je("Caught error parsing JWT payload as JSON",null===(p=N)||void 0===p?void 0:p.toString()),null}}function Qn(y,p){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,b.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof L.ZR&&yi(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function yi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class bt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,b.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,b.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class Rr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oi(this.lastLoginAt),this.creationTime=Oi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zt(y){return rr.apply(this,arguments)}function rr(){return(rr=(0,b.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),M=yield Qn(y,Mn(m,{idToken:w}));$(M?.users.length,m,"internal-error");const N=M.users[0];y._notifyReloadListener(N);const X=null!==(p=N.providerUserInfo)&&void 0!==p&&p.length?H(N.providerUserInfo):[],he=z(y.providerData,X),ft=!!y.isAnonymous&&!(y.email&&N.passwordHash||he?.length),at={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:he,metadata:new Rr(N.createdAt,N.lastLoginAt),isAnonymous:ft};Object.assign(y,at)})).apply(this,arguments)}function Q(){return(Q=(0,b.Z)(function*(y){const p=(0,L.m9)(y);yield Zt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function z(y,p){return[...y.filter(w=>!p.some(M=>M.providerId===w.providerId)),...p]}function H(y){return y.map(p=>{var{providerId:m}=p,w=(0,ae._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function q(){return(q=(0,b.Z)(function*(y,p){const m=yield Ai(y,{},(0,b.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:N}=y.config,X=wr(y,M,"/v1/token",`key=${N}`),he=yield y._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",$t.fetch()(X,{method:"POST",headers:he,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){$(p.idToken,"internal-error"),$(typeof p.idToken<"u","internal-error"),$(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function on(y){const p=et(y);return $(p,"internal-error"),$(typeof p.exp<"u","internal-error"),$(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,b.Z)(function*(){return $(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,b.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:X}=yield function K(y,p){return q.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(M,N,Number(X))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:M,expirationTime:N}=m,X=new Se;return w&&($("string"==typeof w,"internal-error",{appName:p}),X.refreshToken=w),M&&($("string"==typeof M,"internal-error",{appName:p}),X.accessToken=M),N&&($("number"==typeof N,"internal-error",{appName:p}),X.expirationTime=N),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Se,this.toJSON())}_performRefresh(){return ye("not implemented")}}function je(y,p){$("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class tt{constructor(p){var{uid:m,auth:w,stsTokenManager:M}=p,N=(0,ae._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Rr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,b.Z)(function*(){const w=yield Qn(m,m.stsTokenManager.getToken(m.auth,p));return $(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function Ln(y){return un.apply(this,arguments)}(this,p)}reload(){return function zt(y){return Q.apply(this,arguments)}(this)}_assign(p){this!==p&&($(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new tt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,b.Z)(function*(){let M=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield Zt(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,b.Z)(function*(){const m=yield p.getIdToken();return yield Qn(p,function Js(y,p){return Ze.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,M,N,X,he,Fe,qe,ft;const at=null!==(w=m.displayName)&&void 0!==w?w:void 0,Sn=null!==(M=m.email)&&void 0!==M?M:void 0,Vi=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,wl=null!==(X=m.photoURL)&&void 0!==X?X:void 0,$f=null!==(he=m.tenantId)&&void 0!==he?he:void 0,Ws=null!==(Fe=m._redirectEventId)&&void 0!==Fe?Fe:void 0,Bu=null!==(qe=m.createdAt)&&void 0!==qe?qe:void 0,Xg=null!==(ft=m.lastLoginAt)&&void 0!==ft?ft:void 0,{uid:Io,emailVerified:Uu,isAnonymous:oh,providerData:Wf,stsTokenManager:zf}=m;$(Io&&zf,p,"internal-error");const uv=Se.fromJSON(this.name,zf);$("string"==typeof Io,p,"internal-error"),je(at,p.name),je(Sn,p.name),$("boolean"==typeof Uu,p,"internal-error"),$("boolean"==typeof oh,p,"internal-error"),je(Vi,p.name),je(wl,p.name),je($f,p.name),je(Ws,p.name),je(Bu,p.name),je(Xg,p.name);const ah=new tt({uid:Io,auth:p,email:Sn,emailVerified:Uu,displayName:at,isAnonymous:oh,photoURL:wl,phoneNumber:Vi,tenantId:$f,stsTokenManager:uv,createdAt:Bu,lastLoginAt:Xg});return Wf&&Array.isArray(Wf)&&(ah.providerData=Wf.map(_a=>Object.assign({},_a))),Ws&&(ah._redirectEventId=Ws),ah}static _fromIdTokenResponse(p,m,w=!1){return(0,b.Z)(function*(){const M=new Se;M.updateFromServerResponse(m);const N=new tt({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:w});return yield Zt(N),N})()}}const Yt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(m,w){var M=this;return(0,b.Z)(function*(){M.storage[m]=w})()}_get(m){var w=this;return(0,b.Z)(function*(){const M=w.storage[m];return void 0===M?null:M})()}_remove(m){var w=this;return(0,b.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function $n(y,p,m){return`firebase:${y}:${p}:${m}`}class Rt{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:M,name:N}=this.auth;this.fullUserKey=$n(this.userKey,M.apiKey,N),this.fullPersistenceKey=$n("persistence",M.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,b.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?tt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,b.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,b.Z)(function*(){if(!m.length)return new Rt(le(Yt),p,w);const M=(yield Promise.all(m.map(function(){var qe=(0,b.Z)(function*(ft){if(yield ft._isAvailable())return ft});return function(ft){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let N=M[0]||le(Yt);const X=$n(w,p.config.apiKey,p.name);let he=null;for(const qe of m)try{const ft=yield qe._get(X);if(ft){const at=tt._fromJSON(p,ft);qe!==N&&(he=at),N=qe;break}}catch{}const Fe=M.filter(qe=>qe._shouldAllowMigration);return N._shouldAllowMigration&&Fe.length?(N=Fe[0],he&&(yield N._set(X,he.toJSON())),yield Promise.all(m.map(function(){var qe=(0,b.Z)(function*(ft){if(ft!==N)try{yield ft._remove(X)}catch{}});return function(ft){return qe.apply(this,arguments)}}())),new Rt(N,p,w)):new Rt(N,p,w)})()}}function It(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(vi(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(_n(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(We(p))return"Blackberry";if(gt(p))return"Webos";if(Fn(p))return"Safari";if((p.includes("chrome/")||Er(p))&&!p.includes("edge/"))return"Chrome";if(Bn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function _n(y=(0,L.z$)()){return/firefox\//i.test(y)}function Fn(y=(0,L.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Er(y=(0,L.z$)()){return/crios\//i.test(y)}function vi(y=(0,L.z$)()){return/iemobile/i.test(y)}function Bn(y=(0,L.z$)()){return/android/i.test(y)}function We(y=(0,L.z$)()){return/blackberry/i.test(y)}function gt(y=(0,L.z$)()){return/webos/i.test(y)}function Xt(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Is(y=(0,L.z$)()){return Xt(y)||Bn(y)||gt(y)||We(y)||/windows phone/i.test(y)||vi(y)}function Xr(y,p=[]){let m;switch(y){case"Browser":m=It((0,L.z$)());break;case"Worker":m=`${It((0,L.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${de.SDK_VERSION}/${w}`}class eo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=N=>new Promise((X,he)=>{try{X(p(N))}catch(Fe){he(Fe)}});w.onAbort=m,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,b.Z)(function*(){var w;if(m.auth.currentUser===p)return;const M=[];try{for(const N of m.queue)yield N(p),N.onAbort&&M.push(N.onAbort)}catch(N){M.reverse();for(const X of M)try{X()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=N)||void 0===w?void 0:w.message})}})()}}class Dt{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ds(this),this.idTokenSubscription=new Ds(this),this.beforeStateQueue=new eo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ve,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=le(m)),this._initializationPromise=this.queue((0,b.Z)(function*(){var M,N;if(!w._deleted&&(w.persistenceManager=yield Rt.create(w,p),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,b.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,b.Z)(function*(){var w;const M=yield m.assertedPersistence.getCurrentUser();let N=M,X=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const he=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Fe=N?._redirectEventId,qe=yield m.tryRedirectSignIn(p);(!he||he===Fe)&&qe?.user&&(N=qe.user,X=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(X)try{yield m.beforeStateQueue.runMiddleware(N)}catch(he){N=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(he))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return $(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(p){var m=this;return(0,b.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,b.Z)(function*(){var w;try{yield Zt(p)}catch(M){if("auth/network-request-failed"!==(null===(w=M)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ge(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,b.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,b.Z)(function*(){const w=p?(0,L.m9)(p):null;return w&&$(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,b.Z)(function*(){if(!w._deleted)return p&&$(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,b.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,b.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,b.Z)(function*(){yield m.assertedPersistence.setPersistence(le(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,b.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,b.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&le(p)||m._popupRedirectResolver;$(w,m,"argument-error"),m.redirectPersistenceManager=yield Rt.create(m,[le(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,b.Z)(function*(){var w,M;return m._isInitialized&&(yield m.queue((0,b.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,b.Z)(function*(){if(p===m.currentUser)return m.queue((0,b.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,M){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),X=this._isInitialized?Promise.resolve():this._initializationPromise;return $(X,this,"internal-error"),X.then(()=>N(this.currentUser)),"function"==typeof m?p.addObserver(m,w,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,b.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Xr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,b.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return M&&(w["X-Firebase-Client"]=M),w})()}}function yn(y){return(0,L.m9)(y)}class Ds{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Cr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Jr(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class ai{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ye("not implemented")}_getIdTokenResponse(p){return ye("not implemented")}_linkToIdToken(p,m){return ye("not implemented")}_getReauthenticationResolver(p){return ye("not implemented")}}function Vn(y,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,b.Z)(function*(y,p){return tn(y,"POST","/v1/accounts:resetPassword",Ct(y,p))})).apply(this,arguments)}function nn(y,p){return ql.apply(this,arguments)}function ql(){return(ql=(0,b.Z)(function*(y,p){return tn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ql(y,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,b.Z)(function*(y,p){return tn(y,"POST","/v1/accounts:update",Ct(y,p))})).apply(this,arguments)}function to(){return(to=(0,b.Z)(function*(y,p){return Mi(y,"POST","/v1/accounts:signInWithPassword",Ct(y,p))})).apply(this,arguments)}function ts(y,p){return or.apply(this,arguments)}function or(){return(or=(0,b.Z)(function*(y,p){return tn(y,"POST","/v1/accounts:sendOobCode",Ct(y,p))})).apply(this,arguments)}function Jn(y,p){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,b.Z)(function*(y,p){return ts(y,p)})).apply(this,arguments)}function ei(y,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,b.Z)(function*(y,p){return ts(y,p)})).apply(this,arguments)}function La(y,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,b.Z)(function*(y,p){return ts(y,p)})).apply(this,arguments)}function Jl(y,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,b.Z)(function*(y,p){return ts(y,p)})).apply(this,arguments)}function tu(){return(tu=(0,b.Z)(function*(y,p){return Mi(y,"POST","/v1/accounts:signInWithEmailLink",Ct(y,p))})).apply(this,arguments)}function ec(){return(ec=(0,b.Z)(function*(y,p){return Mi(y,"POST","/v1/accounts:signInWithEmailLink",Ct(y,p))})).apply(this,arguments)}class tc extends ai{constructor(p,m,w,M=null){super("password",w),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new tc(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new tc(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,b.Z)(function*(){switch(m.signInMethod){case"password":return function Vo(y,p){return to.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function kd(y,p){return tu.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Re(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,b.Z)(function*(){switch(w.signInMethod){case"password":return nn(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Nd(y,p){return ec.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Re(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function zn(y,p){return nu.apply(this,arguments)}function nu(){return(nu=(0,b.Z)(function*(y,p){return Mi(y,"POST","/v1/accounts:signInWithIdp",Ct(y,p))})).apply(this,arguments)}class Pr extends ai{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Pr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Re("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M}=m,N=(0,ae._T)(m,["providerId","signInMethod"]);if(!w||!M)return null;const X=new Pr(w,M);return X.idToken=N.idToken||void 0,X.accessToken=N.accessToken||void 0,X.secret=N.secret,X.nonce=N.nonce,X.pendingToken=N.pendingToken||null,X}_getIdTokenResponse(p){return zn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,zn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,zn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function mf(y,p){return iu.apply(this,arguments)}function iu(){return(iu=(0,b.Z)(function*(y,p){return tn(y,"POST","/v1/accounts:sendVerificationCode",Ct(y,p))})).apply(this,arguments)}function ns(){return(ns=(0,b.Z)(function*(y,p){return Mi(y,"POST","/v1/accounts:signInWithPhoneNumber",Ct(y,p))})).apply(this,arguments)}function ru(){return(ru=(0,b.Z)(function*(y,p){const m=yield Mi(y,"POST","/v1/accounts:signInWithPhoneNumber",Ct(y,p));if(m.temporaryProof)throw ji(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const yf={USER_NOT_FOUND:"user-not-found"};function su(){return(su=(0,b.Z)(function*(y,p){return Mi(y,"POST","/v1/accounts:signInWithPhoneNumber",Ct(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),yf)})).apply(this,arguments)}class is extends ai{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new is({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new is({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function nc(y,p){return ns.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function _f(y,p){return ru.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function vf(y,p){return su.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:N}=p;return w||m||M||N?new is({verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:N}):null}}class Fa{constructor(p){var m,w,M,N,X,he;const Fe=(0,L.zd)((0,L.pd)(p)),qe=null!==(m=Fe.apiKey)&&void 0!==m?m:null,ft=null!==(w=Fe.oobCode)&&void 0!==w?w:null,at=function ou(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Fe.mode)&&void 0!==M?M:null);$(qe&&ft&&at,"argument-error"),this.apiKey=qe,this.operation=at,this.code=ft,this.continueUrl=null!==(N=Fe.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(X=Fe.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(he=Fe.tenantId)&&void 0!==he?he:null}static parseLink(p){const m=function au(y){const p=(0,L.zd)((0,L.pd)(y)).link,m=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||m||p||y}(p);try{return new Fa(m)}catch{return null}}}let Ir=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return tc._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const M=Fa.parseLink(w);return $(M,"argument-error"),tc._fromEmailAndCode(m,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Or{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class kr extends Or{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ts extends kr{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return $("providerId"in m&&"signInMethod"in m,"argument-error"),Pr._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return $(p.idToken||p.accessToken,"argument-error"),Pr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ts.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ts.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:N,nonce:X,providerId:he}=p;if(!w&&!M&&!m&&!N||!he)return null;try{return new Ts(he)._credential({idToken:m,accessToken:w,nonce:X,pendingToken:N})}catch{return null}}}let Ho=(()=>{class y extends kr{constructor(){super("facebook.com")}static credential(m){return Pr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ba=(()=>{class y extends kr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Pr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:M}=m;if(!w&&!M)return null;try{return y.credential(w,M)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ic=(()=>{class y extends kr{constructor(){super("github.com")}static credential(m){return Pr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class $o extends ai{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return zn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,zn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,zn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M,pendingToken:N}=m;return w&&M&&N&&w===M?new $o(w,N):null}static _create(p,m){return new $o(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wi extends Or{constructor(p){$(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Wi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Wi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=$o.fromJSON(p);return $(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return $o._create(w,m)}catch{return null}}}let ki=(()=>{class y extends kr{constructor(){super("twitter.com")}static credential(m,w){return Pr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=m;if(!w||!M)return null;try{return y.credential(w,M)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function no(y,p){return lu.apply(this,arguments)}function lu(){return(lu=(0,b.Z)(function*(y,p){return Mi(y,"POST","/v1/accounts:signUp",Ct(y,p))})).apply(this,arguments)}class pi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,M=!1){return(0,b.Z)(function*(){const N=yield tt._fromIdTokenResponse(p,w,M),X=Bd(w);return new pi({user:N,providerId:X,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,b.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const M=Bd(w);return new pi({user:p,providerId:M,_tokenResponse:w,operationType:m})})()}}function Bd(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function wn(){return(wn=(0,b.Z)(function*(y){var p;const m=yn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new pi({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield no(m,{returnSecureToken:!0}),M=yield pi._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ua extends L.ZR{constructor(p,m,w,M){var N;super(m.code,m.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,Ua.prototype),this.customData={appName:p.name,tenantId:null!==(N=p.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,M){return new Ua(p,m,w,M)}}function Vd(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Ua._fromErrorAndOperation(y,N,p,w):N})}function zi(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Va(){return(Va=(0,b.Z)(function*(y,p){const m=(0,L.m9)(y);yield Ft(!0,m,p);const{providerUserInfo:w}=yield Pi(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=zi(w||[]);return m.providerData=m.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function io(y,p){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,b.Z)(function*(y,p,m=!1){const w=yield Qn(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return pi._forOperation(y,"link",w)})).apply(this,arguments)}function Ft(y,p,m){return ja.apply(this,arguments)}function ja(){return(ja=(0,b.Z)(function*(y,p,m){yield Zt(p);const M=!1===y?"provider-already-linked":"no-such-provider";$(zi(p.providerData).has(m)===y,p.auth,M)})).apply(this,arguments)}function xs(y,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,b.Z)(function*(y,p,m=!1){var w;const{auth:M}=y,N="reauthenticate";try{const X=yield Qn(y,Vd(M,N,p,y),m);$(X.idToken,M,"internal-error");const he=et(X.idToken);$(he,M,"internal-error");const{sub:Fe}=he;return $(y.uid===Fe,M,"user-mismatch"),pi._forOperation(y,N,X)}catch(X){throw"auth/user-not-found"===(null===(w=X)||void 0===w?void 0:w.code)&&Re(M,"user-mismatch"),X}})).apply(this,arguments)}function ar(y,p){return $a.apply(this,arguments)}function $a(){return($a=(0,b.Z)(function*(y,p,m=!1){const w="signIn",M=yield Vd(y,w,p),N=yield pi._fromIdTokenResponse(y,w,M);return m||(yield y._updateCurrentUser(N.user)),N})).apply(this,arguments)}function bn(y,p){return wt.apply(this,arguments)}function wt(){return(wt=(0,b.Z)(function*(y,p){return ar(yn(y),p)})).apply(this,arguments)}function Wa(y,p){return jd.apply(this,arguments)}function jd(){return(jd=(0,b.Z)(function*(y,p){const m=(0,L.m9)(y);return yield Ft(!1,m,p.providerId),io(m,p)})).apply(this,arguments)}function za(y,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,b.Z)(function*(y,p){return xs((0,L.m9)(y),p)})).apply(this,arguments)}function rc(y,p){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,b.Z)(function*(y,p){return Mi(y,"POST","/v1/accounts:signInWithCustomToken",Ct(y,p))})).apply(this,arguments)}function Wo(){return(Wo=(0,b.Z)(function*(y,p){const m=yn(y),w=yield rc(m,{token:p,returnSecureToken:!0}),M=yield pi._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ae{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Pt._fromServerResponse(p,m):Re(p,"internal-error")}}class Pt extends Ae{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Pt(m)}}function oc(y,p,m){var w;$((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),$(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&($(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&($(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function En(){return(En=(0,b.Z)(function*(y,p,m){const w=(0,L.m9)(y),M={requestType:"PASSWORD_RESET",email:p};m&&oc(w,M,m),yield ei(w,M)})).apply(this,arguments)}function ro(){return(ro=(0,b.Z)(function*(y,p,m){yield Vn((0,L.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function zo(){return(zo=(0,b.Z)(function*(y,p){yield Ql((0,L.m9)(y),{oobCode:p})})).apply(this,arguments)}function Go(y,p){return lc.apply(this,arguments)}function lc(){return(lc=(0,b.Z)(function*(y,p){const m=(0,L.m9)(y),w=yield Vn(m,{oobCode:p}),M=w.requestType;switch($(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$(w.mfaInfo,m,"internal-error");default:$(w.email,m,"internal-error")}let N=null;return w.mfaInfo&&(N=Ae._fromServerResponse(yn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function cu(){return(cu=(0,b.Z)(function*(y,p){const{data:m}=yield Go((0,L.m9)(y),p);return m.email})).apply(this,arguments)}function Cn(){return(Cn=(0,b.Z)(function*(y,p,m){const w=yn(y),M=yield no(w,{returnSecureToken:!0,email:p,password:m}),N=yield pi._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(N.user),N})).apply(this,arguments)}function As(){return(As=(0,b.Z)(function*(y,p,m){const w=(0,L.m9)(y),M={requestType:"EMAIL_SIGNIN",email:p};$(m.handleCodeInApp,w,"argument-error"),m&&oc(w,M,m),yield La(w,M)})).apply(this,arguments)}function Zo(){return(Zo=(0,b.Z)(function*(y,p,m){const w=(0,L.m9)(y),M=Ir.credentialWithLink(p,m||ke());return $(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),bn(w,M)})).apply(this,arguments)}function wf(y,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,b.Z)(function*(y,p){return tn(y,"POST","/v1/accounts:createAuthUri",Ct(y,p))})).apply(this,arguments)}function Yo(){return(Yo=(0,b.Z)(function*(y,p){const w={identifier:p,continueUri:ct()?ke():"http://localhost"},{signinMethods:M}=yield wf((0,L.m9)(y),w);return M||[]})).apply(this,arguments)}function qo(){return(qo=(0,b.Z)(function*(y,p){const m=(0,L.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&oc(m.auth,M,p);const{email:N}=yield Jn(m.auth,M);N!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ya(){return(Ya=(0,b.Z)(function*(y,p,m){const w=(0,L.m9)(y),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&oc(w.auth,N,m);const{email:X}=yield Jl(w.auth,N);X!==y.email&&(yield y.reload())})).apply(this,arguments)}function qa(y,p){return pc.apply(this,arguments)}function pc(){return(pc=(0,b.Z)(function*(y,p){return tn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function mc(){return(mc=(0,b.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,L.m9)(y),N={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},X=yield Qn(w,qa(w.auth,N));w.displayName=X.displayName||null,w.photoURL=X.photoUrl||null;const he=w.providerData.find(({providerId:Fe})=>"password"===Fe);he&&(he.displayName=w.displayName,he.photoURL=w.photoURL),yield w._updateTokensIfNecessary(X)})).apply(this,arguments)}function Rs(y,p,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,b.Z)(function*(y,p,m){const{auth:w}=y,N={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(N.email=p),m&&(N.password=m);const X=yield Qn(y,nn(w,N));yield y._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Ni{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class gn extends Ni{constructor(p,m,w,M){super(p,m,w),this.username=M}}class du extends Ni{constructor(p,m){super(p,"facebook.com",m)}}class _c extends gn{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Hd extends Ni{constructor(p,m){super(p,"google.com",m)}}class yc extends gn{constructor(p,m,w){super(p,"twitter.com",m,w)}}function Xa(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Gn(y){var p,m;if(!y)return null;const{providerId:w}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},N=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const X=null===(m=null===(p=et(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(X)return new Ni(N,"anonymous"!==X&&"custom"!==X?X:null)}if(!w)return null;switch(w){case"facebook.com":return new du(N,M);case"github.com":return new _c(N,M);case"google.com":return new Hd(N,M);case"twitter.com":return new yc(N,M,y.screenName||null);case"custom":case"anonymous":return new Ni(N,null);default:return new Ni(N,w,M)}}(m)}class Ps{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new Ps("enroll",p,m)}static _fromMfaPendingCredential(p){return new Ps("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ps._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Ps._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ja{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=yn(p),M=m.customData._serverResponse,N=(M.mfaInfo||[]).map(he=>Ae._fromServerResponse(w,he));$(M.mfaPendingCredential,w,"internal-error");const X=Ps._fromMfaPendingCredential(M.mfaPendingCredential);return new Ja(X,N,function(){var he=(0,b.Z)(function*(Fe){const qe=yield Fe._process(w,X);delete M.mfaInfo,delete M.mfaPendingCredential;const ft=Object.assign(Object.assign({},M),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(m.operationType){case"signIn":const at=yield pi._fromIdTokenResponse(w,m.operationType,ft);return yield w._updateCurrentUser(at.user),at;case"reauthenticate":return $(m.user,w,"internal-error"),pi._forOperation(m.user,m.operationType,ft);default:Re(w,"internal-error")}});return function(Fe){return he.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,b.Z)(function*(){return m.signInResolver(p)})()}}function el(y,p){return tn(y,"POST","/v2/accounts/mfaEnrollment:start",Ct(y,p))}class $d{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Ae._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new $d(p)}getSession(){var p=this;return(0,b.Z)(function*(){return Ps._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,b.Z)(function*(){const M=p,N=yield w.getSession(),X=yield Qn(w.user,M._process(w.user.auth,N,m));return yield w.user._updateTokensIfNecessary(X),w.user.reload()})()}unenroll(p){var m=this;return(0,b.Z)(function*(){var w;const M="string"==typeof p?p:p.uid,N=yield m.user.getIdToken(),X=yield Qn(m.user,function gu(y,p){return tn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ct(y,p))}(m.user.auth,{idToken:N,mfaEnrollmentId:M}));m.enrolledFactors=m.enrolledFactors.filter(({uid:he})=>he!==M),yield m.user._updateTokensIfNecessary(X);try{yield m.user.reload()}catch(he){if("auth/user-token-expired"!==(null===(w=he)||void 0===w?void 0:w.code))throw he}})()}}const lo=new WeakMap,Os="__sak";class nl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Os,"1"),this.storage.removeItem(Os),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xo=(()=>{class y extends nl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qo(){const y=(0,L.z$)();return Fn(y)||Xt(y)}()&&function pn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Is(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),N=this.localCache[w];M!==N&&m(w,N,M)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((he,Fe,qe)=>{this.notifyListeners(he,qe)});const M=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(M);if(m.newValue!==he)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!w)return}const N=()=>{const he=this.storage.getItem(M);!w&&this.localCache[M]===he||this.notifyListeners(M,he)},X=this.storage.getItem(M);!function Wn(){return(0,L.w1)()&&10===document.documentMode}()||X===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var M=()=>super._set,N=this;return(0,b.Z)(function*(){yield M().call(N,m,w),N.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,M=this;return(0,b.Z)(function*(){const N=yield w().call(M,m);return M.localCache[m]=JSON.stringify(N),N})()}_remove(m){var w=()=>super._remove,M=this;return(0,b.Z)(function*(){yield w().call(M,m),delete M.localCache[m]})()}}return y.type="LOCAL",y})(),Sr=(()=>{class y extends nl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let yu=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(N=>N.isListeningto(m));if(w)return w;const M=new y(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,b.Z)(function*(){const M=m,{eventId:N,eventType:X,data:he}=M.data,Fe=w.handlersMap[X];if(!Fe?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:X});const qe=Array.from(Fe).map(function(){var at=(0,b.Z)(function*(Sn){return Sn(M.origin,he)});return function(Sn){return at.apply(this,arguments)}}()),ft=yield function ea(y){return Promise.all(y.map(function(){var p=(0,b.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(qe);M.ports[0].postMessage({status:"done",eventId:N,eventType:X,response:ft})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ta(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class bc{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var M=this;return(0,b.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let X,he;return new Promise((Fe,qe)=>{const ft=ta("",20);N.port1.start();const at=setTimeout(()=>{qe(new Error("unsupported_event"))},w);he={messageChannel:N,onMessage(Sn){const Vi=Sn;if(Vi.data.eventId===ft)switch(Vi.data.status){case"ack":clearTimeout(at),X=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Fe(Vi.data.response);break;default:clearTimeout(at),clearTimeout(X),qe(new Error("invalid_response"))}}},M.handlers.add(he),N.port1.addEventListener("message",he.onMessage),M.target.postMessage({eventType:p,eventId:ft,data:m},[N.port2])}).finally(()=>{he&&M.removeMessageHandler(he)})})()}}function Pn(){return window}function il(){return typeof Pn().WorkerGlobalScope<"u"&&"function"==typeof Pn().importScripts}function na(){return(na=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const os="firebaseLocalStorageDb",as="firebaseLocalStorage",wc="fbase_key";class Ns{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ia(y,p){return y.transaction([as],p?"readwrite":"readonly").objectStore(as)}function uo(){const y=indexedDB.open(os,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(as,{keyPath:wc})}catch(M){m(M)}}),y.addEventListener("success",(0,b.Z)(function*(){const w=y.result;w.objectStoreNames.contains(as)?p(w):(w.close(),yield function bu(){const y=indexedDB.deleteDatabase(os);return new Ns(y).toPromise()}(),p(yield uo()))}))})}function Ur(y,p,m){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,b.Z)(function*(y,p,m){const w=ia(y,!0).put({[wc]:p,value:m});return new Ns(w).toPromise()})).apply(this,arguments)}function ra(){return(ra=(0,b.Z)(function*(y,p){const m=ia(y,!1).get(p),w=yield new Ns(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ls(y,p){const m=ia(y,!0).delete(p);return new Ns(m).toPromise()}const ho=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,b.Z)(function*(){return m.db||(m.db=yield uo()),m.db})()}_withRetries(m){var w=this;return(0,b.Z)(function*(){let M=0;for(;;)try{const N=yield w._openDb();return yield m(N)}catch(N){if(M++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,b.Z)(function*(){return il()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,b.Z)(function*(){m.receiver=yu._getInstance(function sl(){return il()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,b.Z)(function*(M,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(M,N){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,b.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,b.Z)(function*(){var w,M;if(m.activeServiceWorker=yield function ks(){return na.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new bc(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(w=N[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,b.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function rl(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const m=yield uo();return yield Ur(m,Os,"1"),yield Ls(m,Os),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,b.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var M=this;return(0,b.Z)(function*(){return M._withPendingWrite((0,b.Z)(function*(){return yield M._withRetries(N=>Ur(N,m,w)),M.localCache[m]=w,M.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,b.Z)(function*(){const M=yield w._withRetries(N=>function ol(y,p){return ra.apply(this,arguments)}(N,m));return w.localCache[m]=M,M})()}_remove(m){var w=this;return(0,b.Z)(function*(){return w._withPendingWrite((0,b.Z)(function*(){return yield w._withRetries(M=>Ls(M,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,b.Z)(function*(){const w=yield m._withRetries(X=>{const he=ia(X,!1).getAll();return new Ns(he).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:X,value:he}of w)N.add(X),JSON.stringify(m.localCache[X])!==JSON.stringify(he)&&(m.notifyListeners(X,he),M.push(X));for(const X of Object.keys(m.localCache))m.localCache[X]&&!N.has(X)&&(m.notifyListeners(X,null),M.push(X));return M})()}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function fo(y,p){return tn(y,"POST","/v2/accounts/mfaSignIn:start",Ct(y,p))}function cs(){return(cs=(0,b.Z)(function*(y){return(yield tn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function go(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=M=>{const N=Ee("internal-error");N.customData=M,m(N)},w.type="text/javascript",w.charset="UTF-8",function po(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function cl(y){return`__${y}${Math.floor(1e6*Math.random())}`}const sa=1e12;class hn{constructor(p){this.auth=p,this.counter=sa,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Ef(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||sa;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||sa))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,b.Z)(function*(){var w;return null===(w=m._widgets.get(p||sa))||void 0===w||w.execute(),""})()}}class Ef{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;$(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pg(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cf=cl("rcb"),Og=new sn(3e4,6e4);class Wd{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Pn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return $(function rv(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Pn().grecaptcha):new Promise((w,M)=>{const N=Pn().setTimeout(()=>{M(Ee(p,"network-request-failed"))},Og.get());Pn()[Cf]=()=>{Pn().clearTimeout(N),delete Pn()[Cf];const he=Pn().grecaptcha;if(!he)return void M(Ee(p,"internal-error"));const Fe=he.render;he.render=(qe,ft)=>{const at=Fe(qe,ft);return this.counter++,at},this.hostLanguage=m,w(he)},go(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Cf,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),M(Ee(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Pn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ic{load(p){return(0,b.Z)(function*(){return new hn(p)})()}clearedOneInstance(){}}const Ng="recaptcha",Lg={theme:"light",type:"image"};class ni{constructor(p,m=Object.assign({},Lg),w){this.parameters=m,this.type=Ng,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(w),this.isInvisible="invisible"===this.parameters.size,$(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;$(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ic:new Wd,this.validateStartingState()}verify(){var p=this;return(0,b.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(N=>{const X=he=>{!he||(p.tokenChangeListeners.delete(X),N(he))};p.tokenChangeListeners.add(X),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){$(!this.parameters.sitekey,this.auth,"argument-error"),$(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Pn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){$(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,b.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,b.Z)(function*(){$(ct()&&!il(),p.auth,"internal-error"),yield function cr(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Li(y){return cs.apply(this,arguments)}(p.auth);$(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return $(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _o{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=is._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Jt(){return(Jt=(0,b.Z)(function*(y,p,m){const w=yn(y),M=yield us(w,p,(0,L.m9)(m));return new _o(M,N=>bn(w,N))})).apply(this,arguments)}function Gt(){return(Gt=(0,b.Z)(function*(y,p,m){const w=(0,L.m9)(y);yield Ft(!1,w,"phone");const M=yield us(w.auth,p,(0,L.m9)(m));return new _o(M,N=>Wa(w,N))})).apply(this,arguments)}function Et(){return(Et=(0,b.Z)(function*(y,p,m){const w=(0,L.m9)(y),M=yield us(w.auth,p,(0,L.m9)(m));return new _o(M,N=>za(w,N))})).apply(this,arguments)}function us(y,p,m){return oa.apply(this,arguments)}function oa(){return(oa=(0,b.Z)(function*(y,p,m){var w;const M=yield m.verify();try{let N;if($("string"==typeof M,y,"argument-error"),$(m.type===Ng,y,"argument-error"),N="string"==typeof p?{phoneNumber:p}:p,"session"in N){const X=N.session;if("phoneNumber"in N)return $("enroll"===X.type,y,"internal-error"),(yield el(y,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{$("signin"===X.type,y,"internal-error");const he=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return $(he,y,"missing-multi-factor-info"),(yield fo(y,{mfaPendingCredential:X.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield mf(y,{phoneNumber:N.phoneNumber,recaptchaToken:M});return X}}finally{m._reset()}})).apply(this,arguments)}function Kt(){return(Kt=(0,b.Z)(function*(y,p){yield io((0,L.m9)(y),p)})).apply(this,arguments)}let Bs=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=yn(m)}verifyPhoneNumber(m,w){return us(this.auth,m,(0,L.m9)(w))}static credential(m,w){return is._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:M}=m;return w&&M?is._fromTokenResponse(w,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Vr(y,p){return p?le(p):($(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class aa extends ai{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return zn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return zn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return zn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Bi(y){return ar(y.auth,new aa(y),y.bypassAuthState)}function jr(y){const{auth:p,user:m}=y;return $(m,p,"internal-error"),xs(m,new aa(y),y.bypassAuthState)}function Ki(y){return ul.apply(this,arguments)}function ul(){return(ul=(0,b.Z)(function*(y){const{auth:p,user:m}=y;return $(m,p,"internal-error"),io(m,new aa(y),y.bypassAuthState)})).apply(this,arguments)}class dl{constructor(p,m,w,M,N=!1){this.auth=p,this.resolver=w,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,b.Z)(function*(w,M){p.pendingPromise={resolve:w,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(N){p.reject(N)}});return function(w,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,b.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:N,tenantId:X,error:he,type:Fe}=p;if(he)return void m.reject(he);const qe={auth:m.auth,requestUri:w,sessionId:M,tenantId:X||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Fe)(qe))}catch(ft){m.reject(ft)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Bi;case"linkViaPopup":case"linkViaRedirect":return Ki;case"reauthViaPopup":case"reauthViaRedirect":return jr;default:Re(this.auth,"internal-error")}}resolve(p){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hl=new sn(2e3,1e4);function la(){return(la=(0,b.Z)(function*(y,p,m){const w=yn(y);Ve(y,p,Or);const M=Vr(w,m);return new Us(w,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function fl(){return(fl=(0,b.Z)(function*(y,p,m){const w=(0,L.m9)(y);Ve(w.auth,p,Or);const M=Vr(w.auth,m);return new Us(w.auth,"reauthViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}function Zi(){return(Zi=(0,b.Z)(function*(y,p,m){const w=(0,L.m9)(y);Ve(w.auth,p,Or);const M=Vr(w.auth,m);return new Us(w.auth,"linkViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}let Us=(()=>{class y extends dl{constructor(m,w,M,N,X){super(m,w,N,X),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,b.Z)(function*(){const w=yield m.execute();return $(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,b.Z)(function*(){J(1===m.filter.length,"Popup operations only handle one event");const w=ta();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,hl.get())};m()}}return y.currentPopupAction=null,y})();const Ut=new Map;class qt extends dl{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,b.Z)(function*(){let w=Ut.get(m.auth._key());if(!w){try{const N=(yield function pl(y,p){return Yi.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(N)}catch(M){w=()=>Promise.reject(M)}Ut.set(m.auth._key(),w)}return m.bypassAuthState||Ut.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,b.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const M=yield w.auth._redirectUserForId(p.eventId);if(M)return w.user=M,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function Yi(){return(Yi=(0,b.Z)(function*(y,p){const m=dr(p),w=jn(y);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(m));return yield w._remove(m),M})).apply(this,arguments)}function Dc(y,p){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,b.Z)(function*(y,p){return jn(y)._set(dr(p),"true")})).apply(this,arguments)}function Vs(y,p){Ut.set(y._key(),p)}function jn(y){return le(y._redirectPersistence)}function dr(y){return $n("pendingRedirect",y.config.apiKey,y.name)}function S(){return(S=(0,b.Z)(function*(y,p,m){const w=yn(y);Ve(y,p,Or);const M=Vr(w,m);return yield Dc(M,w),M._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,b.Z)(function*(y,p,m){const w=(0,L.m9)(y);Ve(w.auth,p,Or);const M=Vr(w.auth,m);yield Dc(M,w.auth);const N=yield it(w);return M._openRedirect(w.auth,p,"reauthViaRedirect",N)})).apply(this,arguments)}function Te(){return(Te=(0,b.Z)(function*(y,p,m){const w=(0,L.m9)(y);Ve(w.auth,p,Or);const M=Vr(w.auth,m);yield Ft(!1,w,p.providerId),yield Dc(M,w.auth);const N=yield it(w);return M._openRedirect(w.auth,p,"linkViaRedirect",N)})).apply(this,arguments)}function st(){return(st=(0,b.Z)(function*(y,p){return yield yn(y)._initializationPromise,mt(y,p,!1)})).apply(this,arguments)}function mt(y,p){return dt.apply(this,arguments)}function dt(){return(dt=(0,b.Z)(function*(y,p,m=!1){const w=yn(y),M=Vr(w,p),X=yield new qt(w,M,m).execute();return X&&!m&&(delete X.user._redirectEventId,yield w._persistUserIfCurrent(X.user),yield w._setRedirectUser(null,p)),X})).apply(this,arguments)}function it(y){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,b.Z)(function*(y){const p=ta(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Ei{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function yo(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gi(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!gi(p)){const M=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ds(p))}saveEventToCache(p){this.cachedEventUids.add(ds(p)),this.lastProcessedEventTime=Date.now()}}function ds(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function gi({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function hs(y){return fs.apply(this,arguments)}function fs(){return(fs=(0,b.Z)(function*(y,p={}){return tn(y,"GET","/v1/projects",p)})).apply(this,arguments)}const vo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ps=/^https?/;function Fg(){return(Fg=(0,b.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield hs(y);for(const m of p)try{if(Df(m))return}catch{}Re(y,"unauthorized-domain")})).apply(this,arguments)}function Df(y){const p=ke(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const X=new URL(y);return""===X.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&X.hostname===w}if(!ps.test(m))return!1;if(vo.test(y))return w===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const Sf=new sn(3e4,6e4);function Tf(){const y=Pn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Kn=null;function Bg(y){return Kn=Kn||function gl(y){return new Promise((p,m)=>{var w,M,N;function X(){Tf(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Tf(),m(Ee(y,"network-request-failed"))},timeout:Sf.get()})}if(null!==(M=null===(w=Pn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(N=Pn().gapi)||void 0===N||!N.load){const he=cl("iframefcb");return Pn()[he]=()=>{gapi.load?X():m(Ee(y,"network-request-failed"))},go(`https://apis.google.com/js/api.js?onload=${he}`).catch(Fe=>m(Fe))}X()}}).catch(p=>{throw Kn=null,p})}(y),Kn}const Gd=new sn(5e3,15e3),Vg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xc(y){const p=y.config;$(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?An(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:de.SDK_VERSION},M=wu.get(y.config.apiHost);M&&(w.eid=M);const N=y._getFrameworks();return N.length&&(w.fw=N.join(",")),`${m}?${(0,L.xO)(w).slice(1)}`}function hr(){return hr=(0,b.Z)(function*(y){const p=yield Bg(y),m=Pn().gapi;return $(m,y,"internal-error"),p.open({where:document.body,url:xc(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vg,dontclear:!0},w=>new Promise(function(){var M=(0,b.Z)(function*(N,X){yield w.restyle({setHideOnLeave:!1});const he=Ee(y,"network-request-failed"),Fe=Pn().setTimeout(()=>{X(he)},Gd.get());function qe(){Pn().clearTimeout(Fe),N(w)}w.ping(qe).then(qe,()=>{X(he)})});return function(N,X){return M.apply(this,arguments)}}()))}),hr.apply(this,arguments)}const da={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ha{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Eu(y,p,m,w,M,N){$(y.config.authDomain,y,"auth-domain-config-required"),$(y.config.apiKey,y,"invalid-api-key");const X={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:de.SDK_VERSION,eventId:M};if(p instanceof Or){p.setDefaultLanguage(y.languageCode),X.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Fe,qe]of Object.entries(N||{}))X[Fe]=qe}if(p instanceof kr){const Fe=p.getScopes().filter(qe=>""!==qe);Fe.length>0&&(X.scopes=Fe.join(","))}y.tenantId&&(X.tid=y.tenantId);const he=X;for(const Fe of Object.keys(he))void 0===he[Fe]&&delete he[Fe];return`${function jg({config:y}){return y.emulator?An(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(he).slice(1)}`}const Zd="webStorageSupport";class gs extends class $g{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new gs(p)}_finalizeEnroll(p,m,w){return function tl(y,p){return tn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ct(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function ll(y,p){return tn(y,"POST","/v2/accounts/mfaSignIn:finalize",Ct(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Mc=(()=>{class y{constructor(){}static assertion(m){return gs._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Cu="@firebase/auth";class Rf{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,b.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var M;p((null===(M=w)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bo(){return window}function Iu(){return(Iu=(0,b.Z)(function*(y,p,m){var w;const{BuildInfo:M}=bo();J(p.sessionId,"AuthEvent did not contain a session ID");const N=yield kf(p.sessionId),X={};return Xt()?X.ibi=M.packageName:Bn()?X.apn=M.packageName:Re(y,"operation-not-supported-in-this-environment"),M.displayName&&(X.appDisplayName=M.displayName),X.sessionId=N,Eu(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,X)})).apply(this,arguments)}function Rc(){return(Rc=(0,b.Z)(function*(y){const{BuildInfo:p}=bo(),m={};Xt()?m.iosBundleId=p.packageName:Bn()?m.androidPackageName=p.packageName:Re(y,"operation-not-supported-in-this-environment"),yield hs(y,m)})).apply(this,arguments)}function Du(){return(Du=(0,b.Z)(function*(y,p,m){const{cordova:w}=bo();let M=()=>{};try{yield new Promise((N,X)=>{let he=null;function Fe(){var at;N();const Sn=null===(at=w.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Sn&&Sn(),"function"==typeof m?.close&&m.close()}function qe(){he||(he=window.setTimeout(()=>{X(Ee(y,"redirect-cancelled-by-user"))},2e3))}function ft(){"visible"===document?.visibilityState&&qe()}p.addPassiveListener(Fe),document.addEventListener("resume",qe,!1),Bn()&&document.addEventListener("visibilitychange",ft,!1),M=()=>{p.removePassiveListener(Fe),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",ft,!1),he&&window.clearTimeout(he)}})}finally{M()}})).apply(this,arguments)}function kf(y){return Su.apply(this,arguments)}function Su(){return(Su=(0,b.Z)(function*(y){const p=Oc(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Oc(y){if(J(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}!function ov(y){(0,de._registerComponent)(new fe.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),{apiKey:N,authDomain:X}=w.options;return((he,Fe)=>{$(N&&!N.includes(":"),"invalid-api-key",{appName:he.name}),$(!X?.includes(":"),"argument-error",{appName:he.name});const qe={apiKey:N,authDomain:X,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xr(y)},ft=new Dt(he,Fe,qe);return function Ne(y,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(le);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(ft,m),ft})(w,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new fe.wA("auth-internal",p=>{const m=yn(p.getProvider("auth").getImmediate());return new Rf(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Cu,"0.20.7",function sv(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,de.registerVersion)(Cu,"0.20.7","esm2017")}("Browser");class _l extends Ei{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,b.Z)(function*(){yield p.initPromise})()}}function Kg(y){return fa.apply(this,arguments)}function fa(){return(fa=(0,b.Z)(function*(y){const p=yield xu()._get(kc(y));return p&&(yield xu()._remove(kc(y))),p})).apply(this,arguments)}function Lf(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function xu(){return le(Xo)}function kc(y){return $n("authEvent",y.config.apiKey,y.name)}function Eo(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,L.zd)(m.join("?"))}function Ff(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function pa(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function vl(y=(0,L.z$)()){return!("file:"!==pa()&&"ionic:"!==pa()&&"capacitor:"!==pa()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ms(){try{const y=self.localStorage,p=ta();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Lc(y=(0,L.z$)()){return function Xd(){return(0,L.w1)()&&11===document?.documentMode}()||function cv(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch{return Ru()&&(0,L.hl)()}return!1}function Ru(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pu(){return(function Uf(){return"http:"===pa()||"https:"===pa()}()||(0,L.ru)()||vl())&&!function Mu(){return(0,L.b$)()||(0,L.UG)()}()&&ms()&&!Ru()}function ga(){return vl()&&typeof document<"u"}function Ou(){return(Ou=(0,b.Z)(function*(){return!!ga()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Ui={LOCAL:"local",NONE:"none",SESSION:"session"},bl=$,Jd="persistence";function ii(y){return On.apply(this,arguments)}function On(){return(On=(0,b.Z)(function*(y){yield y._initializationPromise;const p=jf(),m=$n(Jd,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function jf(){var y;try{return(null===(y=function Vf(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const _s=$;class pr{constructor(){this.browserResolver=le(class Hg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sr,this._completeRedirectFn=mt,this._overrideRedirectResult=Vs}_openPopup(p,m,w,M){var N=this;return(0,b.Z)(function*(){var X;J(null===(X=N.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const he=Eu(p,m,w,ke(),M);return function Kd(y,p,m,w=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),X=Math.max((window.screen.availWidth-w)/2,0).toString();let he="";const Fe=Object.assign(Object.assign({},da),{width:w.toString(),height:M.toString(),top:N,left:X}),qe=(0,L.z$)().toLowerCase();m&&(he=Er(qe)?"_blank":m),_n(qe)&&(p=p||"http://localhost",Fe.scrollbars="yes");const ft=Object.entries(Fe).reduce((Sn,[Vi,wl])=>`${Sn}${Vi}=${wl},`,"");if(function sr(y=(0,L.z$)()){var p;return Xt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(qe)&&"_self"!==he)return function Af(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",he),new ha(null);const at=window.open(p||"",he,ft);$(at,y,"popup-blocked");try{at.focus()}catch{}return new ha(at)}(p,he,ta())})()}_openRedirect(p,m,w,M){var N=this;return(0,b.Z)(function*(){return yield N._originValidation(p),function lr(y){Pn().location.href=y}(Eu(p,m,w,ke(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:N}=this.eventManagers[m];return M?Promise.resolve(M):(J(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,b.Z)(function*(){const w=yield function ml(y){return hr.apply(this,arguments)}(p),M=new Ei(p);return w.register("authEvent",N=>($(N?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=w,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Zd,{type:Zd},M=>{var N;const X=null===(N=M?.[0])||void 0===N?void 0:N[Zd];void 0!==X&&m(!!X),Re(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Sc(y){return Fg.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Is()||Fn()||Xt()}}),this.cordovaResolver=le(class Zg{constructor(){this._redirectPersistence=Sr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mt,this._overrideRedirectResult=Vs}_initialize(p){var m=this;return(0,b.Z)(function*(){const w=p._key();let M=m.eventManagers.get(w);return M||(M=new _l(p),m.eventManagers.set(w,M),m.attachCallbackListeners(p,M)),M})()}_openPopup(p){Re(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,M){var N=this;return(0,b.Z)(function*(){!function Of(y){var p,m,w,M,N,X,he,Fe,qe,ft;const at=bo();$("function"==typeof(null===(p=at?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$(typeof(null===(m=at?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$("function"==typeof(null===(N=null===(M=null===(w=at?.cordova)||void 0===w?void 0:w.plugins)||void 0===M?void 0:M.browsertab)||void 0===N?void 0:N.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(Fe=null===(he=null===(X=at?.cordova)||void 0===X?void 0:X.plugins)||void 0===he?void 0:he.browsertab)||void 0===Fe?void 0:Fe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(ft=null===(qe=at?.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===ft?void 0:ft.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const X=yield N._initialize(p);yield X.initialized(),X.resetRedirect(),function ua(){Ut.clear()}(),yield N._originValidation(p);const he=function Tu(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Lf(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(p,w,M);yield function Gg(y,p){return xu()._set(kc(y),p)}(p,he);const Fe=yield function zg(y,p,m){return Iu.apply(this,arguments)}(p,he,m),qe=yield function xr(y){const{cordova:p}=bo();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let M=null;w?p.plugins.browsertab.openUrl(y):M=p.InAppBrowser.open(y,function $i(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(M)})})}(Fe);return function Pc(y,p,m){return Du.apply(this,arguments)}(p,X,qe)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Pf(y){return Rc.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:M,BuildInfo:N}=bo(),X=setTimeout((0,b.Z)(function*(){yield Kg(p),m.onEvent(Ff())}),500),he=function(){var ft=(0,b.Z)(function*(at){clearTimeout(X);const Sn=yield Kg(p);let Vi=null;Sn&&at?.url&&(Vi=function Nf(y,p){var m,w;const M=function yl(y){const p=Eo(y),m=p.link?decodeURIComponent(p.link):void 0,w=Eo(m).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Eo(M).link||M||w||m||y}(p);if(M.includes("/__/auth/callback")){const N=Eo(M),X=N.firebaseError?function wo(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,he=null===(w=null===(m=X?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Fe=he?Ee(he):null;return Fe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(Sn,at.url)),m.onEvent(Vi||Ff())});return function(Sn){return ft.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,he);const Fe=M,qe=`${N.packageName.toLowerCase()}://`;bo().handleOpenURL=function(){var ft=(0,b.Z)(function*(at){if(at.toLowerCase().startsWith(qe)&&he({url:at}),"function"==typeof Fe)try{Fe(at)}catch(Sn){console.error(Sn)}});return function(at){return ft.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Sr,this._completeRedirectFn=mt,this._overrideRedirectResult=Vs}_initialize(p){var m=this;return(0,b.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,M){var N=this;return(0,b.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(p,m,w,M)})()}_openRedirect(p,m,w,M){var N=this;return(0,b.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(p,m,w,M)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return ga()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _s(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,b.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Yg(){return Ou.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function ma(y){return y.unwrap()}function Nu(y){return Lu(y)}function Lu(y){const{_tokenResponse:p}=y instanceof L.ZR?y.customData:y;if(!p)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Bs.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=Ba;break;case"facebook.com":w=Ho;break;case"github.com":w=ic;break;case"twitter.com":w=ki;break;default:const{oauthIdToken:M,oauthAccessToken:N,oauthTokenSecret:X,pendingToken:he,nonce:Fe}=p;return N||X||M||he?he?m.startsWith("saml.")?$o._create(m,he):Pr._fromParams({providerId:m,signInMethod:m,pendingToken:he,idToken:M,accessToken:N}):new Ts(m).credential({idToken:M,accessToken:N,rawNonce:Fe}):null}return y instanceof L.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Ci(y,p){return p.catch(m=>{throw m instanceof L.ZR&&function $s(y,p){var m,w;const M=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new nh(y,function In(y,p){var m;const w=(0,L.m9)(y),M=p;return $(p.customData.operationType,w,"argument-error"),$(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Ja._fromError(w,M)}(y,p));else if(M){const N=Lu(p),X=p;N&&(X.credential=N,X.tenantId=M.tenantId||void 0,X.email=M.email||void 0,X.phoneNumber=M.phoneNumber||void 0)}}(y,m),m}).then(m=>{const M=m.user;return{operationType:m.operationType,credential:Nu(m),additionalUserInfo:Xa(m),user:qi.getOrCreate(M)}})}function eh(y,p){return th.apply(this,arguments)}function th(){return(th=(0,b.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Ci(y,m.confirm(w))}})).apply(this,arguments)}class nh{constructor(p,m){this.resolver=m,this.auth=function ku(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ci(ma(this.auth),this.resolver.resolveSignIn(p))}}class qi{constructor(p){this._delegate=p,this.multiFactor=function co(y){const p=(0,L.m9)(y);return lo.has(p)||lo.set(p,$d._fromUser(p)),lo.get(p)}(p)}static getOrCreate(p){return qi.USER_MAP.has(p)||qi.USER_MAP.set(p,new qi(p)),qi.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,b.Z)(function*(){return Ci(m.auth,Wa(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,b.Z)(function*(){return eh(w.auth,function _t(y,p,m){return Gt.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,b.Z)(function*(){return Ci(m.auth,function ur(y,p,m){return Zi.apply(this,arguments)}(m._delegate,p,pr))})()}linkWithRedirect(p){var m=this;return(0,b.Z)(function*(){return yield ii(yn(m.auth)),function ee(y,p,m){return function ce(y,p,m){return Te.apply(this,arguments)}(y,p,m)}(m._delegate,p,pr)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,b.Z)(function*(){return Ci(m.auth,za(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return eh(this.auth,function Fi(y,p,m){return Et.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Ci(this.auth,function If(y,p,m){return fl.apply(this,arguments)}(this._delegate,p,pr))}reauthenticateWithRedirect(p){var m=this;return(0,b.Z)(function*(){return yield ii(yn(m.auth)),function T(y,p,m){return function P(y,p,m){return V.apply(this,arguments)}(y,p,m)}(m._delegate,p,pr)})()}sendEmailVerification(p){return function hc(y,p){return qo.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,b.Z)(function*(){return yield function wi(y,p){return Va.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function uu(y,p){return Rs((0,L.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Ms(y,p){return Rs((0,L.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function fn(y,p){return Kt.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function gc(y,p){return mc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function fc(y,p,m){return Ya.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qi.USER_MAP=new WeakMap;const Fc=$;let Fu=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=m.options;Fc(M,"invalid-api-key",{appName:m.name}),Fc(M,"invalid-api-key",{appName:m.name});const N=typeof window<"u"?pr:void 0;this._delegate=w.initialize({options:{persistence:qg(M,m.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Yl(y,p,m){const w=yn(y);$(w._canInitEmulator,w,"emulator-config-failed"),$(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const M=!!m?.disableWarnings,N=Cr(p),{host:X,port:he}=function Un(y){const p=Cr(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const N=M[1];return{host:N,port:Jr(w.substr(N.length+1))}}{const[N,X]=w.split(":");return{host:N,port:Jr(X)}}}(p);w.config.emulator={url:`${N}//${X}${null===he?"":`:${he}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:X,port:he,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function es(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function Gi(y,p){return zo.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Go(this._delegate,m)}confirmPasswordReset(m,w){return function Ka(y,p,m){return ro.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var M=this;return(0,b.Z)(function*(){return Ci(M._delegate,function Ko(y,p,m){return Cn.apply(this,arguments)}(M._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Za(y,p){return Yo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Br(y,p){return"EMAIL_SIGNIN"===Fa.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,b.Z)(function*(){Fc(Pu(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function He(y,p){return st.apply(this,arguments)}(m._delegate,pr);return w?Ci(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Au(y,p){yn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,M){const{next:N,error:X,complete:he}=ih(m,w,M);return this._delegate.onAuthStateChanged(N,X,he)}onIdTokenChanged(m,w,M){const{next:N,error:X,complete:he}=ih(m,w,M);return this._delegate.onIdTokenChanged(N,X,he)}sendSignInLinkToEmail(m,w){return function uc(y,p,m){return As.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function ac(y,p,m){return En.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,b.Z)(function*(){let M;switch(function Hs(y,p){bl(Object.values(Ui).includes(p),y,"invalid-persistence-type"),(0,L.b$)()?bl(p!==Ui.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?bl(p===Ui.NONE,y,"unsupported-persistence-type"):Ru()?bl(p===Ui.NONE||p===Ui.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):bl(p===Ui.NONE||ms(),y,"unsupported-persistence-type")}(w._delegate,m),m){case Ui.SESSION:M=Sr;break;case Ui.LOCAL:M=(yield le(ho)._isAvailable())?ho:Xo;break;case Ui.NONE:M=Yt;break;default:return Re("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ci(this._delegate,function Ud(y){return wn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ci(this._delegate,bn(this._delegate,m))}signInWithCustomToken(m){return Ci(this._delegate,function sc(y,p){return Wo.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Ci(this._delegate,function Dr(y,p,m){return bn((0,L.m9)(y),Ir.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Ci(this._delegate,function bf(y,p,m){return Zo.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return eh(this._delegate,function Bt(y,p,m){return Jt.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,b.Z)(function*(){return Fc(Pu(),w._delegate,"operation-not-supported-in-this-environment"),Ci(w._delegate,function Tr(y,p,m){return la.apply(this,arguments)}(w._delegate,m,pr))})()}signInWithRedirect(m){var w=this;return(0,b.Z)(function*(){return Fc(Pu(),w._delegate,"operation-not-supported-in-this-environment"),yield ii(w._delegate),function Dn(y,p,m){return function zd(y,p,m){return S.apply(this,arguments)}(y,p,m)}(w._delegate,m,pr)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function cc(y,p){return cu.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ui,y})();function ih(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const M=w;return{next:X=>M(X&&qi.getOrCreate(X)),error:p,complete:m}}function qg(y,p){const m=function $r(y,p){const m=jf();if(!m)return[];const w=$n(Jd,y,p);switch(m.getItem(w)){case Ui.NONE:return[Yt];case Ui.LOCAL:return[ho,Sr];case Ui.SESSION:return[Sr];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(ho)&&m.push(ho),typeof window<"u")for(const w of[Xo,Sr])m.includes(w)||m.push(w);return m.includes(Yt)||m.push(Yt),m}class Bc{constructor(){this.providerId="phone",this._delegate=new Bs(ma(re.Z.auth()))}static credential(p,m){return Bs.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Bc.PHONE_SIGN_IN_METHOD=Bs.PHONE_SIGN_IN_METHOD,Bc.PROVIDER_ID=Bs.PROVIDER_ID;const Hf=$;class rh{constructor(p,m,w=re.Z.app()){var M;Hf(null===(M=w.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new ni(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function sh(y){y.INTERNAL.registerComponent(new fe.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Fu(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ir,FacebookAuthProvider:Ho,GithubAuthProvider:ic,GoogleAuthProvider:Ba,OAuthProvider:Ts,SAMLAuthProvider:Wi,PhoneAuthProvider:Bc,PhoneMultiFactorGenerator:Mc,RecaptchaVerifier:rh,TwitterAuthProvider:ki,Auth:Fu,AuthCredential:ai,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.20")}(re.Z)},9751:(nt,xe,B)=>{B.d(xe,{y:()=>ge});var b=B(930),re=B(727),L=B(8822),de=B(9635),ae=B(2416),pe=B(576),fe=B(2806);let ge=(()=>{class te{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const Ce=new te;return Ce.source=this,Ce.operator=Oe,Ce}subscribe(Oe,Ce,Qe){const ve=function G(te){return te&&te instanceof b.Lv||function W(te){return te&&(0,pe.m)(te.next)&&(0,pe.m)(te.error)&&(0,pe.m)(te.complete)}(te)&&(0,re.Nn)(te)}(Oe)?Oe:new b.Hp(Oe,Ce,Qe);return(0,fe.x)(()=>{const{operator:me,source:Ye}=this;ve.add(me?me.call(ve,Ye):Ye?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(Ce){Oe.error(Ce)}}forEach(Oe,Ce){return new(Ce=_e(Ce))((Qe,ve)=>{const me=new b.Hp({next:Ye=>{try{Oe(Ye)}catch(Je){ve(Je),me.unsubscribe()}},error:ve,complete:Qe});this.subscribe(me)})}_subscribe(Oe){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Oe)}[L.L](){return this}pipe(...Oe){return(0,de.U)(Oe)(this)}toPromise(Oe){return new(Oe=_e(Oe))((Ce,Qe)=>{let ve;this.subscribe(me=>ve=me,me=>Qe(me),()=>Ce(ve))})}}return te.create=Be=>new te(Be),te})();function _e(te){var Be;return null!==(Be=te??ae.v.Promise)&&void 0!==Be?Be:Promise}},7579:(nt,xe,B)=>{B.d(xe,{x:()=>fe});var b=B(9751),re=B(727);const de=(0,B(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=B(8737),pe=B(2806);let fe=(()=>{class _e extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const te=new ge(this,this);return te.operator=G,te}_throwIfClosed(){if(this.closed)throw new de}next(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(G)}})}error(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:te}=this;for(;te.length;)te.shift().error(G)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:te,isStopped:Be,observers:Oe}=this;return te||Be?re.Lc:(this.currentObservers=null,Oe.push(G),new re.w0(()=>{this.currentObservers=null,(0,ae.P)(Oe,G)}))}_checkFinalizedStatuses(G){const{hasError:te,thrownError:Be,isStopped:Oe}=this;te?G.error(Be):Oe&&G.complete()}asObservable(){const G=new b.y;return G.source=this,G}}return _e.create=(W,G)=>new ge(W,G),_e})();class ge extends fe{constructor(W,G){super(),this.destination=W,this.source=G}next(W){var G,te;null===(te=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===te||te.call(G,W)}error(W){var G,te;null===(te=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===te||te.call(G,W)}complete(){var W,G;null===(G=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===G||G.call(W)}_subscribe(W){var G,te;return null!==(te=null===(G=this.source)||void 0===G?void 0:G.subscribe(W))&&void 0!==te?te:re.Lc}}},930:(nt,xe,B)=>{B.d(xe,{Hp:()=>Qe,Lv:()=>te});var b=B(576),re=B(727),L=B(2416),de=B(7849),ae=B(5032);const pe=_e("C",void 0,void 0);function _e(Re,Ee,De){return{kind:Re,value:Ee,error:De}}var W=B(3410),G=B(2806);class te extends re.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,re.Nn)(Ee)&&Ee.add(this)):this.destination=Je}static create(Ee,De,Ve){return new Qe(Ee,De,Ve)}next(Ee){this.isStopped?Ye(function ge(Re){return _e("N",Re,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Ye(function fe(Re){return _e("E",void 0,Re)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Ye(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Oe(Re,Ee){return Be.call(Re,Ee)}class Ce{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:De}=this;if(De.next)try{De.next(Ee)}catch(Ve){ve(Ve)}}error(Ee){const{partialObserver:De}=this;if(De.error)try{De.error(Ee)}catch(Ve){ve(Ve)}else ve(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(De){ve(De)}}}class Qe extends te{constructor(Ee,De,Ve){let $e;if(super(),(0,b.m)(Ee)||!Ee)$e={next:Ee??void 0,error:De??void 0,complete:Ve??void 0};else{let $;this&&L.v.useDeprecatedNextContext?($=Object.create(Ee),$.unsubscribe=()=>this.unsubscribe(),$e={next:Ee.next&&Oe(Ee.next,$),error:Ee.error&&Oe(Ee.error,$),complete:Ee.complete&&Oe(Ee.complete,$)}):$e=Ee}this.destination=new Ce($e)}}function ve(Re){L.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Re):(0,de.h)(Re)}function Ye(Re,Ee){const{onStoppedNotification:De}=L.v;De&&W.z.setTimeout(()=>De(Re,Ee))}const Je={closed:!0,next:ae.Z,error:function me(Re){throw Re},complete:ae.Z}},727:(nt,xe,B)=>{B.d(xe,{Lc:()=>pe,w0:()=>ae,Nn:()=>fe});var b=B(576);const L=(0,B(3888).d)(_e=>function(G){_e(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((te,Be)=>`${Be+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var de=B(8737);class ae{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Oe of G)Oe.remove(this);else G.remove(this);const{initialTeardown:te}=this;if((0,b.m)(te))try{te()}catch(Oe){W=Oe instanceof L?Oe.errors:[Oe]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Oe of Be)try{ge(Oe)}catch(Ce){W=W??[],Ce instanceof L?W=[...W,...Ce.errors]:W.push(Ce)}}if(W)throw new L(W)}}add(W){var G;if(W&&W!==this)if(this.closed)ge(W);else{if(W instanceof ae){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(W)}}_hasParent(W){const{_parentage:G}=this;return G===W||Array.isArray(G)&&G.includes(W)}_addParent(W){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(W),G):G?[G,W]:W}_removeParent(W){const{_parentage:G}=this;G===W?this._parentage=null:Array.isArray(G)&&(0,de.P)(G,W)}remove(W){const{_finalizers:G}=this;G&&(0,de.P)(G,W),W instanceof ae&&W._removeParent(this)}}ae.EMPTY=(()=>{const _e=new ae;return _e.closed=!0,_e})();const pe=ae.EMPTY;function fe(_e){return _e instanceof ae||_e&&"closed"in _e&&(0,b.m)(_e.remove)&&(0,b.m)(_e.add)&&(0,b.m)(_e.unsubscribe)}function ge(_e){(0,b.m)(_e)?_e():_e.unsubscribe()}},2416:(nt,xe,B)=>{B.d(xe,{v:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,xe,B)=>{B.d(xe,{E:()=>re});const re=new(B(9751).y)(ae=>ae.complete())},8996:(nt,xe,B)=>{B.d(xe,{D:()=>Ee});var b=B(8421),re=B(5363),L=B(9468),pe=B(9751),ge=B(2202),_e=B(576),W=B(9672);function te(De,Ve){if(!De)throw new Error("Iterable cannot be null");return new pe.y($e=>{(0,W.f)($e,Ve,()=>{const $=De[Symbol.asyncIterator]();(0,W.f)($e,Ve,()=>{$.next().then(ye=>{ye.done?$e.complete():$e.next(ye.value)})},0,!0)})})}var Be=B(3670),Oe=B(8239),Ce=B(1144),Qe=B(6495),ve=B(2206),me=B(4532),Ye=B(3260);function Ee(De,Ve){return Ve?function Re(De,Ve){if(null!=De){if((0,Be.c)(De))return function de(De,Ve){return(0,b.Xf)(De).pipe((0,L.R)(Ve),(0,re.Q)(Ve))}(De,Ve);if((0,Ce.z)(De))return function fe(De,Ve){return new pe.y($e=>{let $=0;return Ve.schedule(function(){$===De.length?$e.complete():($e.next(De[$++]),$e.closed||this.schedule())})})}(De,Ve);if((0,Oe.t)(De))return function ae(De,Ve){return(0,b.Xf)(De).pipe((0,L.R)(Ve),(0,re.Q)(Ve))}(De,Ve);if((0,ve.D)(De))return te(De,Ve);if((0,Qe.T)(De))return function G(De,Ve){return new pe.y($e=>{let $;return(0,W.f)($e,Ve,()=>{$=De[ge.h](),(0,W.f)($e,Ve,()=>{let ye,J;try{({value:ye,done:J}=$.next())}catch(ie){return void $e.error(ie)}J?$e.complete():$e.next(ye)},0,!0)}),()=>(0,_e.m)($?.return)&&$.return()})}(De,Ve);if((0,Ye.L)(De))return function Je(De,Ve){return te((0,Ye.Q)(De),Ve)}(De,Ve)}throw(0,me.z)(De)}(De,Ve):(0,b.Xf)(De)}},8421:(nt,xe,B)=>{B.d(xe,{Xf:()=>Be});var b=B(655),re=B(1144),L=B(8239),de=B(9751),ae=B(3670),pe=B(2206),fe=B(4532),ge=B(6495),_e=B(3260),W=B(576),G=B(7849),te=B(8822);function Be(Re){if(Re instanceof de.y)return Re;if(null!=Re){if((0,ae.c)(Re))return function Oe(Re){return new de.y(Ee=>{const De=Re[te.L]();if((0,W.m)(De.subscribe))return De.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,re.z)(Re))return function Ce(Re){return new de.y(Ee=>{for(let De=0;De<Re.length&&!Ee.closed;De++)Ee.next(Re[De]);Ee.complete()})}(Re);if((0,L.t)(Re))return function Qe(Re){return new de.y(Ee=>{Re.then(De=>{Ee.closed||(Ee.next(De),Ee.complete())},De=>Ee.error(De)).then(null,G.h)})}(Re);if((0,pe.D)(Re))return me(Re);if((0,ge.T)(Re))return function ve(Re){return new de.y(Ee=>{for(const De of Re)if(Ee.next(De),Ee.closed)return;Ee.complete()})}(Re);if((0,_e.L)(Re))return function Ye(Re){return me((0,_e.Q)(Re))}(Re)}throw(0,fe.z)(Re)}function me(Re){return new de.y(Ee=>{(function Je(Re,Ee){var De,Ve,$e,$;return(0,b.mG)(this,void 0,void 0,function*(){try{for(De=(0,b.KL)(Re);!(Ve=yield De.next()).done;)if(Ee.next(Ve.value),Ee.closed)return}catch(ye){$e={error:ye}}finally{try{Ve&&!Ve.done&&($=De.return)&&(yield $.call(De))}finally{if($e)throw $e.error}}Ee.complete()})})(Re,Ee).catch(De=>Ee.error(De))})}},6451:(nt,xe,B)=>{B.d(xe,{T:()=>pe});var b=B(8189),re=B(8421),L=B(515),de=B(7669),ae=B(8996);function pe(...fe){const ge=(0,de.yG)(fe),_e=(0,de._6)(fe,1/0),W=fe;return W.length?1===W.length?(0,re.Xf)(W[0]):(0,b.J)(_e)((0,ae.D)(W,ge)):L.E}},5403:(nt,xe,B)=>{B.d(xe,{x:()=>re});var b=B(930);function re(de,ae,pe,fe,ge){return new L(de,ae,pe,fe,ge)}class L extends b.Lv{constructor(ae,pe,fe,ge,_e,W){super(ae),this.onFinalize=_e,this.shouldUnsubscribe=W,this._next=pe?function(G){try{pe(G)}catch(te){ae.error(te)}}:super._next,this._error=ge?function(G){try{ge(G)}catch(te){ae.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(G){ae.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(nt,xe,B)=>{B.d(xe,{U:()=>L});var b=B(4482),re=B(5403);function L(de,ae){return(0,b.e)((pe,fe)=>{let ge=0;pe.subscribe((0,re.x)(fe,_e=>{fe.next(de.call(ae,_e,ge++))}))})}},8189:(nt,xe,B)=>{B.d(xe,{J:()=>L});var b=B(5577),re=B(4671);function L(de=1/0){return(0,b.z)(re.y,de)}},5577:(nt,xe,B)=>{B.d(xe,{z:()=>ge});var b=B(4004),re=B(8421),L=B(4482),de=B(9672),ae=B(5403),fe=B(576);function ge(_e,W,G=1/0){return(0,fe.m)(W)?ge((te,Be)=>(0,b.U)((Oe,Ce)=>W(te,Oe,Be,Ce))((0,re.Xf)(_e(te,Be))),G):("number"==typeof W&&(G=W),(0,L.e)((te,Be)=>function pe(_e,W,G,te,Be,Oe,Ce,Qe){const ve=[];let me=0,Ye=0,Je=!1;const Re=()=>{Je&&!ve.length&&!me&&W.complete()},Ee=Ve=>me<te?De(Ve):ve.push(Ve),De=Ve=>{Oe&&W.next(Ve),me++;let $e=!1;(0,re.Xf)(G(Ve,Ye++)).subscribe((0,ae.x)(W,$=>{Be?.($),Oe?Ee($):W.next($)},()=>{$e=!0},void 0,()=>{if($e)try{for(me--;ve.length&&me<te;){const $=ve.shift();Ce?(0,de.f)(W,Ce,()=>De($)):De($)}Re()}catch($){W.error($)}}))};return _e.subscribe((0,ae.x)(W,Ee,()=>{Je=!0,Re()})),()=>{Qe?.()}}(te,Be,_e,G)))}},5363:(nt,xe,B)=>{B.d(xe,{Q:()=>de});var b=B(9672),re=B(4482),L=B(5403);function de(ae,pe=0){return(0,re.e)((fe,ge)=>{fe.subscribe((0,L.x)(ge,_e=>(0,b.f)(ge,ae,()=>ge.next(_e),pe),()=>(0,b.f)(ge,ae,()=>ge.complete(),pe),_e=>(0,b.f)(ge,ae,()=>ge.error(_e),pe)))})}},3099:(nt,xe,B)=>{B.d(xe,{B:()=>ae});var b=B(8421),re=B(7579),L=B(930),de=B(4482);function ae(fe={}){const{connector:ge=(()=>new re.x),resetOnError:_e=!0,resetOnComplete:W=!0,resetOnRefCountZero:G=!0}=fe;return te=>{let Be,Oe,Ce,Qe=0,ve=!1,me=!1;const Ye=()=>{Oe?.unsubscribe(),Oe=void 0},Je=()=>{Ye(),Be=Ce=void 0,ve=me=!1},Re=()=>{const Ee=Be;Je(),Ee?.unsubscribe()};return(0,de.e)((Ee,De)=>{Qe++,!me&&!ve&&Ye();const Ve=Ce=Ce??ge();De.add(()=>{Qe--,0===Qe&&!me&&!ve&&(Oe=pe(Re,G))}),Ve.subscribe(De),!Be&&Qe>0&&(Be=new L.Hp({next:$e=>Ve.next($e),error:$e=>{me=!0,Ye(),Oe=pe(Je,_e,$e),Ve.error($e)},complete:()=>{ve=!0,Ye(),Oe=pe(Je,W),Ve.complete()}}),(0,b.Xf)(Ee).subscribe(Be))})(te)}}function pe(fe,ge,..._e){if(!0===ge)return void fe();if(!1===ge)return;const W=new L.Hp({next:()=>{W.unsubscribe(),fe()}});return ge(..._e).subscribe(W)}},9468:(nt,xe,B)=>{B.d(xe,{R:()=>re});var b=B(4482);function re(L,de=0){return(0,b.e)((ae,pe)=>{pe.add(L.schedule(()=>ae.subscribe(pe),de))})}},8505:(nt,xe,B)=>{B.d(xe,{b:()=>ae});var b=B(576),re=B(4482),L=B(5403),de=B(4671);function ae(pe,fe,ge){const _e=(0,b.m)(pe)||fe||ge?{next:pe,error:fe,complete:ge}:pe;return _e?(0,re.e)((W,G)=>{var te;null===(te=_e.subscribe)||void 0===te||te.call(_e);let Be=!0;W.subscribe((0,L.x)(G,Oe=>{var Ce;null===(Ce=_e.next)||void 0===Ce||Ce.call(_e,Oe),G.next(Oe)},()=>{var Oe;Be=!1,null===(Oe=_e.complete)||void 0===Oe||Oe.call(_e),G.complete()},Oe=>{var Ce;Be=!1,null===(Ce=_e.error)||void 0===Ce||Ce.call(_e,Oe),G.error(Oe)},()=>{var Oe,Ce;Be&&(null===(Oe=_e.unsubscribe)||void 0===Oe||Oe.call(_e)),null===(Ce=_e.finalize)||void 0===Ce||Ce.call(_e)}))}):de.y}},4408:(nt,xe,B)=>{B.d(xe,{o:()=>ae});var b=B(727);class re extends b.w0{constructor(fe,ge){super()}schedule(fe,ge=0){return this}}const L={setInterval(pe,fe,...ge){const{delegate:_e}=L;return _e?.setInterval?_e.setInterval(pe,fe,...ge):setInterval(pe,fe,...ge)},clearInterval(pe){const{delegate:fe}=L;return(fe?.clearInterval||clearInterval)(pe)},delegate:void 0};var de=B(8737);class ae extends re{constructor(fe,ge){super(fe,ge),this.scheduler=fe,this.work=ge,this.pending=!1}schedule(fe,ge=0){if(this.closed)return this;this.state=fe;const _e=this.id,W=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(W,_e,ge)),this.pending=!0,this.delay=ge,this.id=this.id||this.requestAsyncId(W,this.id,ge),this}requestAsyncId(fe,ge,_e=0){return L.setInterval(fe.flush.bind(fe,this),_e)}recycleAsyncId(fe,ge,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return ge;L.clearInterval(ge)}execute(fe,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(fe,ge);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ge){let W,_e=!1;try{this.work(fe)}catch(G){_e=!0,W=G||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ge}=this,{actions:_e}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(_e,this),null!=fe&&(this.id=this.recycleAsyncId(ge,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,xe,B)=>{B.d(xe,{v:()=>L});var b=B(6063);class re{constructor(ae,pe=re.now){this.schedulerActionCtor=ae,this.now=pe}schedule(ae,pe=0,fe){return new this.schedulerActionCtor(this,ae).schedule(fe,pe)}}re.now=b.l.now;class L extends re{constructor(ae,pe=re.now){super(ae,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:pe}=this;if(this._active)return void pe.push(ae);let fe;this._active=!0;do{if(fe=ae.execute(ae.state,ae.delay))break}while(ae=pe.shift());if(this._active=!1,fe){for(;ae=pe.shift();)ae.unsubscribe();throw fe}}}},4986:(nt,xe,B)=>{B.d(xe,{z:()=>L});var b=B(4408);const L=new(B(7565).v)(b.o)},6063:(nt,xe,B)=>{B.d(xe,{l:()=>b});const b={now:()=>(b.delegate||Date).now(),delegate:void 0}},3410:(nt,xe,B)=>{B.d(xe,{z:()=>b});const b={setTimeout(re,L,...de){const{delegate:ae}=b;return ae?.setTimeout?ae.setTimeout(re,L,...de):setTimeout(re,L,...de)},clearTimeout(re){const{delegate:L}=b;return(L?.clearTimeout||clearTimeout)(re)},delegate:void 0}},2202:(nt,xe,B)=>{B.d(xe,{h:()=>re});const re=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,xe,B)=>{B.d(xe,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(nt,xe,B)=>{B.d(xe,{_6:()=>pe,jO:()=>de,yG:()=>ae});var b=B(576);function L(fe){return fe[fe.length-1]}function de(fe){return(0,b.m)(L(fe))?fe.pop():void 0}function ae(fe){return function re(fe){return fe&&(0,b.m)(fe.schedule)}(L(fe))?fe.pop():void 0}function pe(fe,ge){return"number"==typeof L(fe)?fe.pop():ge}},8737:(nt,xe,B)=>{function b(re,L){if(re){const de=re.indexOf(L);0<=de&&re.splice(de,1)}}B.d(xe,{P:()=>b})},3888:(nt,xe,B)=>{function b(re){const de=re(ae=>{Error.call(ae),ae.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}B.d(xe,{d:()=>b})},2806:(nt,xe,B)=>{B.d(xe,{O:()=>de,x:()=>L});var b=B(2416);let re=null;function L(ae){if(b.v.useDeprecatedSynchronousErrorHandling){const pe=!re;if(pe&&(re={errorThrown:!1,error:null}),ae(),pe){const{errorThrown:fe,error:ge}=re;if(re=null,fe)throw ge}}else ae()}function de(ae){b.v.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=ae)}},9672:(nt,xe,B)=>{function b(re,L,de,ae=0,pe=!1){const fe=L.schedule(function(){de(),pe?re.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(re.add(fe),!pe)return fe}B.d(xe,{f:()=>b})},4671:(nt,xe,B)=>{function b(re){return re}B.d(xe,{y:()=>b})},1144:(nt,xe,B)=>{B.d(xe,{z:()=>b});const b=re=>re&&"number"==typeof re.length&&"function"!=typeof re},2206:(nt,xe,B)=>{B.d(xe,{D:()=>re});var b=B(576);function re(L){return Symbol.asyncIterator&&(0,b.m)(L?.[Symbol.asyncIterator])}},576:(nt,xe,B)=>{function b(re){return"function"==typeof re}B.d(xe,{m:()=>b})},3670:(nt,xe,B)=>{B.d(xe,{c:()=>L});var b=B(8822),re=B(576);function L(de){return(0,re.m)(de[b.L])}},6495:(nt,xe,B)=>{B.d(xe,{T:()=>L});var b=B(2202),re=B(576);function L(de){return(0,re.m)(de?.[b.h])}},8239:(nt,xe,B)=>{B.d(xe,{t:()=>re});var b=B(576);function re(L){return(0,b.m)(L?.then)}},3260:(nt,xe,B)=>{B.d(xe,{L:()=>de,Q:()=>L});var b=B(655),re=B(576);function L(ae){return(0,b.FC)(this,arguments,function*(){const fe=ae.getReader();try{for(;;){const{value:ge,done:_e}=yield(0,b.qq)(fe.read());if(_e)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(ge)}}finally{fe.releaseLock()}})}function de(ae){return(0,re.m)(ae?.getReader)}},4482:(nt,xe,B)=>{B.d(xe,{A:()=>re,e:()=>L});var b=B(576);function re(de){return(0,b.m)(de?.lift)}function L(de){return ae=>{if(re(ae))return ae.lift(function(pe){try{return de(pe,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(nt,xe,B)=>{function b(){}B.d(xe,{Z:()=>b})},9635:(nt,xe,B)=>{B.d(xe,{U:()=>L,z:()=>re});var b=B(4671);function re(...de){return L(de)}function L(de){return 0===de.length?b.y:1===de.length?de[0]:function(pe){return de.reduce((fe,ge)=>ge(fe),pe)}}},7849:(nt,xe,B)=>{B.d(xe,{h:()=>L});var b=B(2416),re=B(3410);function L(de){re.z.setTimeout(()=>{const{onUnhandledError:ae}=b.v;if(!ae)throw de;ae(de)})}},4532:(nt,xe,B)=>{function b(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(xe,{z:()=>b})},655:(nt,xe,B)=>{function de(J,ie){var le={};for(var oe in J)Object.prototype.hasOwnProperty.call(J,oe)&&ie.indexOf(oe)<0&&(le[oe]=J[oe]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(oe=Object.getOwnPropertySymbols(J);Ne<oe.length;Ne++)ie.indexOf(oe[Ne])<0&&Object.prototype.propertyIsEnumerable.call(J,oe[Ne])&&(le[oe[Ne]]=J[oe[Ne]])}return le}function ge(J,ie,le,oe){return new(le||(le=Promise))(function(ke,ct){function Lt(sn){try{Ge(oe.next(sn))}catch(An){ct(An)}}function Mt(sn){try{Ge(oe.throw(sn))}catch(An){ct(An)}}function Ge(sn){sn.done?ke(sn.value):function Ne(ke){return ke instanceof le?ke:new le(function(ct){ct(ke)})}(sn.value).then(Lt,Mt)}Ge((oe=oe.apply(J,ie||[])).next())})}function ve(J){return this instanceof ve?(this.v=J,this):new ve(J)}function me(J,ie,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,oe=le.apply(J,ie||[]),ke=[];return Ne={},ct("next"),ct("throw"),ct("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function ct($t){oe[$t]&&(Ne[$t]=function(Wt){return new Promise(function(_i,Ct){ke.push([$t,Wt,_i,Ct])>1||Lt($t,Wt)})})}function Lt($t,Wt){try{!function Mt($t){$t.value instanceof ve?Promise.resolve($t.value.v).then(Ge,sn):An(ke[0][2],$t)}(oe[$t](Wt))}catch(_i){An(ke[0][3],_i)}}function Ge($t){Lt("next",$t)}function sn($t){Lt("throw",$t)}function An($t,Wt){$t(Wt),ke.shift(),ke.length&&Lt(ke[0][0],ke[0][1])}}function Je(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ie=J[Symbol.asyncIterator];return ie?ie.call(J):(J=function te(J){var ie="function"==typeof Symbol&&Symbol.iterator,le=ie&&J[ie],oe=0;if(le)return le.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&oe>=J.length&&(J=void 0),{value:J&&J[oe++],done:!J}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),le={},oe("next"),oe("throw"),oe("return"),le[Symbol.asyncIterator]=function(){return this},le);function oe(ke){le[ke]=J[ke]&&function(ct){return new Promise(function(Lt,Mt){!function Ne(ke,ct,Lt,Mt){Promise.resolve(Mt).then(function(Ge){ke({value:Ge,done:Lt})},ct)}(Lt,Mt,(ct=J[ke](ct)).done,ct.value)})}}}B.d(xe,{FC:()=>me,KL:()=>Je,_T:()=>de,mG:()=>ge,qq:()=>ve})},4650:(nt,xe,B)=>{B.d(xe,{$8M:()=>ll,$Z:()=>xm,AFp:()=>kw,AaK:()=>ge,CRH:()=>$p,CZH:()=>qp,CqO:()=>$b,D6c:()=>cT,EJc:()=>_d,F4k:()=>Hb,FYo:()=>Fe,FiY:()=>He,G48:()=>YS,Gf:()=>Ll,GfV:()=>Sn,JOm:()=>So,LFG:()=>Dn,LSH:()=>Qd,Lbi:()=>J_,Lck:()=>qD,MMx:()=>R_,NdJ:()=>Al,OlP:()=>hn,Oqu:()=>d_,PXZ:()=>bd,Q6J:()=>xl,QGY:()=>Cp,QP$:()=>Er,Qsj:()=>qe,R0b:()=>di,RDi:()=>xc,Rgc:()=>rt,SBq:()=>N,Sil:()=>US,Suo:()=>U_,TTD:()=>kr,TgZ:()=>wp,VKq:()=>dw,X6Q:()=>Zw,XFs:()=>Ze,Xpm:()=>K,Xts:()=>ms,Y36:()=>Zu,YKP:()=>nw,YNc:()=>Vb,Yjl:()=>Rt,Yz7:()=>Wt,Z0I:()=>Xs,ZZ4:()=>Qh,_UZ:()=>n_,_Vd:()=>m,_c5:()=>aT,_uU:()=>g0,aQg:()=>my,c2e:()=>NS,cJS:()=>Ct,cg1:()=>Mp,dDg:()=>zS,dqk:()=>on,eFA:()=>oy,eoX:()=>jw,f3M:()=>S,g9A:()=>jl,h0i:()=>fd,hGG:()=>lT,iGM:()=>pd,ifc:()=>et,ip1:()=>Ow,jDz:()=>rw,kL8:()=>A0,lG2:()=>$n,lqb:()=>$s,lri:()=>Uw,oAB:()=>tt,oxw:()=>od,q4F:()=>Vi,qLn:()=>ju,qZA:()=>Ep,rWj:()=>Vw,sBO:()=>qS,sIi:()=>Ii,s_b:()=>Up,soG:()=>Hl,tb:()=>kS,tp0:()=>mt,uIk:()=>Th,vHH:()=>Ce,vpe:()=>Po,wAp:()=>yt,xp6:()=>bm,z2F:()=>ig,zSh:()=>_s,zs3:()=>Cl});var b=B(7579),re=B(727),L=B(9751),de=B(6451),ae=B(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function ge(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ge).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function _e(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const W=pe({__forward_ref__:pe});function G(s){return s.__forward_ref__=G,s.toString=function(){return ge(this())},s}function te(s){return function Be(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===G}(s)?s():s}class Ce extends Error{constructor(o,l){super(function Qe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function ve(s){return"string"==typeof s?s:null==s?"":String(s)}function Ee(s,o){throw new Ce(-201,!1)}function Mt(s,o){null==s&&function Ge(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function Wt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ct(s){return{providers:s.providers||[],imports:s.imports||[]}}function tn(s){return Ai(s,wr)||Ai(s,ji)}function Xs(s){return null!==tn(s)}function Ai(s,o){return s.hasOwnProperty(o)?s[o]:null}function Qr(s){return s&&(s.hasOwnProperty(Ri)||s.hasOwnProperty(Js))?s[Ri]:null}const wr=pe({\u0275prov:pe}),Ri=pe({\u0275inj:pe}),ji=pe({ngInjectableDef:pe}),Js=pe({ngInjectorDef:pe});var Ze=(()=>((Ze=Ze||{})[Ze.Default=0]="Default",Ze[Ze.Host=1]="Host",Ze[Ze.Self=2]="Self",Ze[Ze.SkipSelf=4]="SkipSelf",Ze[Ze.Optional=8]="Optional",Ze))();let Pi;function Mn(s){const o=Pi;return Pi=s,o}function Hi(s,o,l){const u=tn(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&Ze.Optional?null:void 0!==o?o:void Ee(ge(s))}function Rn(s){return{toString:s}.toString()}var Ln=(()=>((Ln=Ln||{})[Ln.OnPush=0]="OnPush",Ln[Ln.Default=1]="Default",Ln))(),et=(()=>{return(s=et||(et={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",et;var s})();const on=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),yi={},bt=[],Rr=pe({\u0275cmp:pe}),Zt=pe({\u0275dir:pe}),rr=pe({\u0275pipe:pe}),zt=pe({\u0275mod:pe}),Q=pe({\u0275fac:pe}),z=pe({__NG_ELEMENT_ID__:pe});let H=0;function K(s){return Rn(()=>{const l=!0===s.standalone,u={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ln.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||bt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||et.Emulated,id:"c"+H++,styles:s.styles||bt,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return h.inputs=Yt(s.inputs,u),h.outputs=Yt(s.outputs),v&&v.forEach(C=>C(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Se).filter(je):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(Fn).filter(je):null,h})}function Se(s){return It(s)||_n(s)}function je(s){return null!==s}function tt(s){return Rn(()=>({type:s.type,bootstrap:s.bootstrap||bt,declarations:s.declarations||bt,imports:s.imports||bt,exports:s.exports||bt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Yt(s,o){if(null==s)return yi;const l={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=u,o&&(o[h]=g)}return l}const $n=K;function Rt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function It(s){return s[Rr]||null}function _n(s){return s[Zt]||null}function Fn(s){return s[rr]||null}function Er(s){const o=It(s)||_n(s)||Fn(s);return null!==o&&o.standalone}function vi(s,o){const l=s[zt]||null;if(!l&&!0===o)throw new Error(`Type ${ge(s)} does not have '\u0275mod' property.`);return l}function ei(s){return Array.isArray(s)&&"object"==typeof s[1]}function bi(s){return Array.isArray(s)&&!0===s[1]}function La(s){return 0!=(8&s.flags)}function jo(s){return 2==(2&s.flags)}function Jl(s){return 1==(1&s.flags)}function fi(s){return null!==s.template}function kd(s){return 0!=(256&s[2])}function Ir(s,o){return s.hasOwnProperty(Q)?s[Q]:null}class Or{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function kr(){return Ts}function Ts(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ba),Ho}function Ho(){const s=Fd(this),o=s?.current;if(o){const l=s.previous;if(l===yi)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function Ba(s,o,l,u){const h=Fd(s)||function $o(s,o){return s[ic]=o}(s,{previous:yi,current:null}),g=h.current||(h.current={}),v=h.previous,C=this.declaredInputs[l],D=v[C];g[C]=new Or(D&&D.currentValue,o,v===yi),s[u]=o}kr.ngInherit=!0;const ic="__ngSimpleChanges__";function Fd(s){return s[ic]||null}function wn(s){for(;Array.isArray(s);)s=s[0];return s}function wi(s,o){return wn(o[s.index])}function io(s,o){return s.data[o]}function Ft(s,o){const l=o[s];return ei(l)?l:l[0]}function xs(s){return 64==(64&s[2])}function ar(s,o){return null==o?null:s[o]}function $a(s){s[18]=0}function bn(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const wt={lFrame:gc(null),bindingsEnabled:!0};function Fr(){return wt.bindingsEnabled}function Ae(){return wt.lFrame.lView}function Pt(){return wt.lFrame.tView}function En(){let s=Ka();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ka(){return wt.lFrame.currentTNode}function Gi(s,o){const l=wt.lFrame;l.currentTNode=s,l.isParent=o}function zo(){return wt.lFrame.isParent}function As(){return wt.lFrame.bindingIndex++}function wf(s,o){const l=wt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Za(o)}function Za(s){wt.lFrame.currentDirectiveIndex=s}function hc(){return wt.lFrame.currentQueryIndex}function qo(s){wt.lFrame.currentQueryIndex=s}function fc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ya(s,o,l){if(l&Ze.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&Ze.Host||(h=fc(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const u=wt.lFrame=pc();return u.currentTNode=o,u.lView=s,!0}function qa(s){const o=pc(),l=s[1];wt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function pc(){const s=wt.lFrame,o=null===s?null:s.child;return null===o?gc(s):o}function gc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function mc(){const s=wt.lFrame;return wt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const uu=mc;function Ms(){const s=mc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Gn(){return wt.lFrame.selectedIndex}function Ni(s){wt.lFrame.selectedIndex=s}function gn(){const s=wt.lFrame;return io(s.tView,s.selectedIndex)}function vc(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:x,ngOnDestroy:O}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),D&&(s.viewHooks||(s.viewHooks=[])).push(-l,D),x&&((s.viewHooks||(s.viewHooks=[])).push(l,x),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,x)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(l,O)}}function so(s,o,l){ao(s,o,3,l)}function oo(s,o,l,u){(3&s[2])===l&&ao(s,o,l,u)}function fu(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function ao(s,o,l,u){const g=u??-1,v=o.length-1;let C=0;for(let D=void 0!==u?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(C=o[D],null!=u&&C>=u)break}else o[D]<0&&(s[18]+=65536),(C<g||-1==g)&&(pu(s,l,o,D),s[18]=(4294901760&s[18])+D+2),D++}function pu(s,o,l,u){const h=l[u]<0,g=l[u+1],C=s[h?-l[u]:l[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class ss{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function co(s,o,l){let u=0;for(;u<l.length;){const h=l[u];if("number"==typeof h){if(0!==h)break;u++;const g=l[u++],v=l[u++],C=l[u++];s.setAttribute(o,v,C,g)}else{const g=h,v=l[++u];nl(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),u++}}return u}function Os(s){return 3===s||4===s||6===s}function nl(s){return 64===s.charCodeAt(0)}function Qo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||mu(s,l,h,null,-1===l||2===l?o[++u]:null)}}return s}function mu(s,o,l,u,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const C=s[g++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=g-1;break}}}for(;g<s.length;){const C=s[g];if("number"==typeof C)break;if(C===l){if(null===u)return void(null!==h&&(s[g+1]=h));if(u===s[g+1])return void(s[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==u&&s.splice(g++,0,u),null!==h&&s.splice(g++,0,h)}function _u(s){return-1!==s}function ti(s){return 32767&s}function Jo(s,o){let l=function Xo(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let Sr=!0;function ea(s){const o=Sr;return Sr=s,o}let Pn=0;const lr={};function ks(s,o){const l=rl(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,na(u.data,s),na(o,null),na(u.blueprint,null));const h=sl(s,o),g=s.injectorIndex;if(_u(h)){const v=ti(h),C=Jo(h,o),D=C[1].data;for(let x=0;x<8;x++)o[g+x]=C[v+x]|D[v+x]}return o[g+8]=h,g}function na(s,o){s.push(0,0,0,0,0,0,0,0,o)}function rl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function sl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){if(u=fo(h),null===u)return-1;if(l++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function os(s,o,l){!function il(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(z)&&(u=l[z]),null==u&&(u=l[z]=Pn++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function as(s,o,l){if(l&Ze.Optional||void 0!==s)return s;Ee()}function wc(s,o,l,u){if(l&Ze.Optional&&void 0===u&&(u=null),0==(l&(Ze.Self|Ze.Host))){const h=s[9],g=Mn(void 0);try{return h?h.get(o,u,l&Ze.Optional):Hi(o,u,l&Ze.Optional)}finally{Mn(g)}}return as(u,0,l)}function Ns(s,o,l,u=Ze.Default,h){if(null!==s){if(1024&o[2]){const v=function ho(s,o,l,u,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=ia(g,v,l,u|Ze.Self,lr);if(C!==lr)return C;let D=g.parent;if(!D){const x=v[21];if(x){const O=x.get(l,lr,u);if(O!==lr)return O}D=fo(v),v=v[15]}g=D}return h}(s,o,l,u,lr);if(v!==lr)return v}const g=ia(s,o,l,u,lr);if(g!==lr)return g}return wc(o,l,u,h)}function ia(s,o,l,u,h){const g=function Ec(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(z)?s[z]:void 0;return"number"==typeof o?o>=0?255&o:Cc:o}(l);if("function"==typeof g){if(!Ya(o,s,u))return u&Ze.Host?as(h,0,u):wc(o,l,u,h);try{const v=g(u);if(null!=v||u&Ze.Optional)return v;Ee()}finally{uu()}}else if("number"==typeof g){let v=null,C=rl(s,o),D=-1,x=u&Ze.Host?o[16][6]:null;for((-1===C||u&Ze.SkipSelf)&&(D=-1===C?sl(s,o):o[C+8],-1!==D&&ra(u,!1)?(v=o[1],C=ti(D),o=Jo(D,o)):C=-1);-1!==C;){const O=o[1];if(ol(g,C,O.data)){const F=bu(C,o,l,v,u,x);if(F!==lr)return F}D=o[C+8],-1!==D&&ra(u,o[1].data[C+8]===x)&&ol(g,C,o)?(v=O,C=ti(D),o=Jo(D,o)):C=-1}}return h}function bu(s,o,l,u,h,g){const v=o[1],C=v.data[s+8],O=uo(C,v,l,null==u?jo(C)&&Sr:u!=v&&0!=(3&C.type),h&Ze.Host&&g===C);return null!==O?Ur(o,v,O,C):lr}function uo(s,o,l,u,h){const g=s.providerIndexes,v=o.data,C=1048575&g,D=s.directiveStart,O=g>>20,Z=h?C+O:s.directiveEnd;for(let se=u?C:C+O;se<Z;se++){const Ie=v[se];if(se<D&&l===Ie||se>=D&&Ie.type===l)return se}if(h){const se=v[D];if(se&&fi(se)&&se.type===l)return D}return null}function Ur(s,o,l,u){let h=s[l];const g=o.data;if(function Ps(s){return s instanceof ss}(h)){const v=h;v.resolving&&function Ye(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${s}${l}`)}(function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ve(s)}(g[l]));const C=ea(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Mn(v.injectImpl):null;Ya(s,u,Ze.Default);try{h=s[l]=v.factory(void 0,g,s,u),o.firstCreatePass&&l>=u.directiveStart&&function hu(s,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(u){const v=Ts(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==D&&Mn(D),ea(C),v.resolving=!1,uu()}}return h}function ol(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function ra(s,o){return!(s&Ze.Self||s&Ze.Host&&o)}class Ls{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return Ns(this._tNode,this._lView,o,u,l)}}function Cc(){return new Ls(En(),Ae())}function fo(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function ll(s){return function vu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const g=l[h];if(Os(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(En(),s)}const cs="__parameters__";function mo(s,o,l){return Rn(()=>{const u=function cl(s){return function(...l){if(s){const u=s(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...g){if(this instanceof h)return u.apply(this,g),this;const v=new h(...g);return C.annotation=v,C;function C(D,x,O){const F=D.hasOwnProperty(cs)?D[cs]:Object.defineProperty(D,cs,{value:[]})[cs];for(;F.length<=O;)F.push(null);return(F[O]=F[O]||[]).push(v),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class hn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Wt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _t(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),_t(u,o)):o!==s&&o.push(u)}return o}function Gt(s,o){s.forEach(l=>Array.isArray(l)?Gt(l,o):o(l))}function Fi(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Et(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}const Ut={},qt="__NG_DI_FLAG__",pl="ngTempTokenPath",Dc=/\n/gm,ua="__source";let Vs;function jn(s){const o=Vs;return Vs=s,o}function dr(s,o=Ze.Default){if(void 0===Vs)throw new Ce(-203,!1);return null===Vs?Hi(s,void 0,o):Vs.get(s,o&Ze.Optional?null:void 0,o)}function Dn(s,o=Ze.Default){return(function Mr(){return Pi}()||dr)(te(s),o)}function S(s,o=Ze.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Dn(s,o)}function T(s){const o=[];for(let l=0;l<s.length;l++){const u=te(s[l]);if(Array.isArray(u)){if(0===u.length)throw new Ce(900,!1);let h,g=Ze.Default;for(let v=0;v<u.length;v++){const C=u[v],D=V(C);"number"==typeof D?-1===D?h=C.token:g|=D:h=C}o.push(Dn(h,g))}else o.push(Dn(u))}return o}function P(s,o){return s[qt]=o,s.prototype[qt]=o,s}function V(s){return s[qt]}const He=P(mo("Optional"),8),mt=P(mo("SkipSelf"),4);let wu;function xc(s){wu=s}class Eu{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Pf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ht=(()=>((ht=ht||{})[ht.NONE=0]="NONE",ht[ht.HTML=1]="HTML",ht[ht.STYLE=2]="STYLE",ht[ht.SCRIPT=3]="SCRIPT",ht[ht.URL=4]="URL",ht[ht.RESOURCE_URL=5]="RESOURCE_URL",ht))();function Qd(s){const o=function Lc(){const s=Ae();return s&&s[12]}();return o?o.sanitize(ht.URL,s)||"":function Mc(s,o){const l=function Cu(s){return s instanceof Eu&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?function gs(s){return s instanceof Eu?s.changingThisBreaksApplicationSecurity:s}(s):function Rc(s){return(s=String(s)).match(Pf)?s:"unsafe:"+s}(ve(s))}const ms=new hn("ENVIRONMENT_INITIALIZER"),Ru=new hn("INJECTOR",-1),Pu=new hn("INJECTOR_DEF_TYPES");class ga{get(o,l=Ut){if(l===Ut){const u=new Error(`NullInjectorError: No provider for ${ge(o)}!`);throw u.name="NullInjectorError",u}return l}}function Yg(...s){return{\u0275providers:Ou(0,s)}}function Ou(s,...o){const l=[],u=new Set;let h;return Gt(o,g=>{const v=g;Ui(v,l,[],u)&&(h||(h=[]),h.push(v))}),void 0!==h&&Vf(h,l),l}function Vf(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Gt(h,g=>{o.push(g)})}}function Ui(s,o,l,u){if(!(s=te(s)))return!1;let h=null,g=Qr(s);const v=!g&&It(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const D=s.ngModule;if(g=Qr(D),!g)return!1;h=D}const C=u.has(h);if(v){if(C)return!1;if(u.add(h),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of D)Ui(x,o,l,u)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let x;u.add(h);try{Gt(g.imports,O=>{Ui(O,o,l,u)&&(x||(x=[]),x.push(O))})}finally{}void 0!==x&&Vf(x,o)}if(!C){const x=Ir(h)||(()=>new h);o.push({provide:h,useFactory:x,deps:bt},{provide:Pu,useValue:h,multi:!0},{provide:ms,useValue:()=>Dn(h),multi:!0})}const D=g.providers;null==D||C||Gt(D,O=>{o.push(O)})}}return h!==s&&void 0!==s.providers}const Jd=pe({provide:String,useValue:pe});function Hs(s){return null!==s&&"object"==typeof s&&Jd in s}function $r(s){return"function"==typeof s}const _s=new hn("Set Injector scope."),pr={},ma={};let ku;function Nu(){return void 0===ku&&(ku=new ga),ku}class $s{}class Lu extends $s{constructor(o,l,u,h){super(),this.parent=l,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bc(o,v=>this.processProvider(v)),this.records.set(Ru,qi(void 0,this)),h.has("environment")&&this.records.set($s,qi(void 0,this));const g=this.records.get(_s);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Pu.multi,bt,Ze.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=jn(this),u=Mn(void 0);try{return o()}finally{jn(l),Mn(u)}}get(o,l=Ut,u=Ze.Default){this.assertNotDestroyed();const h=jn(this),g=Mn(void 0);try{if(!(u&Ze.SkipSelf)){let C=this.records.get(o);if(void 0===C){const D=function ih(s){return"function"==typeof s||"object"==typeof s&&s instanceof hn}(o)&&tn(o);C=D&&this.injectableDefInScope(D)?qi(Ci(o),pr):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(u&Ze.Self?Nu():this.parent).get(o,l=u&Ze.Optional&&l===Ut?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[pl]=v[pl]||[]).unshift(ge(o)),h)throw v;return function ee(s,o,l,u){const h=s[pl];throw o[ua]&&h.unshift(o[ua]),s.message=function ce(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ge(o);if(Array.isArray(o))h=o.map(ge).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):ge(C)))}h=`{${g.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${s.replace(Dc,"\n  ")}`}("\n"+s.message,h,l,u),s.ngTokenPath=h,s[pl]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Mn(g),jn(h)}}resolveInjectorInitializers(){const o=jn(this),l=Mn(void 0);try{const u=this.get(ms.multi,bt,Ze.Self);for(const h of u)h()}finally{jn(o),Mn(l)}}toString(){const o=[],l=this.records;for(const u of l.keys())o.push(ge(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(o){let l=$r(o=te(o))?o:te(o&&o.provide);const u=function th(s){return Hs(s)?qi(void 0,s.useValue):qi(function nh(s,o,l){let u;if($r(s)){const h=te(s);return Ir(h)||Ci(h)}if(Hs(s))u=()=>te(s.useValue);else if(function On(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...T(s.deps||[]));else if(function ii(s){return!(!s||!s.useExisting)}(s))u=()=>Dn(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function Fc(s){return!!s.deps}(s))return Ir(h)||Ci(h);u=()=>new h(...T(s.deps))}return u}(s),pr)}(o);if($r(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=qi(void 0,pr,!0),h.factory=()=>T(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,u)}hydrate(o,l){return l.value===pr&&(l.value=ma,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Fu(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=te(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Ci(s){const o=tn(s),l=null!==o?o.factory:Ir(s);if(null!==l)return l;if(s instanceof hn)throw new Ce(204,!1);if(s instanceof Function)return function eh(s){const o=s.length;if(o>0)throw function us(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}(o,"?"),new Ce(204,!1);const l=function hi(s){const o=s&&(s[wr]||s[ji]);if(o){const l=function Mi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ce(204,!1)}function qi(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function qg(s){return!!s.\u0275providers}function Bc(s,o){for(const l of s)Array.isArray(l)?Bc(l,o):qg(l)?Bc(l.\u0275providers,o):o(l)}class rh{}class p{resolveComponentFactory(o){throw function Qg(s){const o=Error(`No component factory found for ${ge(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let m=(()=>{class s{}return s.NULL=new p,s})();function w(){return M(En(),Ae())}function M(s,o){return new N(wi(s,o))}let N=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=w,s})();function X(s){return s instanceof N?s.nativeElement:s}class Fe{}let qe=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function ft(){const s=Ae(),l=Ft(En().index,s);return(ei(l)?l:s)[11]}(),s})(),at=(()=>{class s{}return s.\u0275prov=Wt({token:s,providedIn:"root",factory:()=>null}),s})();class Sn{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Vi=new Sn("14.2.3"),wl={};function El(s){return s.ngOriginalError}class ju{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&El(o);for(;l&&El(l);)l=El(l);return l||null}}const nm=new Map;let vv=0;const rm="__ngContext__";function Xi(s,o){ei(o)?(s[rm]=o[20],function bv(s){nm.set(s[20],s)}(o)):s[rm]=o}function Do(s){return s instanceof Function?s():s}var So=(()=>((So=So||{})[So.Important=1]="Important",So[So.DashCase=2]="DashCase",So))();function cm(s,o){return undefined(s,o)}function ch(s){const o=s[3];return bi(o)?o[3]:o}function uh(s){return Av(s[13])}function um(s){return Av(s[4])}function Av(s){for(;null!==s&&!bi(s);)s=s[4];return s}function Vc(s,o,l,u,h){if(null!=u){let g,v=!1;bi(u)?g=u:ei(u)&&(v=!0,u=u[0]);const C=wn(u);0===s&&null!==l?null==h?kv(o,l,C):jc(o,l,C,h||null,!0):1===s&&null!==l?jc(o,l,C,h||null,!0):2===s?function fh(s,o,l){const u=hh(s,o);u&&function wC(s,o,l,u){s.removeChild(o,l,u)}(s,u,o,l)}(o,C,v):3===s&&o.destroyNode(C),null!=g&&function To(s,o,l,u,h){const g=l[7];g!==wn(l)&&Vc(o,s,u,g,h);for(let C=10;C<l.length;C++){const D=l[C];ph(D[1],D,s,o,u,g)}}(o,s,g,l,h)}}function fm(s,o,l){return s.createElement(o,l)}function Rv(s,o){const l=s[9],u=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,bn(h,-1)),l.splice(u,1)}function Wr(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const h=u[17];null!==h&&h!==s&&Rv(h,u),o>0&&(s[l-1][4]=u[4]);const g=Et(s,10+o);!function gC(s,o){ph(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=g[19];null!==v&&v.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function pm(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&ph(s,o,l,3,null,null),function _C(s){let o=s[13];if(!o)return gm(s[1],s);for(;o;){let l=null;if(ei(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)ei(o)&&gm(o[1],o),o=o[3];null===o&&(o=s),ei(o)&&gm(o[1],o),l=o&&o[4]}o=l}}(o)}}function gm(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function bC(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof ss)){const g=l[u+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=h[g[v]],D=g[v+1];try{D.call(C)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Zf(s,o){const l=s.cleanup,u=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],C="function"==typeof v?v(o):wn(o[v]),D=u[h=l[g+2]],x=l[g+3];"boolean"==typeof x?C.removeEventListener(l[g],D,x):x>=0?u[h=x]():u[h=-x].unsubscribe(),g+=2}else{const v=u[h=l[g+1]];l[g].call(v)}if(null!==u){for(let g=h+1;g<u.length;g++)(0,u[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&bi(o[3])){l!==o[3]&&Rv(l,o);const u=o[19];null!==u&&u.detachView(s)}!function nC(s){nm.delete(s[20])}(o)}}function Pv(s,o,l){return function Ov(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===et.None||h===et.Emulated)return null}return wi(u,l)}(s,o.parent,l)}function jc(s,o,l,u,h){s.insertBefore(o,l,u,h)}function kv(s,o,l){s.appendChild(o,l)}function dh(s,o,l,u,h){null!==u?jc(s,o,l,u,h):kv(s,o,l)}function hh(s,o){return s.parentNode(o)}let Hu=function Fv(s,o,l){return 40&s.type?wi(s,l):null};function qf(s,o,l,u){const h=Pv(s,u,o),g=o[11],C=function Lv(s,o,l){return Hu(s,o,l)}(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)dh(g,h,l[D],C,!1);else dh(g,h,l,C,!1)}function Qf(s,o){if(null!==o){const l=o.type;if(3&l)return wi(o,s);if(4&l)return va(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return Qf(s,u);{const h=s[o.index];return bi(h)?va(-1,h):wn(h)}}if(32&l)return cm(o,s)()||wn(s[o.index]);{const u=Uv(s,o);return null!==u?Array.isArray(u)?u[0]:Qf(ch(s[16]),u):Qf(s,o.next)}}return null}function Uv(s,o){return null!==o?s[16][6].projection[o.projection]:null}function va(s,o){const l=10+s+1;if(l<o.length){const u=o[l],h=u[1].firstChild;if(null!==h)return Qf(u,h)}return o[7]}function mm(s,o,l,u,h,g,v){for(;null!=l;){const C=u[l.index],D=l.type;if(v&&0===o&&(C&&Xi(wn(C),u),l.flags|=4),64!=(64&l.flags))if(8&D)mm(s,o,l.child,u,h,g,!1),Vc(o,s,h,C,g);else if(32&D){const x=cm(l,u);let O;for(;O=x();)Vc(o,s,h,O,g);Vc(o,s,h,C,g)}else 16&D?Vv(s,o,u,l,h,g):Vc(o,s,h,C,g);l=v?l.projectionNext:l.next}}function ph(s,o,l,u,h,g){mm(l,u,s.firstChild,o,h,g,!1)}function Vv(s,o,l,u,h,g){const v=l[16],D=v[6].projection[u.projection];if(Array.isArray(D))for(let x=0;x<D.length;x++)Vc(o,s,h,D[x],g);else mm(s,o,D,v[3],h,g,!0)}function jv(s,o,l){s.setAttribute(o,"style",l)}function ba(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function CC(s,o,l){let u=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===u||s.charCodeAt(h+g)<=32)return h}l=h+1}}const Hv="ng-template";function gh(s,o,l){let u=0;for(;u<s.length;){let h=s[u++];if(l&&"class"===h){if(h=s[u],-1!==CC(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function $v(s){return 4===s.type&&s.value!==Hv}function _m(s,o,l){return o===(4!==s.type||l?s.value:Hv)}function IC(s,o,l){let u=4;const h=s.attrs||[],g=function Wv(s){for(let o=0;o<s.length;o++)if(Os(s[o]))return o;return s.length}(h);let v=!1;for(let C=0;C<o.length;C++){const D=o[C];if("number"!=typeof D){if(!v)if(4&u){if(u=2|1&u,""!==D&&!_m(s,D,l)||""===D&&1===o.length){if(zs(u))return!1;v=!0}}else{const x=8&u?D:o[++C];if(8&u&&null!==s.attrs){if(!gh(s.attrs,x,l)){if(zs(u))return!1;v=!0}continue}const F=ym(8&u?"class":D,h,$v(s),l);if(-1===F){if(zs(u))return!1;v=!0;continue}if(""!==x){let Z;Z=F>g?"":h[F+1].toLowerCase();const se=8&u?Z:null;if(se&&-1!==CC(se,x,0)||2&u&&x!==Z){if(zs(u))return!1;v=!0}}}}else{if(!v&&!zs(u)&&!zs(D))return!1;if(v&&zs(D))continue;v=!1,u=D|1&u}}return zs(u)||v}function zs(s){return 0==(1&s)}function ym(s,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function mh(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function vm(s,o,l=!1){for(let u=0;u<o.length;u++)if(IC(s,o[u],l))return!0;return!1}function $u(s,o){return s?":not("+o.trim()+")":o}function SC(s){let o=s[0],l=1,u=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&u){const C=s[++l];h+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!zs(v)&&(o+=$u(g,h),h=""),u=v,g=g||!zs(u);l++}return""!==h&&(o+=$u(g,h)),o}const St={};function bm(s){wm(Pt(),Ae(),Gn()+s,!1)}function wm(s,o,l,u){if(!u)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&so(o,g,l)}else{const g=s.preOrderHooks;null!==g&&oo(o,g,0,l)}Ni(l)}function _h(s,o=null,l=null,u){const h=Zv(s,o,l,u);return h.resolveInjectorInitializers(),h}function Zv(s,o=null,l=null,u,h=new Set){const g=[l||bt,Yg(s)];return u=u||("object"==typeof s?void 0:ge(s)),new Lu(g,o||Nu(),u||null,h)}let Cl=(()=>{class s{static create(l,u){if(Array.isArray(l))return _h({name:""},u,l,"");{const h=l.name??"";return _h({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=Ut,s.NULL=new ga,s.\u0275prov=Wt({token:s,providedIn:"any",factory:()=>Dn(Ru)}),s.__NG_ELEMENT_ID__=-1,s})();function Zu(s,o=Ze.Default){const l=Ae();return null===l?Dn(s,o):Ns(En(),l,te(s),o)}function xm(){throw new Error("invalid")}function op(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const h=l[u],g=l[u+1];if(-1!==g){const v=s.data[g];qo(h),v.contentQueries(2,o[g],g)}}}function lp(s,o,l,u,h,g,v,C,D,x,O){const F=o.blueprint.slice();return F[0]=h,F[2]=76|u,(null!==O||s&&1024&s[2])&&(F[2]|=1024),$a(F),F[3]=F[15]=s,F[8]=l,F[10]=v||s&&s[10],F[11]=C||s&&s[11],F[12]=D||s&&s[12]||null,F[9]=x||s&&s[9]||null,F[6]=g,F[20]=function tC(){return vv++}(),F[21]=O,F[16]=2==o.type?s[16]:F,F}function qu(s,o,l,u,h){let g=s.data[o];if(null===g)g=function cp(s,o,l,u,h){const g=Ka(),v=zo(),D=s.data[o]=function QC(s,o,l,u,h,g){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,u,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,l,u,h),function bf(){return wt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=u,g.attrs=h;const v=function ro(){const s=wt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Gi(g,!0),g}function Wc(s,o,l,u){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function Fm(s,o,l){qa(o);try{const u=s.viewQuery;null!==u&&gp(1,u,l);const h=s.template;null!==h&&pb(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&op(s,o),s.staticViewQueries&&gp(2,s.viewQuery,l);const g=s.components;null!==g&&function YC(s,o){for(let l=0;l<o.length;l++)Ca(s,o[l])}(o,g)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Ms()}}function up(s,o,l,u){const h=o[2];if(128!=(128&h)){qa(o);try{$a(o),function uc(s){return wt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&pb(s,o,l,2,u);const v=3==(3&h);if(v){const x=s.preOrderCheckHooks;null!==x&&so(o,x,null)}else{const x=s.preOrderHooks;null!==x&&oo(o,x,0,null),fu(o,0)}if(function aI(s){for(let o=uh(s);null!==o;o=um(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const h=l[u],g=h[3];0==(512&h[2])&&bn(g,1),h[2]|=512}}}(o),function fp(s){for(let o=uh(s);null!==o;o=um(o))for(let l=10;l<o.length;l++){const u=o[l],h=u[1];xs(u)&&up(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&op(s,o),v){const x=s.contentCheckHooks;null!==x&&so(o,x)}else{const x=s.contentHooks;null!==x&&oo(o,x,1),fu(o,1)}!function ZC(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)Ni(~h);else{const g=h,v=l[++u],C=l[++u];wf(v,g),C(2,o[g])}}}finally{Ni(-1)}}(s,o);const C=s.components;null!==C&&function ap(s,o){for(let l=0;l<o.length;l++)Eh(s,o[l])}(o,C);const D=s.viewQuery;if(null!==D&&gp(2,D,u),v){const x=s.viewCheckHooks;null!==x&&so(o,x)}else{const x=s.viewHooks;null!==x&&oo(o,x,2),fu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,bn(o[3],-1))}finally{Ms()}}}function pb(s,o,l,u,h){const g=Gn(),v=2&u;try{Ni(-1),v&&o.length>22&&wm(s,o,22,!1),l(u,h)}finally{Ni(g)}}function Bm(s,o,l){!Fr()||(function iI(s,o,l,u){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||ks(l,o),Xi(u,o);const v=l.initialInputs;for(let C=h;C<g;C++){const D=s.data[C],x=fi(D);x&&sI(o,l,D);const O=Ur(o,s,C,l);Xi(O,o),null!==v&&oI(0,C-h,O,D,0,v),x&&(Ft(l.index,o)[8]=O)}}(s,o,l,wi(l,o)),128==(128&l.flags)&&function jm(s,o,l){const u=l.directiveStart,h=l.directiveEnd,g=l.index,v=function dc(){return wt.lFrame.currentDirectiveIndex}();try{Ni(g);for(let C=u;C<h;C++){const D=s.data[C],x=o[C];Za(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&wb(D,x)}}finally{Ni(-1),Za(v)}}(s,o,l))}function wh(s,o,l=wi){const u=o.localNames;if(null!==u){let h=o.index+1;for(let g=0;g<u.length;g+=2){const v=u[g+1],C=-1===v?l(o,s):s[v];s[h++]=C}}}function Um(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=hp(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function hp(s,o,l,u,h,g,v,C,D,x){const O=22+u,F=O+h,Z=function gb(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:St);return l}(O,F),se="function"==typeof x?x():x;return Z[1]={type:s,blueprint:Z,template:l,queries:null,viewQuery:C,declTNode:o,data:Z.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:se,incompleteFirstPass:!1}}function mb(s,o,l,u){const h=Sb(o);null===l?h.push(u):(h.push(l),s.firstCreatePass&&Km(s).push(u,h.length-1))}function _b(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,h):l[u]=[o,h]}return l}function yb(s,o){const u=o.directiveEnd,h=s.data,g=o.attrs,v=[];let C=null,D=null;for(let x=o.directiveStart;x<u;x++){const O=h[x],F=O.inputs,Z=null===g||$v(o)?null:zm(F,g);v.push(Z),C=_b(F,x,C),D=_b(O.outputs,x,D)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=D}function vb(s,o){const l=Ft(o,s);16&l[2]||(l[2]|=32)}function Vm(s,o,l,u){let h=!1;if(Fr()){const g=function Eb(s,o,l){const u=s.directiveRegistry;let h=null;if(u)for(let g=0;g<u.length;g++){const v=u[g];vm(l,v.selectors,!1)&&(h||(h=[]),os(ks(l,o),s,v.type),fi(v)?(Hm(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===u?null:{"":-1};if(null!==g){h=!0,Ib(l,s.data.length,g.length);for(let O=0;O<g.length;O++){const F=g[O];F.providersResolver&&F.providersResolver(F)}let C=!1,D=!1,x=Wc(s,o,g.length,null);for(let O=0;O<g.length;O++){const F=g[O];l.mergedAttrs=Qo(l.mergedAttrs,F.hostAttrs),$m(s,l,o,x,F),Cb(x,F,v),null!==F.contentQueries&&(l.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(l.flags|=128);const Z=F.type.prototype;!C&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),C=!0),!D&&(Z.ngOnChanges||Z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),D=!0),x++}yb(s,l)}v&&function rI(s,o,l){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Ce(-301,!1);u.push(o[h],g)}}}(l,u,v)}return l.mergedAttrs=Qo(l.mergedAttrs,l.attrs),h}function bb(s,o,l,u,h,g){const v=g.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const D=~o.index;(function nI(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(C)!=D&&C.push(D),C.push(u,h,v)}}function wb(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Hm(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Cb(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;fi(o)&&(l[""]=s)}}function Ib(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function $m(s,o,l,u,h){s.data[u]=h;const g=h.factory||(h.factory=Ir(h.type)),v=new ss(g,fi(h),Zu);s.blueprint[u]=v,l[u]=v,bb(s,o,0,u,Wc(s,l,h.hostVars,St),h)}function sI(s,o,l){const u=wi(o,s),h=Um(l),g=s[10],v=Ch(s,lp(s,h,null,l.onPush?32:16,u,o,g,g.createRenderer(u,l),null,null,null));s[o.index]=v}function Gs(s,o,l,u,h,g){const v=wi(s,o);!function Wm(s,o,l,u,h,g,v){if(null==g)s.removeAttribute(o,h,l);else{const C=null==v?ve(g):v(g,u||"",h);s.setAttribute(o,h,C,l)}}(o[11],v,g,s.value,l,u,h)}function oI(s,o,l,u,h,g){const v=g[o];if(null!==v){const C=u.setInput;for(let D=0;D<v.length;){const x=v[D++],O=v[D++],F=v[D++];null!==C?u.setInput(l,F,x,O):l[O]=F}}}function zm(s,o){let l=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return l}function Db(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function Eh(s,o){const l=Ft(o,s);if(xs(l)){const u=l[1];48&l[2]?up(u,l,u.template,l[8]):l[5]>0&&vs(l)}}function vs(s){for(let u=uh(s);null!==u;u=um(u))for(let h=10;h<u.length;h++){const g=u[h];if(xs(g))if(512&g[2]){const v=g[1];up(v,g,v.template,g[8])}else g[5]>0&&vs(g)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const h=Ft(l[u],s);xs(h)&&h[5]>0&&vs(h)}}function Ca(s,o){const l=Ft(o,s),u=l[1];(function lI(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),Fm(u,l,l[8])}function Ch(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Gm(s){for(;s;){s[2]|=32;const o=ch(s);if(kd(s)&&!o)return s;s=o}return null}function pp(s,o,l,u=!0){const h=o[10];h.begin&&h.begin();try{up(s,o,s.template,l)}catch(v){throw u&&Zm(o,v),v}finally{h.end&&h.end()}}function gp(s,o,l){qo(0),o(s,l)}function Sb(s){return s[7]||(s[7]=[])}function Km(s){return s.cleanup||(s.cleanup=[])}function Zm(s,o){const l=s[9],u=l?l.get(ju,null):null;u&&u.handleError(o)}function Ym(s,o,l,u,h){for(let g=0;g<l.length;){const v=l[g++],C=l[g++],D=o[v],x=s.data[v];null!==x.setInput?x.setInput(D,h,u,C):D[C]=h}}function xo(s,o,l){const u=function zi(s,o){return wn(o[s])}(o,s);!function hm(s,o,l){s.setValue(o,l)}(s[11],u,l)}function Dh(s,o,l){let u=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?g=C:1==g?h=_e(h,C):2==g&&(u=_e(u,C+": "+o[++v]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=h:s.classesWithoutHost=h}function mp(s,o,l,u,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&u.push(wn(g)),bi(g))for(let C=10;C<g.length;C++){const D=g[C],x=D[1].firstChild;null!==x&&mp(D[1],D,x,u)}const v=l.type;if(8&v)mp(s,o,l.child,u);else if(32&v){const C=cm(l,o);let D;for(;D=C();)u.push(D)}else if(16&v){const C=Uv(o,l);if(Array.isArray(C))u.push(...C);else{const D=ch(o[16]);mp(D[1],D,C,u,!0)}}l=h?l.projectionNext:l.next}return u}class Sh{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return mp(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(bi(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(Wr(o,u),Et(l,u))}this._attachedToViewContainer=!1}pm(this._lView[1],this._lView)}onDestroy(o){mb(this._lView[1],this._lView,null,o)}markForCheck(){Gm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){pp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mv(s,o){ph(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=o}}class cI extends Sh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;pp(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class qm extends m{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=It(o);return new Qu(l,this.ngModule)}}function Tb(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class uI{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,u){const h=this.injector.get(o,wl,u);return h!==wl||l===wl?h:this.parentInjector.get(o,l,u)}}class Qu extends rh{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function TC(s){return s.map(SC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Tb(this.componentDef.inputs)}get outputs(){return Tb(this.componentDef.outputs)}create(o,l,u,h){let g=(h=h||this.ngModule)instanceof $s?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new uI(o,g):o,C=v.get(Fe,null);if(null===C)throw new Ce(407,!1);const D=v.get(at,null),x=C.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",F=u?function qC(s,o,l){return s.selectRootElement(o,l===et.ShadowDom)}(x,u,this.componentDef.encapsulation):fm(C.createRenderer(null,this.componentDef),O,function _p(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(O)),Z=this.componentDef.onPush?288:272,se=hp(0,null,null,1,0,null,null,null,null,null),Ie=lp(null,se,null,Z,null,null,C,x,D,v,null);let Le,ze;qa(Ie);try{const Xe=function Qm(s,o,l,u,h,g){const v=l[1];l[22]=s;const D=qu(v,22,2,"#host",null),x=D.mergedAttrs=o.hostAttrs;null!==x&&(Dh(D,x,!0),null!==s&&(co(h,s,x),null!==D.classes&&ba(h,s,D.classes),null!==D.styles&&jv(h,s,D.styles)));const O=u.createRenderer(s,o),F=lp(l,Um(o),null,o.onPush?32:16,l[22],D,u,O,g||null,null,null);return v.firstCreatePass&&(os(ks(D,l),v,o.type),Hm(v,D),Ib(D,l.length,1)),Ch(l,F),l[22]=F}(F,this.componentDef,Ie,C,x);if(F)if(u)co(x,F,["ng-version",Vi.full]);else{const{attrs:pt,classes:Pe}=function xC(s){const o=[],l=[];let u=1,h=2;for(;u<s.length;){let g=s[u];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++u]):8===h&&l.push(g);else{if(!zs(h))break;h=g}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);pt&&co(x,F,pt),Pe&&Pe.length>0&&ba(x,F,Pe.join(" "))}if(ze=io(se,22),void 0!==l){const pt=ze.projection=[];for(let Pe=0;Pe<this.ngContentSelectors.length;Pe++){const vt=l[Pe];pt.push(null!=vt?Array.from(vt):null)}}Le=function Xm(s,o,l,u){const h=l[1],g=function tI(s,o,l){const u=En();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),$m(s,u,o,Wc(s,o,1,null),l),yb(s,u));const h=Ur(o,s,u.directiveStart,u);Xi(h,o);const g=wi(u,o);return g&&Xi(g,o),h}(h,l,o);if(s[8]=l[8]=g,null!==u)for(const C of u)C(g,o);if(o.contentQueries){const C=En();o.contentQueries(1,g,C.directiveStart)}const v=En();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ni(v.index),bb(l[1],v,0,v.directiveStart,v.directiveEnd,o),wb(o,g)),g}(Xe,this.componentDef,Ie,[dI]),Fm(se,Ie,null)}finally{Ms()}return new Ab(this.componentType,Le,M(ze,Ie),Ie,ze)}}class Ab extends class Hf{}{constructor(o,l,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new cI(h),this.componentType=o}setInput(o,l){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[o])){const g=this._rootLView;Ym(g[1],g,h,o,l),vb(g,this._tNode.index)}}get injector(){return new Ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function dI(){const s=En();vc(Ae()[1],s)}let vp=null;function Ks(){if(!vp){const s=on.Symbol;if(s&&s.iterator)vp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(vp=u)}}}return vp}function Ii(s){return!!bp(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ks()in s)}function bp(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function er(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Th(s,o,l,u){const h=Ae();return er(h,As(),o)&&(Pt(),Gs(gn(),h,s,o,l,u)),Th}function Vb(s,o,l,u,h,g,v,C){const D=Ae(),x=Pt(),O=s+22,F=x.firstCreatePass?function wI(s,o,l,u,h,g,v,C,D){const x=o.consts,O=qu(o,s,4,v||null,ar(x,C));Vm(o,l,O,ar(x,D)),vc(o,O);const F=O.tViews=hp(2,O,u,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,O),F.queries=o.queries.embeddedTView(O)),O}(O,x,D,o,l,u,h,g,v):x.data[O];Gi(F,!1);const Z=D[11].createComment("");qf(x,D,Z,F),Xi(Z,D),Ch(D,D[O]=Db(Z,D,Z,F)),Jl(F)&&Bm(x,D,F),null!=v&&wh(D,F,C)}function xl(s,o,l){const u=Ae();return er(u,As(),o)&&function zr(s,o,l,u,h,g,v,C){const D=wi(o,l);let O,x=o.inputs;!C&&null!=x&&(O=x[u])?(Ym(s,l,O,u,h),jo(o)&&vb(l,o.index)):3&o.type&&(u=function XC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,g.setProperty(D,u,h))}(Pt(),gn(),u,s,o,u[11],l,!1),xl}function sd(s,o,l,u,h){const v=h?"class":"style";Ym(s,l,o.inputs[v],v,u)}function wp(s,o,l,u){const h=Ae(),g=Pt(),v=22+s,C=h[11],D=h[v]=fm(C,o,function Xa(){return wt.lFrame.currentNamespace}()),x=g.firstCreatePass?function II(s,o,l,u,h,g,v){const C=o.consts,x=qu(o,s,2,h,ar(C,g));return Vm(o,l,x,ar(C,v)),null!==x.attrs&&Dh(x,x.attrs,!1),null!==x.mergedAttrs&&Dh(x,x.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,x),x}(v,g,h,0,o,l,u):g.data[v];Gi(x,!0);const O=x.mergedAttrs;null!==O&&co(C,D,O);const F=x.classes;null!==F&&ba(C,D,F);const Z=x.styles;return null!==Z&&jv(C,D,Z),64!=(64&x.flags)&&qf(g,h,D,x),0===function za(){return wt.lFrame.elementDepthCount}()&&Xi(D,h),function Ga(){wt.lFrame.elementDepthCount++}(),Jl(x)&&(Bm(g,h,x),function dp(s,o,l){if(La(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}(g,x,h)),null!==u&&wh(h,x),wp}function Ep(){let s=En();zo()?function Go(){wt.lFrame.isParent=!1}():(s=s.parent,Gi(s,!1));const o=s;!function rc(){wt.lFrame.elementDepthCount--}();const l=Pt();return l.firstCreatePass&&(vc(l,s),La(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function tl(s){return 0!=(16&s.flags)}(o)&&sd(l,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function gu(s){return 0!=(32&s.flags)}(o)&&sd(l,o,Ae(),o.stylesWithoutHost,!1),Ep}function n_(s,o,l,u){return wp(s,o,l,u),Ep(),n_}function Cp(s){return!!s&&"function"==typeof s.then}function Hb(s){return!!s&&"function"==typeof s.subscribe}const $b=Hb;function Al(s,o,l,u){const h=Ae(),g=Pt(),v=En();return function s_(s,o,l,u,h,g,v,C){const D=Jl(u),O=s.firstCreatePass&&Km(s),F=o[8],Z=Sb(o);let se=!0;if(3&u.type||C){const ze=wi(u,o),Xe=C?C(ze):ze,pt=Z.length,Pe=C?an=>C(wn(an[u.index])):u.index;let vt=null;if(!C&&D&&(vt=function Ip(s,o,l,u){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===u){const C=o[7],D=h[g+2];return C.length>D?C[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,u.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=g,vt.__ngLastListenerFn__=g,se=!1;else{g=Gb(u,o,F,g,!1);const an=l.listen(Xe,h,g);Z.push(g,an),O&&O.push(h,Pe,pt,pt+1)}}else g=Gb(u,o,F,g,!1);const Ie=u.outputs;let Le;if(se&&null!==Ie&&(Le=Ie[h])){const ze=Le.length;if(ze)for(let Xe=0;Xe<ze;Xe+=2){const Tn=o[Le[Xe]][Le[Xe+1]].subscribe(g),Wl=Z.length;Z.push(g,Tn),O&&O.push(h,u.index,Wl,-(Wl+1))}}}(g,h,h[11],v,s,o,0,u),Al}function zb(s,o,l,u){try{return!1!==l(u)}catch(h){return Zm(s,h),!1}}function Gb(s,o,l,u,h){return function g(v){if(v===Function)return u;Gm(2&s.flags?Ft(s.index,o):o);let D=zb(o,0,u,v),x=g.__ngNextListenerFn__;for(;x;)D=zb(o,0,x,v)&&D,x=x.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function od(s=1){return function Rs(s){return(wt.lFrame.contextLView=function Qa(s,o){for(;s>0;)o=o[15],s--;return o}(s,wt.lFrame.contextLView))[8]}(s)}function g0(s,o=""){const l=Ae(),u=Pt(),h=s+22,g=u.firstCreatePass?qu(u,h,1,o,null):u.data[h],v=l[h]=function dm(s,o){return s.createText(o)}(l[11],o);qf(u,l,v,g),Gi(g,!1)}function d_(s){return h_("",s,""),d_}function h_(s,o,l){const u=Ae(),h=function td(s,o,l,u){return er(s,As(),l)?o+ve(l)+u:St}(u,s,o,l);return h!==St&&xo(u,Gn(),h),h_}const Rl=void 0;var oD=["en",[["a","p"],["AM","PM"],Rl],[["AM","PM"],Rl,Rl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rl,"{1} 'at' {0}",Rl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function x0(s){const l=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let ud={};function Mp(s){const o=function aD(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=M0(o);if(l)return l;const u=o.split("-")[0];if(l=M0(u),l)return l;if("en"===u)return oD;throw new Ce(701,!1)}function A0(s){return Mp(s)[yt.PluralCase]}function M0(s){return s in ud||(ud[s]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[s]),ud[s]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const dd="en-US";let P0=dd;class fd{}class nw{}function qD(s,o){return new iw(s,o??null)}class iw extends fd{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qm(this);const u=vi(o);this._bootstrapComponents=Do(u.bootstrap),this._r3Injector=Zv(o,l,[{provide:fd,useValue:this},{provide:m,useValue:this.componentFactoryResolver}],ge(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class M_ extends nw{constructor(o){super(),this.moduleType=o}create(o){return new iw(this.moduleType,o)}}class QD extends fd{constructor(o,l,u){super(),this.componentFactoryResolver=new qm(this),this.instance=null;const h=new Lu([...o,{provide:fd,useValue:this},{provide:m,useValue:this.componentFactoryResolver}],l||Nu(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function R_(s,o,l=null){return new QD(s,o,l).injector}let XD=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const u=Ou(0,l.type),h=u.length>0?R_([u],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Wt({token:s,providedIn:"environment",factory:()=>new s(Dn($s))}),s})();function rw(s){s.getStandaloneInjector=o=>o.get(XD).getOrCreateStandaloneInjector(s)}function dw(s,o,l,u){return function hw(s,o,l,u,h,g){const v=o+l;return er(s,v,h)?function Ao(s,o,l){return s[o]=l}(s,v+1,g?u.call(g,h):u(h)):function Bh(s,o){const l=s[o];return l===St?void 0:l}(s,v+1)}(Ae(),function Cn(){const s=wt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,l,u)}function Lp(s){return o=>{setTimeout(s,void 0,o)}}const Po=class Ol extends b.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){let h=o,g=l||(()=>null),v=u;if(o&&"object"==typeof o){const D=o;h=D.next?.bind(D),g=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(g=Lp(g),h&&(h=Lp(h)),v&&(v=Lp(v)));const C=super.subscribe({next:h,error:g,complete:v});return o instanceof re.w0&&o.add(C),C}};function ci(){return this._results[Ks()]()}class kl{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Ks(),u=kl.prototype;u[l]||(u[l]=ci)}get changes(){return this._changes||(this._changes=new Po)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=_t(o);(this._changesDetected=!function Jt(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],g=o[u];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let rt=(()=>{class s{}return s.__NG_ELEMENT_ID__=Nl,s})();const mS=rt,Fp=class extends mS{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o,l){const u=this._declarationTContainer.tViews,h=lp(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(u)),Fm(u,h,o),new Sh(h)}};function Nl(){return Bp(En(),Ae())}function Bp(s,o){return 4&s.type?new Fp(o,s,M(s,o)):null}let Up=(()=>{class s{}return s.__NG_ELEMENT_ID__=_S,s})();function _S(){return yw(En(),Ae())}const yS=Up,mw=class extends yS{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return M(this._hostTNode,this._hostLView)}get injector(){return new Ls(this._hostTNode,this._hostLView)}get parentInjector(){const o=sl(this._hostTNode,this._hostLView);if(_u(o)){const l=Jo(o,this._hostLView),u=ti(o);return new Ls(l[1].data[u+8],l)}return new Ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=_w(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){let h,g;"number"==typeof u?h=u:null!=u&&(h=u.index,g=u.injector);const v=o.createEmbeddedView(l||{},g);return this.insert(v,h),v}createComponent(o,l,u,h,g){const v=o&&!function _o(s){return"function"==typeof s}(o);let C;if(v)C=l;else{const F=l||{};C=F.index,u=F.injector,h=F.projectableNodes,g=F.environmentInjector||F.ngModuleRef}const D=v?o:new Qu(It(o)),x=u||this.parentInjector;if(!g&&null==D.ngModule){const Z=(v?x:this.parentInjector).get($s,null);Z&&(g=Z)}const O=D.create(x,h,void 0,g);return this.insert(O.hostView,C),O}insert(o,l){const u=o._lView,h=u[1];if(function Ha(s){return bi(s[3])}(u)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const F=u[3],Z=new mw(F,F[6],F[3]);Z.detach(Z.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function yC(s,o,l,u){const h=10+u,g=l.length;u>0&&(l[h-1][4]=o),u<g-10?(o[4]=l[h],Fi(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function vC(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=64}(h,u,v,g);const C=va(g,v),D=u[11],x=hh(D,v[7]);return null!==x&&function mC(s,o,l,u,h,g){u[0]=h,u[6]=o,ph(s,u,l,1,h,g)}(h,v[6],D,u,x,C),o.attachToViewContainerRef(),Fi(xt(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=_w(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=Wr(this._lContainer,l);u&&(Et(xt(this._lContainer),l),pm(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=Wr(this._lContainer,l);return u&&null!=Et(xt(this._lContainer),l)?new Sh(u):null}_adjustIndex(o,l=0){return o??this.length+l}};function _w(s){return s[8]}function xt(s){return s[8]||(s[8]=[])}function yw(s,o){let l;const u=o[s.index];if(bi(u))l=u;else{let h;if(8&s.type)h=wn(u);else{const g=o[11];h=g.createComment("");const v=wi(s,o);jc(g,hh(g,v),h,function Nv(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=l=Db(u,o,h,s),Ch(o,l)}return new mw(l,s,o)}class F_{constructor(o){this.queryList=o,this.matches=null}clone(){return new F_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<u;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new Vp(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Oo(o,l).matches&&this.queries[l].setDirty()}}class vw{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class jp{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,g=this.getByIndex(u).embeddedTView(o,h);g&&(g.indexInDeclarationView=u,null!==l?l.push(g):l=[g])}return null!==l?new jp(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Zc{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Zc(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(o,l,wS(l,g)),this.matchTNodeWithReadOption(o,l,uo(l,o,g,!1,!1))}else u===rt?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,uo(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===N||h===Up||h===rt&&4&l.type)this.addMatch(l.index,-2);else{const g=uo(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function wS(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function Hp(s,o,l,u){return-1===l?function B_(s,o){return 11&s.type?M(s,o):4&s.type?Bp(s,o):null}(o,s):-2===l?function bw(s,o,l){return l===N?M(o,s):l===rt?Bp(o,s):l===Up?yw(o,s):void 0}(s,o,u):Ur(s,s[1],l,o)}function ww(s,o,l,u){const h=o[19].queries[u];if(null===h.matches){const g=s.data,v=l.matches,C=[];for(let D=0;D<v.length;D+=2){const x=v[D];C.push(x<0?null:Hp(o,g[x],v[D+1],l.metadata.read))}h.matches=C}return h.matches}function Vh(s,o,l,u){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=ww(s,o,h,l);for(let C=0;C<g.length;C+=2){const D=g[C];if(D>0)u.push(v[C/2]);else{const x=g[C+1],O=o[-D];for(let F=10;F<O.length;F++){const Z=O[F];Z[17]===Z[3]&&Vh(Z[1],Z,x,u)}if(null!==O[9]){const F=O[9];for(let Z=0;Z<F.length;Z++){const se=F[Z];Vh(se[1],se,x,u)}}}}}return u}function pd(s){const o=Ae(),l=Pt(),u=hc();qo(u+1);const h=Oo(l,u);if(s.dirty&&function ja(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Vh(l,o,u,[]):ww(l,o,h,u);s.reset(g,X),s.notifyOnChanges()}return!0}return!1}function Ll(s,o,l){const u=Pt();u.firstCreatePass&&(gd(u,new vw(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),ui(u,Ae(),o)}function U_(s,o,l,u){const h=Pt();if(h.firstCreatePass){const g=En();gd(h,new vw(o,l,u),g.index),function ES(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}ui(h,Ae(),l)}function $p(){return function Ew(s,o){return s[19].queries[o].queryList}(Ae(),hc())}function ui(s,o,l){const u=new kl(4==(4&l));mb(s,o,u,u.destroy),null===o[19]&&(o[19]=new Vp),o[19].queries.push(new F_(u))}function gd(s,o,l){null===s.queries&&(s.queries=new jp),s.queries.track(new Zc(o,l))}function Oo(s,o){return s.queries.getByIndex(o)}function Yp(...s){}const Ow=new hn("Application Initializer");let qp=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Yp,this.reject=Yp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Cp(g))l.push(g);else if($b(g)){const v=new Promise((C,D)=>{g.subscribe({complete:C,error:D})});l.push(v)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Dn(Ow,8))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const kw=new hn("AppId",{providedIn:"root",factory:function Qp(){return`${X_()}${X_()}${X_()}`}});function X_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jl=new hn("Platform Initializer"),J_=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),kS=new hn("appBootstrapListener");let NS=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Hl=new hn("LocaleId",{providedIn:"root",factory:()=>S(Hl,Ze.Optional|Ze.SkipSelf)||function zh(){return typeof $localize<"u"&&$localize.locale||dd}()}),_d=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class yd{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let US=(()=>{class s{compileModuleSync(l){return new M_(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),g=Do(vi(l).declarations).reduce((v,C)=>{const D=It(C);return D&&v.push(new Qu(D)),v},[]);return new yd(u,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const $S=(()=>Promise.resolve(0))();function Jp(s){typeof Zone>"u"?$S.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class di{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Po(!1),this.onMicrotaskEmpty=new Po(!1),this.onStable=new Po(!1),this.onError=new Po(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Nw(){let s=on.requestAnimationFrame,o=on.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Lw(s){const o=()=>{!function eg(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(on,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,ty(s),s.isCheckStableRunning=!0,Ta(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),ty(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,g,v,C)=>{try{return Fw(s),l.invokeTask(h,g,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Bw(s)}},onInvoke:(l,u,h,g,v,C,D)=>{try{return Fw(s),l.invoke(h,g,v,C,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),Bw(s)}},onHasTask:(l,u,h,g)=>{l.hasTask(h,g),u===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,ty(s),Ta(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,u,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!di.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(di.isInAngularZone())throw new Ce(909,!1)}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,ey,Yp,Yp);try{return g.runTask(v,l,u)}finally{g.cancelTask(v)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const ey={};function Ta(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function ty(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Fw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Bw(s){s._nesting--,Ta(s)}class WS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Po,this.onMicrotaskEmpty=new Po,this.onStable=new Po,this.onError=new Po}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}const Uw=new hn(""),Vw=new hn("");let ny,zS=(()=>{class s{constructor(l,u,h){this._ngZone=l,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ny||(function GS(s){ny=s}(h),h.addToWindow(u)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{di.assertNotInAngularZone(),Jp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jp(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,u,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Dn(di),Dn(jw),Dn(Vw))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})(),jw=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return ny?.findTestabilityInTree(this,l,u)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),$l=null;const iy=new hn("AllowMultipleToken"),ry=new hn("PlatformDestroyListeners");class bd{constructor(o,l){this.name=o,this.token=l}}function oy(s,o,l=[]){const u=`Platform: ${o}`,h=new hn(u);return(g=[])=>{let v=Kh();if(!v||v.injector.get(iy,!1)){const C=[...l,...g,{provide:h,useValue:!0}];s?s(C):function $w(s){if($l&&!$l.get(iy,!1))throw new Ce(400,!1);$l=s;const o=s.get(ay);(function zw(s){const o=s.get(jl,null);o&&o.forEach(l=>l())})(s)}(function Gh(s=[],o){return Cl.create({name:o,providers:[{provide:_s,useValue:"platform"},{provide:ry,useValue:new Set([()=>$l=null])},...s]})}(C,u))}return function KS(s){const o=Kh();if(!o)throw new Ce(401,!1);return o}()}}function Kh(){return $l?.get(ay)??null}let ay=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const h=function ng(s,o){let l;return l="noop"===s?new WS:("zone.js"===s?void 0:s)||new di(o),l}(u?.ngZone,function tg(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),g=[{provide:di,useValue:h}];return h.run(()=>{const v=Cl.create({providers:g,parent:this.injector,name:l.moduleType.name}),C=l.create(v),D=C.injector.get(ju,null);if(!D)throw new Ce(402,!1);return h.runOutsideAngular(()=>{const x=h.onError.subscribe({next:O=>{D.handleError(O)}});C.onDestroy(()=>{rg(this._modules,C),x.unsubscribe()})}),function Gw(s,o,l){try{const u=l();return Cp(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(D,h,()=>{const x=C.injector.get(qp);return x.runInitializers(),x.donePromise.then(()=>(function __(s){Mt(s,"Expected localeId to be defined"),"string"==typeof s&&(P0=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Hl,dd)||dd),this._moduleDoBootstrap(C),C))})})}bootstrapModule(l,u=[]){const h=Ed({},u);return function sy(s,o,l){const u=new M_(l);return Promise.resolve(u)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const u=l.injector.get(ig);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Ce(403,!1);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const l=this._injector.get(ry,null);l&&(l.forEach(u=>u()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Dn(Cl))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Ed(s,o){return Array.isArray(o)?o.reduce(Ed,s):{...s,...o}}let ig=(()=>{class s{constructor(l,u,h){this._zone=l,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new L.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new L.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{di.assertNotInAngularZone(),Jp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{di.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),x.unsubscribe()}});this.isStable=(0,de.T)(g,v.pipe((0,ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,u){const h=l instanceof rh;if(!this._injector.get(qp).done)throw!h&&Er(l),new Ce(405,false);let v;v=h?l:this._injector.get(m).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const C=function xa(s){return s.isBoundToModule}(v)?void 0:this._injector.get(fd),x=v.create(Cl.NULL,[],u||v.selector,C),O=x.location.nativeElement,F=x.injector.get(Uw,null);return F?.registerApplication(O),x.onDestroy(()=>{this.detachView(x.hostView),rg(this.components,x),F?.unregisterApplication(O)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;rg(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(kS,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>rg(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ce(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(Dn(di),Dn($s),Dn(ju))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function rg(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let ly=!0,cy=!1;function Zw(){return cy=!0,ly}function YS(){if(cy)throw new Error("Cannot enable prod mode after platform setup.");ly=!1}let qS=(()=>{class s{}return s.__NG_ELEMENT_ID__=QS,s})();function QS(s){return function dy(s,o,l){if(jo(s)&&!l){const u=Ft(s.index,o);return new Sh(u,u)}return 47&s.type?new Sh(o[16],o):null}(En(),Ae(),16==(16&s))}class Yw{constructor(){}supports(o){return Ii(o)}create(o){return new qh(o)}}const Yh=(s,o)=>o;class qh{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Yh}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,g=null;for(;l||u;){const v=!u||l&&l.currentIndex<Qw(u,h,g)?l:u,C=Qw(v,h,g),D=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const x=C-h,O=D-h;if(x!=O){for(let Z=0;Z<x;Z++){const se=Z<g.length?g[Z]:g[Z]=0,Ie=se+Z;O<=Ie&&Ie<x&&(g[Z]=se+1)}g[v.previousIndex]=O-x}}C!==D&&o(v,C,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Ii(o))throw new Ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)g=o[C],v=this._trackByFn(C,g),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,g,v,C)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,C),u=!0),l=l._next}else h=0,function Pb(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Ks()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,C=>{v=this._trackByFn(h,C),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,C,v,h)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new nT(l,u),g,h),o}_verifyReinsertion(o,l,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new qw),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class nT{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class qw{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new iT,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qw(s,o,l){const u=s.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class Xw{constructor(){}supports(o){return o instanceof Map||bp(o)}create(){return new rT}}class rT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||bp(o)))throw new Ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const u=new YA(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class YA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jw(){return new Qh([new Yw])}let Qh=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||Jw()),deps:[[s,new mt,new He]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new Ce(901,!1)}}return s.\u0275prov=Wt({token:s,providedIn:"root",factory:Jw}),s})();function Xc(){return new my([new Xw])}let my=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||Xc()),deps:[[s,new mt,new He]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(u)return u;throw new Ce(901,!1)}}return s.\u0275prov=Wt({token:s,providedIn:"root",factory:Xc}),s})();const aT=oy(null,"core",[]);let lT=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Dn(ig))},s.\u0275mod=tt({type:s}),s.\u0275inj=Ct({}),s})();function cT(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(nt,xe,B)=>{B.d(xe,{Z:()=>Ce});var b=B(2090),re=B(4859),L=B(9681),de=B(1877);class ae{constructor(ve,me){this._delegate=ve,this.firebase=me,(0,L._addComponent)(ve,new re.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ve,me=L._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(ve);return!Je.isInitialized()&&"EXPLICIT"===(null===(Ye=Je.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:me})}_removeServiceInstance(ve,me=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(me)}_addComponent(ve){(0,L._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,L._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function _e(){const Qe=function ge(Qe){const ve={},me={__esModule:!0,initializeApp:function Re($e,$={}){const ye=L.initializeApp($e,$);if((0,b.r3)(ve,ye.name))return ve[ye.name];const J=new Qe(ye,me);return ve[ye.name]=J,J},app:Je,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function De($e){const $=$e.name,ye=$.replace("-compat","");if(L._registerComponent($e)&&"PUBLIC"===$e.type){const J=(ie=Je())=>{if("function"!=typeof ie[ye])throw fe.create("invalid-app-argument",{appName:$});return ie[ye]()};void 0!==$e.serviceProps&&(0,b.ZB)(J,$e.serviceProps),me[ye]=J,Qe.prototype[ye]=function(...ie){return this._getService.bind(this,$).apply(this,$e.multipleInstances?ie:[])}}return"PUBLIC"===$e.type?me[ye]:null},removeApp:function Ye($e){delete ve[$e]},useAsService:function Ve($e,$){return"serverAuth"===$?null:$},modularAPIs:L}};function Je($e){if(!(0,b.r3)(ve,$e=$e||L._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:$e});return ve[$e]}return me.default=me,Object.defineProperty(me,"apps",{get:function Ee(){return Object.keys(ve).map($e=>ve[$e])}}),Je.App=Qe,me}(ae);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function ve(me){(0,b.ZB)(Qe,me)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),Qe}(),G=new de.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=W;!function Oe(Qe){(0,L.registerVersion)("@firebase/app-compat","0.1.34",Qe)}()},9681:(nt,xe,B)=>{B.r(xe),B.d(xe,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Qr,_DEFAULT_ENTRY_NAME:()=>Mt,_addComponent:()=>$t,_addOrOverwriteComponent:()=>Wt,_apps:()=>sn,_clearComponents:()=>Xs,_components:()=>An,_getProvider:()=>Ct,_registerComponent:()=>_i,_removeServiceInstance:()=>tn,deleteApp:()=>Js,getApp:()=>Ri,getApps:()=>ji,initializeApp:()=>wr,onLog:()=>Mr,registerVersion:()=>Pi,setLogLevel:()=>Mn});var b=B(5861),re=B(4859),L=B(1877),de=B(2090),ae=B(8766);class pe{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function fe(H){return"VERSION"===H.getComponent()?.type}(q)){const Se=q.getImmediate();return`${Se.library}/${Se.version}`}return null}).filter(q=>q).join(" ")}}const ge="@firebase/app",W=new L.Yd("@firebase/app"),Mt="[DEFAULT]",Ge={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,An=new Map;function $t(H,K){try{H.container.addComponent(K)}catch(q){W.debug(`Component ${K.name} failed to register with FirebaseApp ${H.name}`,q)}}function Wt(H,K){H.container.addOrOverwriteComponent(K)}function _i(H){const K=H.name;if(An.has(K))return W.debug(`There were multiple attempts to register component ${K}.`),!1;An.set(K,H);for(const q of sn.values())$t(q,H);return!0}function Ct(H,K){const q=H.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),H.container.getProvider(K)}function tn(H,K,q=Mt){Ct(H,K).clearInstance(q)}function Xs(){An.clear()}const hi=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mi{constructor(K,q,Se){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=Se,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}const Qr="9.10.0";function wr(H,K={}){"object"!=typeof K&&(K={name:K});const q=Object.assign({name:Mt,automaticDataCollectionEnabled:!1},K),Se=q.name;if("string"!=typeof Se||!Se)throw hi.create("bad-app-name",{appName:String(Se)});const je=sn.get(Se);if(je){if((0,de.vZ)(H,je.options)&&(0,de.vZ)(q,je.config))return je;throw hi.create("duplicate-app",{appName:Se})}const tt=new re.H0(Se);for(const Yt of An.values())tt.addComponent(Yt);const dn=new Mi(H,q,tt);return sn.set(Se,dn),dn}function Ri(H=Mt){const K=sn.get(H);if(!K)throw hi.create("no-app",{appName:H});return K}function ji(){return Array.from(sn.values())}function Js(H){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,b.Z)(function*(H){const K=H.name;sn.has(K)&&(sn.delete(K),yield Promise.all(H.container.getProviders().map(q=>q.delete())),H.isDeleted=!0)})).apply(this,arguments)}function Pi(H,K,q){var Se;let je=null!==(Se=Ge[H])&&void 0!==Se?Se:H;q&&(je+=`-${q}`);const tt=je.match(/\s|\//),dn=K.match(/\s|\//);if(tt||dn){const Yt=[`Unable to register library "${je}" with version "${K}":`];return tt&&Yt.push(`library name "${je}" contains illegal characters (whitespace or "/")`),tt&&dn&&Yt.push("and"),dn&&Yt.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void W.warn(Yt.join(" "))}_i(new re.wA(`${je}-version`,()=>({library:je,version:K}),"VERSION"))}function Mr(H,K){if(null!==H&&"function"!=typeof H)throw hi.create("invalid-log-argument");(0,L.Am)(H,K)}function Mn(H){(0,L.Ub)(H)}const Rn="firebase-heartbeat-store";let Ln=null;function un(){return Ln||(Ln=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(H,K)=>{0===K&&H.createObjectStore(Rn)}}).catch(H=>{throw hi.create("idb-open",{originalErrorMessage:H.message})})),Ln}function et(){return(et=(0,b.Z)(function*(H){var K;try{return(yield un()).transaction(Rn).objectStore(Rn).get(Xn(H))}catch(q){if(q instanceof de.ZR)W.warn(q.message);else{const Se=hi.create("idb-get",{originalErrorMessage:null===(K=q)||void 0===K?void 0:K.message});W.warn(Se.message)}}})).apply(this,arguments)}function on(H,K){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,b.Z)(function*(H,K){var q;try{const je=(yield un()).transaction(Rn,"readwrite");return yield je.objectStore(Rn).put(K,Xn(H)),je.done}catch(Se){if(Se instanceof de.ZR)W.warn(Se.message);else{const je=hi.create("idb-set",{originalErrorMessage:null===(q=Se)||void 0===q?void 0:q.message});W.warn(je.message)}}})).apply(this,arguments)}function Xn(H){return`${H.name}!${H.options.appId}`}class Rr{constructor(K){this.container=K,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new zt(q),this._heartbeatsCachePromise=this._storage.read().then(Se=>(this._heartbeatsCache=Se,Se))}triggerHeartbeat(){var K=this;return(0,b.Z)(function*(){const Se=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),je=Zt();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==je&&!K._heartbeatsCache.heartbeats.some(tt=>tt.date===je))return K._heartbeatsCache.heartbeats.push({date:je,agent:Se}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(tt=>{const dn=new Date(tt.date).valueOf();return Date.now()-dn<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,b.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const q=Zt(),{heartbeatsToSend:Se,unsentEntries:je}=function rr(H,K=1024){const q=[];let Se=H.slice();for(const je of H){const tt=q.find(dn=>dn.agent===je.agent);if(tt){if(tt.dates.push(je.date),Q(q)>K){tt.dates.pop();break}}else if(q.push({agent:je.agent,dates:[je.date]}),Q(q)>K){q.pop();break}Se=Se.slice(1)}return{heartbeatsToSend:q,unsentEntries:Se}}(K._heartbeatsCache.heartbeats),tt=(0,de.L)(JSON.stringify({version:2,heartbeats:Se}));return K._heartbeatsCache.lastSentHeartbeatDate=q,je.length>0?(K._heartbeatsCache.heartbeats=je,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),tt})()}}function Zt(){return(new Date).toISOString().substring(0,10)}class zt{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,b.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function ut(H){return et.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var q=this;return(0,b.Z)(function*(){var Se;if(yield q._canUseIndexedDBPromise){const tt=yield q.read();return on(q.app,{lastSentHeartbeatDate:null!==(Se=K.lastSentHeartbeatDate)&&void 0!==Se?Se:tt.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var q=this;return(0,b.Z)(function*(){var Se;if(yield q._canUseIndexedDBPromise){const tt=yield q.read();return on(q.app,{lastSentHeartbeatDate:null!==(Se=K.lastSentHeartbeatDate)&&void 0!==Se?Se:tt.lastSentHeartbeatDate,heartbeats:[...tt.heartbeats,...K.heartbeats]})}})()}}function Q(H){return(0,de.L)(JSON.stringify({version:2,heartbeats:H})).length}!function z(H){_i(new re.wA("platform-logger",K=>new pe(K),"PRIVATE")),_i(new re.wA("heartbeat",K=>new Rr(K),"PRIVATE")),Pi(ge,"0.7.33",H),Pi(ge,"0.7.33","esm2017"),Pi("fire-js","")}("")},4859:(nt,xe,B)=>{B.d(xe,{H0:()=>ge,wA:()=>L,zt:()=>ae});var b=B(5861),re=B(2090);class L{constructor(W,G,te){this.name=W,this.instanceFactory=G,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const de="[DEFAULT]";class ae{constructor(W,G){this.name=W,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const G=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(G)){const te=new re.BH;if(this.instancesDeferred.set(G,te),this.isInitialized(G)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:G});Be&&te.resolve(Be)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(W){var G;const te=this.normalizeInstanceIdentifier(W?.identifier),Be=null!==(G=W?.optional)&&void 0!==G&&G;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Oe){if(Be)return null;throw Oe}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function fe(_e){return"EAGER"===_e.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[G,te]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(G);try{const Oe=this.getOrInitializeService({instanceIdentifier:Be});te.resolve(Oe)}catch{}}}}clearInstance(W=de){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,b.Z)(function*(){const G=Array.from(W.instances.values());yield Promise.all([...G.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...G.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=de){return this.instances.has(W)}getOptions(W=de){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:G={}}=W,te=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:te,options:G});for(const[Oe,Ce]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Oe)&&Ce.resolve(Be);return Be}onInit(W,G){var te;const Be=this.normalizeInstanceIdentifier(G),Oe=null!==(te=this.onInitCallbacks.get(Be))&&void 0!==te?te:new Set;Oe.add(W),this.onInitCallbacks.set(Be,Oe);const Ce=this.instances.get(Be);return Ce&&W(Ce,Be),()=>{Oe.delete(W)}}invokeOnInitCallbacks(W,G){const te=this.onInitCallbacks.get(G);if(te)for(const Be of te)try{Be(W,G)}catch{}}getOrInitializeService({instanceIdentifier:W,options:G={}}){let te=this.instances.get(W);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=W,_e===de?void 0:_e),options:G}),this.instances.set(W,te),this.instancesOptions.set(W,G),this.invokeOnInitCallbacks(te,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,te)}catch{}var _e;return te||null}normalizeInstanceIdentifier(W=de){return this.component?this.component.multipleInstances?W:de:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const G=this.getProvider(W.name);if(G.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);G.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const G=new ae(W,this);return this.providers.set(W,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,xe,B)=>{B.d(xe,{Am:()=>_e,Ub:()=>ge,Yd:()=>fe,in:()=>re});const b=[];var re=(()=>{return(W=re||(re={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",re;var W})();const L={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},de=re.INFO,ae={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},pe=(W,G,...te)=>{if(G<W.logLevel)return;const Be=(new Date).toISOString(),Oe=ae[G];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Oe](`[${Be}]  ${W.name}:`,...te)};class fe{constructor(G){this.name=G,this._logLevel=de,this._logHandler=pe,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in re))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?L[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...G),this._logHandler(this,re.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...G),this._logHandler(this,re.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,re.INFO,...G),this._logHandler(this,re.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,re.WARN,...G),this._logHandler(this,re.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...G),this._logHandler(this,re.ERROR,...G)}}function ge(W){b.forEach(G=>{G.setLogLevel(W)})}function _e(W,G){for(const te of b){let Be=null;G&&G.level&&(Be=L[G.level]),te.userLogHandler=null===W?null:(Oe,Ce,...Qe)=>{const ve=Qe.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");Ce>=(Be??Oe.logLevel)&&W({level:re[Ce].toLowerCase(),message:ve,args:Qe,type:Oe.name})}}}},8766:(nt,xe,B)=>{B.d(xe,{Lj:()=>Re,X3:()=>Je});var b=B(5861);let L,de;const fe=new WeakMap,ge=new WeakMap,_e=new WeakMap,W=new WeakMap,G=new WeakMap;let Oe={get($,ye,J){if($ instanceof IDBTransaction){if("done"===ye)return ge.get($);if("objectStoreNames"===ye)return $.objectStoreNames||_e.get($);if("store"===ye)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return me($[ye])},set:($,ye,J)=>($[ye]=J,!0),has:($,ye)=>$ instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in $};function ve($){return"function"==typeof $?function Qe($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...ye){return $.apply(Ye(this),ye),me(fe.get(this))}:function(...ye){return me($.apply(Ye(this),ye))}:function(ye,...J){const ie=$.call(Ye(this),ye,...J);return _e.set(ie,ye.sort?ye.sort():[ye]),me(ie)}}($):($ instanceof IDBTransaction&&function Be($){if(ge.has($))return;const ye=new Promise((J,ie)=>{const le=()=>{$.removeEventListener("complete",oe),$.removeEventListener("error",Ne),$.removeEventListener("abort",Ne)},oe=()=>{J(),le()},Ne=()=>{ie($.error||new DOMException("AbortError","AbortError")),le()};$.addEventListener("complete",oe),$.addEventListener("error",Ne),$.addEventListener("abort",Ne)});ge.set($,ye)}($),(($,ye)=>ye.some(J=>$ instanceof J))($,function ae(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,Oe):$)}function me($){if($ instanceof IDBRequest)return function te($){const ye=new Promise((J,ie)=>{const le=()=>{$.removeEventListener("success",oe),$.removeEventListener("error",Ne)},oe=()=>{J(me($.result)),le()},Ne=()=>{ie($.error),le()};$.addEventListener("success",oe),$.addEventListener("error",Ne)});return ye.then(J=>{J instanceof IDBCursor&&fe.set(J,$)}).catch(()=>{}),G.set(ye,$),ye}($);if(W.has($))return W.get($);const ye=ve($);return ye!==$&&(W.set($,ye),G.set(ye,$)),ye}const Ye=$=>G.get($);function Je($,ye,{blocked:J,upgrade:ie,blocking:le,terminated:oe}={}){const Ne=indexedDB.open($,ye),ke=me(Ne);return ie&&Ne.addEventListener("upgradeneeded",ct=>{ie(me(Ne.result),ct.oldVersion,ct.newVersion,me(Ne.transaction))}),J&&Ne.addEventListener("blocked",()=>J()),ke.then(ct=>{oe&&ct.addEventListener("close",()=>oe()),le&&ct.addEventListener("versionchange",()=>le())}).catch(()=>{}),ke}function Re($,{blocked:ye}={}){const J=indexedDB.deleteDatabase($);return ye&&J.addEventListener("blocked",()=>ye()),me(J).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Ve=new Map;function $e($,ye){if(!($ instanceof IDBDatabase)||ye in $||"string"!=typeof ye)return;if(Ve.get(ye))return Ve.get(ye);const J=ye.replace(/FromIndex$/,""),ie=ye!==J,le=De.includes(J);if(!(J in(ie?IDBIndex:IDBObjectStore).prototype)||!le&&!Ee.includes(J))return;const oe=function(){var Ne=(0,b.Z)(function*(ke,...ct){const Lt=this.transaction(ke,le?"readwrite":"readonly");let Mt=Lt.store;return ie&&(Mt=Mt.index(ct.shift())),(yield Promise.all([Mt[J](...ct),le&&Lt.done]))[0]});return function(ct){return Ne.apply(this,arguments)}}();return Ve.set(ye,oe),oe}!function Ce($){Oe=$(Oe)}($=>({...$,get:(ye,J,ie)=>$e(ye,J)||$.get(ye,J,ie),has:(ye,J)=>!!$e(ye,J)||$.has(ye,J)}))},5861:(nt,xe,B)=>{function b(L,de,ae,pe,fe,ge,_e){try{var W=L[ge](_e),G=W.value}catch(te){return void ae(te)}W.done?de(G):Promise.resolve(G).then(pe,fe)}function re(L){return function(){var de=this,ae=arguments;return new Promise(function(pe,fe){var ge=L.apply(de,ae);function _e(G){b(ge,pe,fe,_e,W,"next",G)}function W(G){b(ge,pe,fe,_e,W,"throw",G)}_e(void 0)})}}B.d(xe,{Z:()=>re})}},nt=>{nt(nt.s=9102)}]);